{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的单文件（Single HTML File）一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n参考图片链接： \n图1“https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n图2“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n图3“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n#Functional Requirements (功能需求)\n用户应能够查看价格与优惠（价格），并选择数量加入购物车，也可管理购物车内容。\n页面支持商品分类展示与在线购买流程（渠道）。您还可以加入促销元素，如限时倒计时、库存提醒、热销标签和优惠卷（促销），进一步提升购物体验与趣味性。\n仅使用 HTML、CSS 和 JavaScript — 不要使用 Vue、React 或任何第三方库。\n使用 localStorage 保存购物车等数据，确保信息在刷新后保留。保持整体设计简洁、用户友好且富有吸引力。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "提炼春节促销活动核心目标（如点击率提升、加购率、转化率）并形成营销目标说明书",
              "总结 LYF 香瓜子产品的4P要素：产品亮点（小包装、组合装、春节送礼）、价格优势（限时优惠价）、渠道路径（移动端购买入口）、促销要素（倒计时、库存提醒）",
              "制定项目总体时间线与验收标准，并分配任务至 PM、Architect、Engineer"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "编写详细 PRD 文档，明确页面所需功能模块（商品展示区、价格区、购物车、倒计时、库存、优惠信息等）",
              "定义用户交互流程（浏览→选择数量→加购→查看购物车→结算）并输出线框流程图",
              "列出所有页面数据字段与交互逻辑，确保功能可实现性并对齐商业目标"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "设计网页的结构与模块划分方案（头部、主商品区、购物车逻辑、底部促销区）",
              "定义 localStorage 数据结构与前端状态管理方案，保证购物车与优惠逻辑持久化",
              "输出页面信息架构图与组件间关系文档"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "依据架构文档编写单文件可运行代码（HTML/CSS/JS），完成产品展示、购物车、本地存储、限时倒计时、库存提示等功能",
              "实现响应式布局与春节红色主调视觉效果，适配移动端用户体验",
              "测试购物流程的完整性与数据持久化效果，确保页面在常见浏览器中稳定运行"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节香瓜子葵花子促销页</title>\n<style>\n    body {\n        margin: 0;\n        font-family: 'Arial', sans-serif;\n        background-color: #fff5f5;\n        color: #333;\n    }\n    header {\n        background-color: #E4393C;\n        color: #fff;\n        padding: 1rem;\n        text-align: center;\n        font-size: 1.2rem;\n        position: sticky;\n        top: 0;\n        z-index: 1000;\n    }\n    .banner {\n        width: 100%;\n        overflow: hidden;\n    }\n    .banner img {\n        width: 100%;\n        display: block;\n    }\n    .container {\n        padding: 1rem;\n        max-width: 1200px;\n        margin: 0 auto;\n    }\n    .product-info {\n        display: flex;\n        flex-direction: column;\n        gap: 1rem;\n    }\n    .product-gallery {\n        display: flex;\n        gap: 0.5rem;\n        overflow-x: auto;\n    }\n    .product-gallery img {\n        width: 150px;\n        border-radius: 4px;\n        flex-shrink: 0;\n    }\n    .product-details {\n        background-color: #fff;\n        padding: 1rem;\n        border-radius: 8px;\n    }\n    .product-title {\n        font-size: 1.2rem;\n        font-weight: bold;\n    }\n    .product-spec {\n        font-size: 0.9rem;\n        color: #666;\n        margin-top: 0.5rem;\n    }\n    .product-selling-points {\n        margin-top: 1rem;\n        font-size: 0.95rem;\n        line-height: 1.4;\n        color: #444;\n    }\n    .price-section {\n        margin-top: 1rem;\n    }\n    .current-price {\n        font-size: 1.5rem;\n        color: #E4393C;\n        font-weight: bold;\n    }\n    .original-price {\n        font-size: 0.9rem;\n        color: #999;\n        text-decoration: line-through;\n        margin-left: 0.5rem;\n    }\n    .promo-label {\n        display: inline-block;\n        background-color: #FFD700;\n        color: #E4393C;\n        padding: 0.2rem 0.5rem;\n        border-radius: 4px;\n        font-size: 0.8rem;\n        margin-left: 0.5rem;\n    }\n    .purchase-section {\n        margin-top: 1rem;\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n    }\n    .quantity-input {\n        width: 50px;\n        padding: 0.3rem;\n        font-size: 1rem;\n        text-align: center;\n    }\n    .buy-button, .cart-button {\n        flex: 1;\n        background-color: #E4393C;\n        color: #fff;\n        border: none;\n        padding: 0.5rem;\n        border-radius: 4px;\n        font-size: 1rem;\n        cursor: pointer;\n    }\n    .cart-button {\n        background-color: #FF7F50;\n    }\n    .stock-info {\n        margin-top: 0.5rem;\n        font-size: 0.85rem;\n        color: #E4393C;\n    }\n    .countdown {\n        margin-top: 0.5rem;\n        font-size: 0.9rem;\n        color: #E4393C;\n    }\n    .cart-panel {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background-color: #fff;\n        border-top: 1px solid #ddd;\n        max-height: 40%;\n        overflow-y: auto;\n        padding: 1rem;\n    }\n    .cart-item {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 0.5rem;\n        font-size: 0.9rem;\n    }\n    .cart-item button {\n        background-color: transparent;\n        border: none;\n        color: #E4393C;\n        cursor: pointer;\n        font-size: 1rem;\n    }\n    @media (min-width: 768px) {\n        .product-info {\n            flex-direction: row;\n        }\n        .product-gallery {\n            flex-direction: column;\n            width: 30%;\n        }\n        .product-gallery img {\n            width: 100%;\n        }\n        .product-details {\n            flex: 1;\n        }\n    }\n</style>\n</head>\n<body>\n<header>\n    LYF 春节年货大促\n</header>\n<div class=\"banner\">\n    <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"春节促销banner\">\n</div>\n<div class=\"container\">\n    <div class=\"product-info\">\n        <div class=\"product-gallery\">\n            <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"产品图1\">\n            <img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\" alt=\"产品图2\">\n            <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"产品图3\">\n        </div>\n        <div class=\"product-details\">\n            <div class=\"product-title\">LYF 香瓜子葵花子（30g 小包装 / 10 包组合装）</div>\n            <div class=\"product-spec\">规格：30g×10包 | 净重：300g | 产地：中国</div>\n            <div class=\"product-selling-points\">\n                精选优质葵花籽，香脆可口，独立小包装，春节休闲零食必备！\n                年货礼盒佳品，分享亲友，回味无穷。\n            </div>\n            <div class=\"price-section\">\n                <span class=\"current-price\">¥16.9</span>\n                <span class=\"original-price\">¥29.9</span>\n                <span class=\"promo-label\">限时优惠</span>\n            </div>\n            <div class=\"stock-info\">库存紧张，仅剩 <span id=\"stock-count\">25</span> 份</div>\n            <div class=\"countdown\">促销倒计时：<span id=\"countdown-timer\"></span></div>\n            <div class=\"purchase-section\">\n                <input type=\"number\" class=\"quantity-input\" id=\"quantity\" value=\"1\" min=\"1\">\n                <button class=\"buy-button\" onclick=\"addToCart()\">加入购物车</button>\n                <button class=\"cart-button\" onclick=\"toggleCart()\">查看购物车</button>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"cart-panel\" id=\"cart-panel\" style=\"display: none;\">\n    <div id=\"cart-items\"></div>\n</div>\n<script>\n    const promoEndTime = new Date();\n    promoEndTime.setHours(promoEndTime.getHours() + 2); \n    const countdownTimerEl = document.getElementById('countdown-timer');\n    function updateCountdown() {\n        const now = new Date();\n        const diff = promoEndTime - now;\n        if (diff <= 0) {\n            countdownTimerEl.textContent = \"已结束\";\n            return;\n        }\n        const hours = Math.floor(diff / 1000 / 60 / 60);\n        const minutes = Math.floor((diff / 1000 / 60) % 60);\n        const seconds = Math.floor((diff / 1000) % 60);\n        countdownTimerEl.textContent = `${hours}小时 ${minutes}分 ${seconds}秒`;\n    }\n    setInterval(updateCountdown, 1000);\n    updateCountdown();\n\n    function getCart() {\n        const cart = localStorage.getItem('cart');\n        return cart ? JSON.parse(cart) : [];\n    }\n    function saveCart(cart) {\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }\n    function addToCart() {\n        const quantity = parseInt(document.getElementById('quantity').value, 10);\n        if (quantity < 1) return;\n        let cart = getCart();\n        const productId = 'lyf瓜子';\n        const existing = cart.find(item => item.id === productId);\n        if (existing) {\n            existing.quantity += quantity;\n        } else {\n            cart.push({id: productId, name: '香瓜子葵花子', price: 16.9, quantity: quantity});\n        }\n        saveCart(cart);\n        alert('已加入购物车！');\n    }\n    function renderCart() {\n        const cartItemsEl = document.getElementById('cart-items');\n        const cart = getCart();\n        cartItemsEl.innerHTML = '';\n        cart.forEach((item, index) => {\n            const div = document.createElement('div');\n            div.className = 'cart-item';\n            div.innerHTML = `\n                <span>${item.name} × ${item.quantity} (¥${item.price})</span>\n                <button onclick=\"removeFromCart(${index})\">删除</button>\n            `;\n            cartItemsEl.appendChild(div);\n        });\n        if (cart.length === 0) {\n            cartItemsEl.innerHTML = '<p>购物车为空</p>';\n        }\n    }\n    function removeFromCart(index) {\n        let cart = getCart();\n        cart.splice(index, 1);\n        saveCart(cart);\n        renderCart();\n    }\n    function toggleCart() {\n        const panel = document.getElementById('cart-panel');\n        if (panel.style.display === 'none') {\n            renderCart();\n            panel.style.display = 'block';\n        } else {\n            panel.style.display = 'none';\n        }\n    }\n</script>\n</body>\n</html>"
    }
  ]
}