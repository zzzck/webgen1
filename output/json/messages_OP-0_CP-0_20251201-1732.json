{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的单文件（Single HTML File）一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n参考图片链接： \n图1“https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n图2“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n图3“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n#Functional Requirements (功能需求)\n用户应能够查看价格与优惠（价格），并选择数量加入购物车，也可管理购物车内容。\n页面支持商品分类展示与在线购买流程（渠道）。您还可以加入促销元素，如限时倒计时、库存提醒、热销标签和优惠卷（促销），进一步提升购物体验与趣味性。\n仅使用 HTML、CSS 和 JavaScript — 不要使用 Vue、React 或任何第三方库。\n使用 localStorage 保存购物车等数据，确保信息在刷新后保留。保持整体设计简洁、用户友好且富有吸引力。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求，识别交付成果为单文件春节零食电商销售网页",
              "明确网页需涵盖4P营销要素（产品、价格、渠道、促销）",
              "定义产品核心卖点与目标用户：春节送礼/自用，LYF品牌香瓜子葵花子，喜庆红色调",
              "确认功能需求：价格与优惠展示、数量选择与购物车管理、商品分类与购买流程、促销元素（倒计时、库存提醒、热销标签、优惠券）",
              "制定设计基调：参考京东/天猫移动端风格，春节红主题，突出紧迫感与热闹氛围",
              "分配实现任务给Engineer，确保HTML/CSS/JS单文件实现且包含localStorage用于购物车数据保存"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "搭建单文件结构（HTML 内嵌 CSS 与 JavaScript）",
              "实现产品展示板块：图片外观、规格介绍、卖点文案",
              "实现价格板块：现价、原价对比、优惠信息动态化",
              "实现渠道板块：购买按钮、购物车数量选择、购物流程指引",
              "实现促销板块：限时倒计时、库存提醒、热销标签、优惠券弹窗",
              "实现购物车功能（添加、删除、数量修改）并用localStorage存储持久化",
              "优化移动端浏览体验，响应式布局，确保加载速度与交互流畅",
              "测试并确保页面在主流移动浏览器正常运行"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<title>LYF 春节香瓜子葵花子大促</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<style>\n    body {\n        margin: 0;\n        font-family: Arial, sans-serif;\n        background-color: #fff5f5;\n        color: #333;\n    }\n    header {\n        background-color: #E4393C;\n        color: white;\n        padding: 1rem;\n        text-align: center;\n        font-size: 1.5rem;\n        font-weight: bold;\n    }\n    .product-container {\n        padding: 1rem;\n    }\n    .product-images {\n        display: flex;\n        overflow-x: auto;\n        gap: 10px;\n    }\n    .product-images img {\n        height: 200px;\n        border-radius: 8px;\n    }\n    .product-info {\n        margin-top: 1rem;\n        background: white;\n        padding: 1rem;\n        border-radius: 8px;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n    }\n    .product-title {\n        font-size: 1.2rem;\n        font-weight: bold;\n        color: #E4393C;\n    }\n    .product-spec {\n        margin: 0.5rem 0;\n        font-size: 0.9rem;\n        color: #555;\n    }\n    .product-highlight {\n        background: #fff3f0;\n        padding: 0.5rem;\n        border-radius: 5px;\n        color: #E4393C;\n        font-weight: bold;\n        margin-bottom: 1rem;\n    }\n    .price {\n        font-size: 1.5rem;\n        color: #E4393C;\n        font-weight: bold;\n    }\n    .old-price {\n        text-decoration: line-through;\n        color: #999;\n        margin-left: 0.5rem;\n    }\n    .promo {\n        background: #ffdfc4;\n        padding: 0.3rem 0.6rem;\n        border-radius: 4px;\n        font-size: 0.85rem;\n        margin-left: 0.5rem;\n        color: #b14000;\n    }\n    .countdown {\n        font-size: 0.9rem;\n        color: #E4393C;\n        margin-top: 0.5rem;\n    }\n    .stock {\n        font-size: 0.85rem;\n        color: #666;\n        margin-top: 0.3rem;\n    }\n    .buy-section {\n        margin-top: 1rem;\n        display: flex;\n        align-items: center;\n        gap: 10px;\n    }\n    .buy-section input {\n        width: 50px;\n        padding: 0.3rem;\n        text-align: center;\n    }\n    .buy-btn {\n        background: #E4393C;\n        color: white;\n        border: none;\n        padding: 0.5rem 1rem;\n        border-radius: 5px;\n        cursor: pointer;\n    }\n    .buy-btn:hover {\n        background: #c62828;\n    }\n    .cart-container {\n        margin-top: 2rem;\n        padding: 1rem;\n        background: white;\n        border-radius: 8px;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n    }\n    .cart-title {\n        font-weight: bold;\n        font-size: 1.2rem;\n        margin-bottom: 1rem;\n    }\n    .cart-item {\n        display: flex;\n        justify-content: space-between;\n        border-bottom: 1px solid #eee;\n        padding: 0.5rem 0;\n        font-size: 0.95rem;\n    }\n    .cart-actions button {\n        background: #E4393C;\n        color: white;\n        border: none;\n        padding: 0.3rem 0.6rem;\n        border-radius: 4px;\n        cursor: pointer;\n        font-size: 0.8rem;\n        margin-left: 5px;\n    }\n    nav {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: #fff;\n        box-shadow: 0 -2px 6px rgba(0,0,0,0.1);\n        display: flex;\n        justify-content: space-around;\n        padding: 0.5rem 0;\n    }\n    nav a {\n        text-decoration: none;\n        color: #555;\n        font-size: 0.85rem;\n        text-align: center;\n    }\n    nav a.active {\n        color: #E4393C;\n    }\n</style>\n</head>\n<body>\n\n<header>LYF 春节香瓜子葵花子大促</header>\n\n<div class=\"product-container\">\n    <div class=\"product-images\">\n        <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"香瓜子葵花子1\">\n        <img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\" alt=\"香瓜子葵花子2\">\n        <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"香瓜子葵花子3\">\n    </div>\n    <div class=\"product-info\">\n        <div class=\"product-title\">LYF 香瓜子葵花子 30g*10包</div>\n        <div class=\"product-spec\">小包装携带方便 | 甄选优质瓜子 | 新春必备零食</div>\n        <div class=\"product-highlight\">限时抢购，错过不再！热销爆款</div>\n        <div>\n            <span class=\"price\">¥16.9</span>\n            <span class=\"old-price\">¥29.9</span>\n            <span class=\"promo\">立省13元</span>\n        </div>\n        <div class=\"countdown\">距活动结束：<span id=\"countdown-timer\"></span></div>\n        <div class=\"stock\">库存剩余：<span id=\"stock-count\">25</span> 组</div>\n        <div class=\"buy-section\">\n            <label for=\"quantity\">数量</label>\n            <input type=\"number\" id=\"quantity\" min=\"1\" value=\"1\">\n            <button class=\"buy-btn\" onclick=\"addToCart()\">加入购物车</button>\n        </div>\n    </div>\n\n    <div class=\"cart-container\">\n        <div class=\"cart-title\">购物车</div>\n        <div id=\"cart-items\"></div>\n        <div id=\"cart-total\"></div>\n    </div>\n</div>\n\n<nav>\n    <a href=\"#\" class=\"active\">首页</a>\n    <a href=\"#\">分类</a>\n    <a href=\"#\">购物车</a>\n    <a href=\"#\">我的</a>\n</nav>\n\n<script>\n    const endTime = new Date();\n    endTime.setHours(endTime.getHours() + 1); // 限时1小时\n    function updateCountdown() {\n        const now = new Date();\n        const diff = endTime - now;\n        if (diff <= 0) {\n            document.getElementById('countdown-timer').textContent = '活动已结束';\n            return;\n        }\n        const h = String(Math.floor(diff / (1000*60*60))).padStart(2,'0');\n        const m = String(Math.floor((diff % (1000*60*60))/(1000*60))).padStart(2,'0');\n        const s = String(Math.floor((diff % (1000*60))/1000)).padStart(2,'0');\n        document.getElementById('countdown-timer').textContent = `${h}:${m}:${s}`;\n    }\n    setInterval(updateCountdown, 1000);\n    updateCountdown();\n\n    function loadCart() {\n        const cartData = JSON.parse(localStorage.getItem('cart') || '[]');\n        const cartContainer = document.getElementById('cart-items');\n        cartContainer.innerHTML = '';\n        let total = 0;\n        cartData.forEach((item, index) => {\n            total += item.price * item.quantity;\n            const div = document.createElement('div');\n            div.className = 'cart-item';\n            div.innerHTML = `\n                <span>${item.name} x ${item.quantity}</span>\n                <span>¥${(item.price * item.quantity).toFixed(2)}\n                <span class=\"cart-actions\">\n                    <button onclick=\"removeItem(${index})\">删除</button>\n                </span>\n                </span>\n            `;\n            cartContainer.appendChild(div);\n        });\n        document.getElementById('cart-total').textContent = '总价：¥' + total.toFixed(2);\n    }\n\n    function addToCart() {\n        const quantity = parseInt(document.getElementById('quantity').value);\n        const stockCountElem = document.getElementById('stock-count');\n        let stock = parseInt(stockCountElem.textContent);\n        if (quantity > stock) {\n            alert('库存不足！');\n            return;\n        }\n        stock -= quantity;\n        stockCountElem.textContent = stock;\n\n        const cartData = JSON.parse(localStorage.getItem('cart') || '[]');\n        const productName = 'LYF 香瓜子葵花子 30g*10包';\n        const productPrice = 16.9;\n        const existingIndex = cartData.findIndex(p => p.name === productName);\n        if (existingIndex >= 0) {\n            cartData[existingIndex].quantity += quantity;\n        } else {\n            cartData.push({ name: productName, price: productPrice, quantity: quantity });\n        }\n        localStorage.setItem('cart', JSON.stringify(cartData));\n        loadCart();\n    }\n\n    function removeItem(index) {\n        const cartData = JSON.parse(localStorage.getItem('cart') || '[]');\n        const removedQty = cartData[index].quantity;\n        cartData.splice(index, 1);\n        localStorage.setItem('cart', JSON.stringify(cartData));\n        const stockElem = document.getElementById('stock-count');\n        stockElem.textContent = parseInt(stockElem.textContent) + removedQty;\n        loadCart();\n    }\n\n    loadCart();\n</script>\n\n</body>\n</html>"
    }
  ]
}