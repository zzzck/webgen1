{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的单文件（Single HTML File）一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n主页图片链接： “https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n#Functional Requirements (功能需求)\n用户应能够查看价格与优惠（价格），并选择数量加入购物车，也可管理购物车内容。\n页面支持商品分类展示与在线购买流程（渠道）。您还可以加入促销元素，如限时倒计时、库存提醒、热销标签和优惠卷（促销），进一步提升购物体验与趣味性。\n仅使用 HTML、CSS 和 JavaScript — 不要使用 Vue、React 或任何第三方库。\n使用 localStorage 保存购物车等数据，确保信息在刷新后保留。保持整体设计简洁、用户友好且富有吸引力。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "提炼春节年货大促网页的核心商业目标（提升点击率、加购率、成交转化率）",
              "分析产品卖点（香瓜子葵花子规格、优惠价、喜庆设计）并定义目标用户群特征",
              "将营销目标转化为电商网页功能清单并制定总制作流程",
              "分配任务至 PM、Architect、Engineer 并设定交付质量标准"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "撰写 PRD 文档，覆盖业务背景、4P 营销要素、功能清单、性能指标",
              "定义电商购买流程（商品浏览→数量选择→购物车→结算）并制定时间表",
              "收集并确认页面素材（主页图片、价格、促销标签、品牌 Logo）",
              "协调跨角色沟通，确保需求理解一致，更新风险与进度记录"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "设计页面信息架构，明确产品区、价格区、渠道入口、促销区的布局",
              "制定 HTML/CSS/JavaScript 模块划分及命名规范，确保单文件可维护性",
              "规划数据存储方案（localStorage）实现购物车持久化",
              "绘制交互流程图，包括库存提醒、倒计时、优惠券弹窗触发逻辑"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "编写单文件 HTML/CSS/JavaScript 完成电商页面可视化与交互实现",
              "开发价格展示、数量选择、购物车管理等功能模块并接入 localStorage",
              "实现促销元素（限时倒计时、库存动态更新、热销标签、优惠券弹窗）",
              "进行移动端适配测试，优化加载速度与交互流畅度，交付可上线代码"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节香瓜子大促</title>\n<style>\n    body {\n        margin: 0;\n        font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n        background-color: #fff5f5;\n        color: #333;\n    }\n    header {\n        background-color: #E4393C;\n        color: #fff;\n        text-align: center;\n        padding: 1rem;\n    }\n    header h1 {\n        margin: 0;\n        font-size: 1.5rem;\n        letter-spacing: 1px;\n    }\n    main {\n        max-width: 768px;\n        margin: 0 auto;\n        padding: 1rem;\n    }\n    .product-section {\n        background-color: #fff;\n        border-radius: 8px;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        padding: 1rem;\n        margin-bottom: 1rem;\n    }\n    .product-image {\n        width: 100%;\n        border-radius: 8px;\n    }\n    .product-info h2 {\n        font-size: 1.2rem;\n        color: #E4393C;\n        margin: 0.5rem 0;\n    }\n    .product-info p {\n        font-size: 0.9rem;\n        line-height: 1.4;\n    }\n    .price-section {\n        display: flex;\n        align-items: baseline;\n        gap: 0.5rem;\n        margin-top: 0.5rem;\n    }\n    .current-price {\n        font-size: 1.5rem;\n        color: #E4393C;\n        font-weight: bold;\n    }\n    .original-price {\n        font-size: 0.9rem;\n        text-decoration: line-through;\n        color: #999;\n    }\n    .promo-tag {\n        display: inline-block;\n        background-color: #ffdf00;\n        color: #E4393C;\n        padding: 0.2rem 0.5rem;\n        border-radius: 4px;\n        font-size: 0.8rem;\n        margin-top: 0.5rem;\n    }\n    .stock-info {\n        font-size: 0.85rem;\n        color: #555;\n        margin-top: 0.5rem;\n    }\n    .countdown {\n        font-size: 0.9rem;\n        margin-top: 0.5rem;\n        color: #E4393C;\n        font-weight: bold;\n    }\n    .purchase-section {\n        margin-top: 1rem;\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n    }\n    .quantity-input {\n        width: 60px;\n        padding: 0.3rem;\n        font-size: 1rem;\n        text-align: center;\n        border: 1px solid #ccc;\n        border-radius: 4px;\n    }\n    .add-to-cart-btn {\n        flex: 1;\n        padding: 0.5rem;\n        font-size: 1rem;\n        background-color: #E4393C;\n        color: #fff;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n    .cart-section {\n        background-color: #fff;\n        border-radius: 8px;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        padding: 1rem;\n        margin-bottom: 1rem;\n    }\n    .cart-section h3 {\n        font-size: 1rem;\n        margin-top: 0;\n    }\n    .cart-item {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0.5rem 0;\n        border-bottom: 1px solid #f0f0f0;\n    }\n    .cart-item span {\n        font-size: 0.9rem;\n    }\n    .remove-btn {\n        background-color: transparent;\n        border: none;\n        color: #E4393C;\n        cursor: pointer;\n        font-size: 0.9rem;\n    }\n    .checkout-btn {\n        margin-top: 0.5rem;\n        width: 100%;\n        padding: 0.5rem;\n        font-size: 1rem;\n        background-color: #ff8000;\n        color: #fff;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n    @media (max-width: 480px) {\n        .price-section {\n            flex-direction: column;\n            align-items: flex-start;\n        }\n        .purchase-section {\n            flex-direction: column;\n            align-items: stretch;\n        }\n        .add-to-cart-btn {\n            width: 100%;\n        }\n    }\n</style>\n</head>\n<body>\n<header>\n    <h1>LYF 春节年货大促</h1>\n</header>\n<main>\n    <section class=\"product-section\">\n        <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"香瓜子葵花子\" class=\"product-image\">\n        <div class=\"product-info\">\n            <h2>香瓜子葵花子 30g*10包</h2>\n            <p>精选优质葵花籽，香脆可口，春节零食必备！小包装方便携带，适合全家分享。</p>\n            <div class=\"price-section\">\n                <span class=\"current-price\">¥16.9</span>\n                <span class=\"original-price\">¥29.9</span>\n            </div>\n            <div class=\"promo-tag\">限时优惠</div>\n            <div class=\"stock-info\">库存紧张，仅剩 <span id=\"stock-count\">50</span> 份</div>\n            <div class=\"countdown\">活动剩余：<span id=\"countdown-timer\">00:00:00</span></div>\n            <div class=\"purchase-section\">\n                <input type=\"number\" id=\"quantity\" class=\"quantity-input\" min=\"1\" value=\"1\">\n                <button class=\"add-to-cart-btn\" id=\"add-to-cart\">加入购物车</button>\n            </div>\n        </div>\n    </section>\n    <section class=\"cart-section\">\n        <h3>购物车</h3>\n        <div id=\"cart-items\"></div>\n        <button class=\"checkout-btn\" id=\"checkout\">去结算</button>\n    </section>\n</main>\n<script>\n    const stockCountEl = document.getElementById('stock-count');\n    const countdownEl = document.getElementById('countdown-timer');\n    const quantityEl = document.getElementById('quantity');\n    const addToCartBtn = document.getElementById('add-to-cart');\n    const cartItemsEl = document.getElementById('cart-items');\n    const checkoutBtn = document.getElementById('checkout');\n    \n    let stockCount = parseInt(localStorage.getItem('stockCount')) || 50;\n    stockCountEl.textContent = stockCount;\n\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n\n    function renderCart() {\n        cartItemsEl.innerHTML = '';\n        if (cart.length === 0) {\n            cartItemsEl.innerHTML = '<p>购物车空空如也</p>';\n            return;\n        }\n        cart.forEach((item, index) => {\n            const div = document.createElement('div');\n            div.className = 'cart-item';\n            div.innerHTML = `\n                <span>${item.name} x ${item.quantity}</span>\n                <span>¥${(item.price * item.quantity).toFixed(2)}</span>\n                <button class=\"remove-btn\" onclick=\"removeFromCart(${index})\">移除</button>\n            `;\n            cartItemsEl.appendChild(div);\n        });\n    }\n\n    function removeFromCart(index) {\n        stockCount += cart[index].quantity;\n        localStorage.setItem('stockCount', stockCount);\n        cart.splice(index, 1);\n        localStorage.setItem('cart', JSON.stringify(cart));\n        stockCountEl.textContent = stockCount;\n        renderCart();\n    }\n\n    addToCartBtn.addEventListener('click', () => {\n        const quantity = parseInt(quantityEl.value);\n        if (quantity > stockCount) {\n            alert('库存不足');\n            return;\n        }\n        stockCount -= quantity;\n        localStorage.setItem('stockCount', stockCount);\n        stockCountEl.textContent = stockCount;\n        cart.push({ name: '香瓜子葵花子 30g*10包', price: 16.9, quantity });\n        localStorage.setItem('cart', JSON.stringify(cart));\n        renderCart();\n    });\n\n    checkoutBtn.addEventListener('click', () => {\n        if (cart.length === 0) {\n            alert('购物车为空');\n            return;\n        }\n        alert('感谢您的购买！');\n        cart = [];\n        localStorage.setItem('cart', JSON.stringify(cart));\n        renderCart();\n    });\n\n    function startCountdown(duration) {\n        let timer = duration, hours, minutes, seconds;\n        setInterval(() => {\n            hours = parseInt(timer / 3600, 10);\n            minutes = parseInt((timer % 3600) / 60, 10);\n            seconds = parseInt(timer % 60, 10);\n\n            hours = hours < 10 ? \"0\" + hours : hours;\n            minutes = minutes < 10 ? \"0\" + minutes : minutes;\n            seconds = seconds < 10 ? \"0\" + seconds : seconds;\n            countdownEl.textContent = hours + \":\" + minutes + \":\" + seconds;\n\n            if (--timer < 0) {\n                timer = 0;\n            }\n        }, 1000);\n    }\n\n    renderCart();\n    startCountdown(3600); // 1小时倒计时\n</script>\n</body>\n</html>"
    }
  ]
}