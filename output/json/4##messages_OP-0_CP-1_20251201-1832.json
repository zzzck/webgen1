{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的单文件（Single HTML File）一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n主页图片链接： “https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n#Functional Requirements (功能需求)\n用户应能够查看价格与优惠（价格），并选择数量加入购物车，也可管理购物车内容。\n页面支持商品分类展示与在线购买流程（渠道）。您还可以加入促销元素，如限时倒计时、库存提醒、热销标签和优惠卷（促销），进一步提升购物体验与趣味性。\n仅使用 HTML、CSS 和 JavaScript — 不要使用 Vue、React 或任何第三方库。\n使用 localStorage 保存购物车等数据，确保信息在刷新后保留。保持整体设计简洁、用户友好且富有吸引力。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "提炼客户业务简报中的核心卖点（产品规格、价格优势、节日促销氛围）并对齐提升点击率、加购率、转化率的目标",
              "根据营销目标制定整体网页制作计划并分配任务给 PM、Architect、Engineer 确保链路连续性"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "编写详细 PRD，列出网页必备功能（响应式布局、购物车管理、促销元素展示）与商业转化指标",
              "定义页面模块与信息架构，确保包含产品、价格、渠道、促销的完整展示逻辑和用户操作路径"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "设计页面结构规范，明确 HTML 区块层级及 CSS 样式命名规则以适配春节红主题",
              "制定 JavaScript 功能模块方案（购物车数据存储、库存与倒计时逻辑、交互事件绑定）保障前端功能完整性与扩展性"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "编写单文件 HTML/CSS/JS 电商销售页面代码，实现4P要素与交互功能符合 PRD 要求",
              "实现购物车数据持久化（使用 localStorage）、库存与倒计时动态更新、促销标签展示并进行跨设备测试保证页面稳定"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>LYF春节香瓜子特惠</title>\n    <style>\n        body {\n            margin: 0;\n            font-family: Arial, Helvetica, sans-serif;\n            background-color: #fff5f5;\n            color: #333;\n        }\n        header {\n            background-color: #E4393C;\n            color: #fff;\n            padding: 1rem;\n            text-align: center;\n        }\n        header h1 {\n            margin: 0;\n            font-size: 1.5rem;\n        }\n        .product-section {\n            background-color: #fff;\n            margin: 1rem;\n            border-radius: 8px;\n            overflow: hidden;\n            box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n        }\n        .product-image img {\n            width: 100%;\n            display: block;\n        }\n        .product-info {\n            padding: 1rem;\n        }\n        .product-info h2 {\n            margin: 0 0 0.5rem;\n            font-size: 1.2rem;\n            color: #E4393C;\n        }\n        .product-spec {\n            font-size: 0.9rem;\n            color: #666;\n            margin-bottom: 0.5rem;\n        }\n        .product-desc {\n            font-size: 1rem;\n            margin-bottom: 0.5rem;\n            color: #444;\n        }\n        .price-box {\n            display: flex;\n            align-items: baseline;\n            margin-bottom: 0.5rem;\n        }\n        .current-price {\n            color: #E4393C;\n            font-size: 1.4rem;\n            margin-right: 0.5rem;\n        }\n        .original-price {\n            text-decoration: line-through;\n            color: #999;\n            font-size: 0.9rem;\n        }\n        .promo-labels {\n            margin-bottom: 1rem;\n        }\n        .promo-label {\n            display: inline-block;\n            background-color: #FFD700;\n            color: #E4393C;\n            padding: 0.2rem 0.5rem;\n            border-radius: 4px;\n            font-size: 0.8rem;\n            margin-right: 0.3rem;\n        }\n        .buy-section {\n            display: flex;\n            align-items: center;\n            margin-bottom: 1rem;\n        }\n        .buy-section input {\n            width: 60px;\n            margin-right: 0.5rem;\n            padding: 0.3rem;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            text-align: center;\n        }\n        .btn {\n            background-color: #E4393C;\n            color: #fff;\n            border: none;\n            padding: 0.5rem 1rem;\n            border-radius: 4px;\n            font-size: 1rem;\n            cursor: pointer;\n        }\n        .btn:disabled {\n            background-color: #ccc;\n            cursor: not-allowed;\n        }\n        .countdown, .stock {\n            font-size: 0.9rem;\n            margin-bottom: 0.3rem;\n            color: #E4393C;\n        }\n        .cart-section {\n            background-color: #fff;\n            margin: 1rem;\n            border-radius: 8px;\n            padding: 1rem;\n            box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n        }\n        .cart-section h3 {\n            margin-top: 0;\n            font-size: 1.1rem;\n            color: #E4393C;\n        }\n        .cart-items {\n            list-style: none;\n            padding: 0;\n            margin: 0;\n        }\n        .cart-items li {\n            display: flex;\n            justify-content: space-between;\n            padding: 0.5rem 0;\n            border-bottom: 1px solid #eee;\n            font-size: 0.9rem;\n        }\n        .cart-summary {\n            text-align: right;\n            margin-top: 1rem;\n            font-size: 1rem;\n            color: #E4393C;\n        }\n        @media (min-width: 768px) {\n            .product-section {\n                display: flex;\n            }\n            .product-image, .product-info {\n                flex: 1;\n            }\n            .product-image img {\n                height: 100%;\n                object-fit: cover;\n            }\n        }\n    </style>\n</head>\n<body>\n    <header>\n        <h1>LYF 春节香瓜子大促</h1>\n    </header>\n    <section class=\"product-section\">\n        <div class=\"product-image\">\n            <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"香瓜子葵花子\">\n        </div>\n        <div class=\"product-info\">\n            <h2>香瓜子葵花子</h2>\n            <div class=\"product-spec\">30g小包装 × 10包组合装</div>\n            <div class=\"product-desc\">精选优质葵花籽，香脆可口，春节佳品，送礼自享皆宜。</div>\n            <div class=\"price-box\">\n                <div class=\"current-price\">¥16.9</div>\n                <div class=\"original-price\">¥29.9</div>\n            </div>\n            <div class=\"promo-labels\">\n                <span class=\"promo-label\">限时特惠</span>\n                <span class=\"promo-label\">热销爆款</span>\n                <span class=\"promo-label\">领券立减</span>\n            </div>\n            <div class=\"countdown\">距离活动结束：<span id=\"countdown-timer\"></span></div>\n            <div class=\"stock\">库存剩余：<span id=\"stock-count\"></span> 件</div>\n            <div class=\"buy-section\">\n                <input type=\"number\" id=\"buy-qty\" min=\"1\" value=\"1\">\n                <button class=\"btn\" id=\"add-to-cart-btn\">加入购物车</button>\n            </div>\n        </div>\n    </section>\n    <section class=\"cart-section\">\n        <h3>购物车</h3>\n        <ul class=\"cart-items\" id=\"cart-items\"></ul>\n        <div class=\"cart-summary\">总计：¥<span id=\"cart-total\">0.00</span></div>\n    </section>\n    <script>\n        const stockTotal = 50;\n        let stockLeft = localStorage.getItem('stockLeft') ? parseInt(localStorage.getItem('stockLeft')) : stockTotal;\n        const cart = JSON.parse(localStorage.getItem('cart')) || [];\n        const price = 16.9;\n\n        const stockCountEl = document.getElementById('stock-count');\n        const cartItemsEl = document.getElementById('cart-items');\n        const cartTotalEl = document.getElementById('cart-total');\n        const addToCartBtn = document.getElementById('add-to-cart-btn');\n\n        function updateStockDisplay() {\n            stockCountEl.textContent = stockLeft;\n            addToCartBtn.disabled = stockLeft <= 0;\n        }\n\n        function renderCart() {\n            cartItemsEl.innerHTML = '';\n            let total = 0;\n            cart.forEach((item, index) => {\n                const li = document.createElement('li');\n                li.innerHTML = `\n                    ${item.name} × ${item.qty}\n                    <span>\n                        ¥${(item.qty * price).toFixed(2)} \n                        <button onclick=\"removeFromCart(${index})\" style=\"background:none;border:none;color:#E4393C;cursor:pointer;\">删除</button>\n                    </span>\n                `;\n                total += item.qty * price;\n                cartItemsEl.appendChild(li);\n            });\n            cartTotalEl.textContent = total.toFixed(2);\n            localStorage.setItem('cart', JSON.stringify(cart));\n        }\n\n        function addToCart() {\n            const qty = parseInt(document.getElementById('buy-qty').value);\n            if (qty > 0 && qty <= stockLeft) {\n                cart.push({ name: '香瓜子葵花子', qty: qty });\n                stockLeft -= qty;\n                localStorage.setItem('stockLeft', stockLeft);\n                renderCart();\n                updateStockDisplay();\n            } else {\n                alert('库存不足或数量无效');\n            }\n        }\n\n        function removeFromCart(index) {\n            stockLeft += cart[index].qty;\n            cart.splice(index, 1);\n            localStorage.setItem('stockLeft', stockLeft);\n            renderCart();\n            updateStockDisplay();\n        }\n\n        addToCartBtn.addEventListener('click', addToCart);\n\n        // 倒计时\n        const countdownEl = document.getElementById('countdown-timer');\n        let endTime = localStorage.getItem('endTime');\n        if (!endTime) {\n            endTime = new Date().getTime() + (2 * 60 * 60 * 1000); // 2小时后\n            localStorage.setItem('endTime', endTime);\n        }\n        function updateCountdown() {\n            const now = new Date().getTime();\n            const distance = endTime - now;\n            if (distance <= 0) {\n                countdownEl.textContent = '活动已结束';\n                addToCartBtn.disabled = true;\n                return;\n            }\n            const hours = Math.floor((distance / (1000 * 60 * 60)) % 24);\n            const minutes = Math.floor((distance / (1000 * 60)) % 60);\n            const seconds = Math.floor((distance / 1000) % 60);\n            countdownEl.textContent = `${hours}小时${minutes}分${seconds}秒`;\n        }\n        setInterval(updateCountdown, 1000);\n\n        updateStockDisplay();\n        renderCart();\n        updateCountdown();\n    </script>\n</body>\n</html>"
    }
  ]
}