{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的单文件（Single HTML File）一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n主页图片链接： “https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n#Functional Requirements (功能需求)\n用户应能够查看价格与优惠（价格），并选择数量加入购物车，也可管理购物车内容。\n页面支持商品分类展示与在线购买流程（渠道）。您还可以加入促销元素，如限时倒计时、库存提醒、热销标签和优惠卷（促销），进一步提升购物体验与趣味性。\n仅使用 HTML、CSS 和 JavaScript — 不要使用 Vue、React 或任何第三方库。\n使用 localStorage 保存购物车等数据，确保信息在刷新后保留。保持整体设计简洁、用户友好且富有吸引力。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "分析客户简报并提炼春节零食电商页面的核心卖点与预期转化目标（提升点击率、加购率、成交转化率）",
              "拆解4P营销要素为具体网页内容与交互需求，形成明确任务列表",
              "制定整体制作链路和时间计划，分配任务至 PM、Architect、Engineer 并设定验收标准"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "撰写详细PRD文档，包括场景、品牌、产品规格、价格策略、渠道设计、促销元素以及功能需求",
              "确认页面所需的素材与数据（商品图片、价格、库存信息、优惠券配置）并安排获取",
              "制定交付时间表并同步团队进度，确保各阶段交付物按时产出"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "定义页面信息架构与模块划分（商品展示区、价格区、促销区、购买入口区）",
              "制定UI布局与色彩应用规范，确保符合春节红主色调及移动端友好体验",
              "设计前端功能结构，包括购物车数据流、localStorage持久化方案、倒计时与库存提示逻辑"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "实现符合架构设计的单文件HTML/CSS/JavaScript页面，保证响应式及高性能加载",
              "编码购物车功能，支持数量选择、管理、数据持久化（localStorage保存）",
              "实现促销功能（限时倒计时、库存提醒、热销标签、优惠卷展示与交互）",
              "进行功能测试与跨浏览器兼容性验证，修复发现的问题并交付可上线版本"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节年货大促 - 香瓜子葵花子</title>\n<style>\n    body {\n        margin: 0;\n        font-family: Arial, sans-serif;\n        background-color: #fff;\n        color: #333;\n    }\n    header {\n        background-color: #E4393C;\n        padding: 1rem;\n        color: #fff;\n        text-align: center;\n        font-size: 1.2rem;\n        font-weight: bold;\n    }\n    main {\n        padding: 1rem;\n    }\n    .product-section {\n        background-color: #fff;\n        border-radius: 8px;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n        overflow: hidden;\n        margin-bottom: 1rem;\n    }\n    .product-image {\n        width: 100%;\n        height: auto;\n        display: block;\n    }\n    .product-info {\n        padding: 1rem;\n    }\n    .product-title {\n        font-size: 1rem;\n        font-weight: bold;\n        margin-bottom: 0.5rem;\n    }\n    .product-spec {\n        font-size: 0.9rem;\n        color: #666;\n        margin-bottom: 0.5rem;\n    }\n    .product-highlight {\n        font-size: 0.9rem;\n        color: #333;\n        margin-bottom: 0.5rem;\n    }\n    .price-section {\n        display: flex;\n        align-items: baseline;\n        margin-bottom: 0.5rem;\n    }\n    .current-price {\n        font-size: 1.2rem;\n        font-weight: bold;\n        color: #E4393C;\n        margin-right: 0.5rem;\n    }\n    .original-price {\n        font-size: 0.9rem;\n        color: #999;\n        text-decoration: line-through;\n    }\n    .discount-info {\n        background-color: #fde8e6;\n        color: #E4393C;\n        padding: 0.3rem 0.5rem;\n        border-radius: 4px;\n        font-size: 0.9rem;\n        display: inline-block;\n        margin-bottom: 0.5rem;\n    }\n    .stock-info {\n        font-size: 0.9rem;\n        color: #E4393C;\n        margin-bottom: 0.5rem;\n    }\n    .countdown {\n        font-size: 0.9rem;\n        color: #fff;\n        background-color: #E4393C;\n        padding: 0.3rem 0.5rem;\n        border-radius: 4px;\n        display: inline-block;\n        margin-bottom: 0.5rem;\n    }\n    .quantity-control {\n        display: flex;\n        align-items: center;\n        margin-bottom: 0.5rem;\n    }\n    .quantity-control button {\n        background-color: #E4393C;\n        color: #fff;\n        border: none;\n        padding: 0.5rem;\n        cursor: pointer;\n        font-size: 1rem;\n    }\n    .quantity-control input {\n        width: 50px;\n        text-align: center;\n        border: 1px solid #ccc;\n        margin: 0 0.5rem;\n        padding: 0.3rem;\n    }\n    .add-to-cart {\n        background-color: #E4393C;\n        color: #fff;\n        border: none;\n        padding: 0.5rem 1rem;\n        font-size: 1rem;\n        cursor: pointer;\n        width: 100%;\n        border-radius: 4px;\n    }\n    .cart-section {\n        margin-top: 1rem;\n        background-color: #fff;\n        border-radius: 8px;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n        padding: 1rem;\n    }\n    .cart-title {\n        font-size: 1rem;\n        font-weight: bold;\n        margin-bottom: 0.5rem;\n    }\n    .cart-item {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0.5rem 0;\n        border-bottom: 1px solid #eee;\n    }\n    .cart-item-name {\n        font-size: 0.9rem;\n    }\n    .cart-item-qty {\n        font-size: 0.9rem;\n    }\n    .cart-item-remove {\n        color: #E4393C;\n        cursor: pointer;\n        font-size: 0.8rem;\n    }\n    .cart-empty {\n        font-size: 0.9rem;\n        color: #999;\n    }\n    @media (min-width: 600px) {\n        main {\n            max-width: 500px;\n            margin: auto;\n        }\n    }\n</style>\n</head>\n<body>\n<header>LYF 春节年货大促</header>\n<main>\n    <section class=\"product-section\">\n        <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"香瓜子葵花子\" class=\"product-image\">\n        <div class=\"product-info\">\n            <div class=\"product-title\">LYF 香瓜子葵花子</div>\n            <div class=\"product-spec\">30g 小包装 / 10包组合装</div>\n            <div class=\"product-highlight\">精选优质葵花子，香脆饱满，年味十足。</div>\n            <div class=\"price-section\">\n                <div class=\"current-price\">¥16.9</div>\n                <div class=\"original-price\">¥29.9</div>\n            </div>\n            <div class=\"discount-info\">限时优惠 ~ 立省 ¥13</div>\n            <div class=\"stock-info\" id=\"stock-info\">库存紧张，仅剩 50 份</div>\n            <div class=\"countdown\" id=\"countdown\">剩余时间：00:00:00</div>\n            <div class=\"quantity-control\">\n                <button id=\"decrease\">-</button>\n                <input type=\"number\" id=\"quantity\" min=\"1\" value=\"1\">\n                <button id=\"increase\">+</button>\n            </div>\n            <button class=\"add-to-cart\" id=\"add-to-cart\">加入购物车</button>\n        </div>\n    </section>\n    <section class=\"cart-section\">\n        <div class=\"cart-title\">购物车</div>\n        <div id=\"cart-content\"></div>\n    </section>\n</main>\n<script>\n    // Countdown timer\n    function startCountdown(hours, minutes, seconds) {\n        let totalSeconds = hours * 3600 + minutes * 60 + seconds;\n        function updateCountdown() {\n            totalSeconds--;\n            if (totalSeconds < 0) {\n                clearInterval(timer);\n                document.getElementById('countdown').innerText = '活动已结束';\n                return;\n            }\n            let h = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');\n            let m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');\n            let s = String(totalSeconds % 60).padStart(2, '0');\n            document.getElementById('countdown').innerText = `剩余时间：${h}:${m}:${s}`;\n        }\n        updateCountdown();\n        let timer = setInterval(updateCountdown, 1000);\n    }\n    startCountdown(0, 30, 0); // example 30 minutes countdown\n\n    // Quantity control\n    const qtyInput = document.getElementById('quantity');\n    document.getElementById('increase').addEventListener('click', () => qtyInput.value = parseInt(qtyInput.value) + 1);\n    document.getElementById('decrease').addEventListener('click', () => {\n        if (parseInt(qtyInput.value) > 1) qtyInput.value = parseInt(qtyInput.value) - 1;\n    });\n\n    // Cart\n    function loadCart() {\n        const cartData = JSON.parse(localStorage.getItem('cart')) || [];\n        const cartContent = document.getElementById('cart-content');\n        if (cartData.length === 0) {\n            cartContent.innerHTML = '<div class=\"cart-empty\">购物车为空</div>';\n            return;\n        }\n        cartContent.innerHTML = '';\n        cartData.forEach((item, index) => {\n            const div = document.createElement('div');\n            div.className = 'cart-item';\n            div.innerHTML = `<div class=\"cart-item-name\">${item.name}</div>\n                <div class=\"cart-item-qty\">数量：${item.qty}</div>\n                <div class=\"cart-item-remove\" data-index=\"${index}\">删除</div>`;\n            cartContent.appendChild(div);\n        });\n        document.querySelectorAll('.cart-item-remove').forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                const idx = e.target.getAttribute('data-index');\n                cartData.splice(idx, 1);\n                localStorage.setItem('cart', JSON.stringify(cartData));\n                loadCart();\n            });\n        });\n    }\n    loadCart();\n\n    document.getElementById('add-to-cart').addEventListener('click', () => {\n        const qty = parseInt(qtyInput.value);\n        const cartData = JSON.parse(localStorage.getItem('cart')) || [];\n        const productName = 'LYF 香瓜子葵花子';\n        const existingIndex = cartData.findIndex(p => p.name === productName);\n        if (existingIndex >= 0) {\n            cartData[existingIndex].qty += qty;\n        } else {\n            cartData.push({name: productName, qty: qty});\n        }\n        localStorage.setItem('cart', JSON.stringify(cartData));\n        loadCart();\n    });\n</script>\n</body>\n</html>"
    }
  ]
}