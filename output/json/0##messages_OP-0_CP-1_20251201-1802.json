{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的单文件（Single HTML File）一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n主页图片链接： “https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n#Functional Requirements (功能需求)\n用户应能够查看价格与优惠（价格），并选择数量加入购物车，也可管理购物车内容。\n页面支持商品分类展示与在线购买流程（渠道）。您还可以加入促销元素，如限时倒计时、库存提醒、热销标签和优惠卷（促销），进一步提升购物体验与趣味性。\n仅使用 HTML、CSS 和 JavaScript — 不要使用 Vue、React 或任何第三方库。\n使用 localStorage 保存购物车等数据，确保信息在刷新后保留。保持整体设计简洁、用户友好且富有吸引力。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "提炼春节零食香瓜子葵花子页面的核心卖点（4P营销要素）与目标客群特征",
              "制定商业转化目标（点击率、加购率、成交转化率）并拆解为页面功能需求",
              "将业务目标与设计风格要求转化为具体任务分配给 PM、Architect、Engineer 以保障链路衔接"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "编写 PRD 文档，列出各业务模块需求，包括产品展示、价格呈现、购买入口、促销策略及对应交互说明",
              "规划页面交互流程图，涵盖浏览商品、选择数量、加入购物车、查看购物车、下单等操作路径",
              "确认所有功能支持移动端优先及春节喜庆主题的视觉实现"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "设计单文件结构的技术架构，确保 HTML、CSS、JavaScript 模块化组织便于维护",
              "定义页面的 DOM 结构布局，包含产品展示区、价格与优惠区、购买入口区、促销区等核心模块",
              "规划数据结构及 localStorage 交互方案，用于购物车、库存、倒计时等功能数据持久化"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "编写单文件 HTML 代码实现页面结构及内容展示，包含图片、产品规格、卖点文案",
              "使用 CSS 实现春节红主色调的京东/天猫风格移动端页面样式，并保证响应式布局",
              "编写 JavaScript 实现购物车管理、库存动态更新、限时促销倒计时、优惠标签等交互功能",
              "集成 localStorage 保存购物车及促销数据，实现刷新后信息保留",
              "进行跨浏览器与移动端测试，优化加载速度与交互体验，确保可上线"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节香瓜子葵花子年货大促</title>\n<style>\n    body {\n        margin: 0;\n        font-family: \"Helvetica Neue\", Arial, sans-serif;\n        background-color: #fff;\n        color: #333;\n    }\n    header {\n        background-color: #E4393C;\n        color: #fff;\n        padding: 1rem;\n        text-align: center;\n        font-size: 1.2rem;\n        font-weight: bold;\n    }\n    main {\n        padding: 1rem;\n    }\n    .product-card {\n        background: #fff;\n        border-radius: 8px;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        overflow: hidden;\n        margin-bottom: 1.5rem;\n    }\n    .product-image img {\n        width: 100%;\n        display: block;\n    }\n    .product-info {\n        padding: 1rem;\n    }\n    .product-title {\n        font-size: 1.2rem;\n        font-weight: bold;\n        margin-bottom: 0.5rem;\n    }\n    .product-spec {\n        font-size: 0.9rem;\n        color: #666;\n        margin-bottom: 0.5rem;\n    }\n    .product-selling-points {\n        font-size: 0.9rem;\n        color: #444;\n        margin-bottom: 0.5rem;\n        line-height: 1.4;\n    }\n    .price-section {\n        display: flex;\n        align-items: baseline;\n        margin-bottom: 0.5rem;\n    }\n    .current-price {\n        font-size: 1.4rem;\n        font-weight: bold;\n        color: #E4393C;\n        margin-right: 0.5rem;\n    }\n    .original-price {\n        font-size: 0.9rem;\n        color: #999;\n        text-decoration: line-through;\n    }\n    .discount-tag {\n        display: inline-block;\n        background-color: #ffcc00;\n        color: #E4393C;\n        font-size: 0.8rem;\n        padding: 0.2rem 0.4rem;\n        border-radius: 4px;\n        margin-right: 0.5rem;\n    }\n    .stock-info {\n        font-size: 0.85rem;\n        color: #E4393C;\n        margin-bottom: 0.5rem;\n    }\n    .countdown {\n        font-size: 0.85rem;\n        color: #fff;\n        background-color: #E4393C;\n        padding: 0.3rem 0.6rem;\n        display: inline-block;\n        border-radius: 4px;\n        margin-bottom: 1rem;\n    }\n    .purchase-section {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        margin-bottom: 1rem;\n    }\n    .quantity-input {\n        width: 50px;\n        padding: 0.3rem;\n        text-align: center;\n        border: 1px solid #ccc;\n        border-radius: 4px;\n    }\n    .add-to-cart-btn {\n        flex: 1;\n        background-color: #E4393C;\n        color: #fff;\n        border: none;\n        padding: 0.6rem;\n        font-size: 1rem;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n    .cart-section {\n        margin-top: 1.5rem;\n    }\n    .cart-title {\n        font-size: 1rem;\n        font-weight: bold;\n        margin-bottom: 0.5rem;\n    }\n    .cart-item {\n        display: flex;\n        justify-content: space-between;\n        padding: 0.5rem 0;\n        border-bottom: 1px solid #eee;\n    }\n    .cart-item-name {\n        font-size: 0.9rem;\n    }\n    .cart-item-qty {\n        font-size: 0.9rem;\n    }\n    .cart-actions {\n        margin-top: 0.5rem;\n        text-align: right;\n    }\n    .checkout-btn {\n        background-color: #ff9900;\n        color: #fff;\n        border: none;\n        padding: 0.6rem 1rem;\n        border-radius: 4px;\n        font-size: 0.9rem;\n        cursor: pointer;\n    }\n    @media (min-width: 768px) {\n        main {\n            max-width: 600px;\n            margin: 0 auto;\n        }\n    }\n</style>\n</head>\n<body>\n<header>\n    LYF 春节香瓜子葵花子年货大促\n</header>\n<main>\n    <section class=\"product-card\">\n        <div class=\"product-image\">\n            <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"LYF 香瓜子葵花子\">\n        </div>\n        <div class=\"product-info\">\n            <div class=\"product-title\">LYF 香瓜子葵花子</div>\n            <div class=\"product-spec\">30g 小包装 / 10包组合装</div>\n            <div class=\"product-selling-points\">精选优质葵花子，颗粒饱满，香脆可口；适合春节家庭聚会、伴手礼，随时随地享用。</div>\n            <div class=\"price-section\">\n                <div class=\"discount-tag\">限时优惠</div>\n                <div class=\"current-price\">¥16.9</div>\n                <div class=\"original-price\">¥29.9</div>\n            </div>\n            <div class=\"stock-info\" id=\"stock-info\">库存充足</div>\n            <div class=\"countdown\" id=\"countdown-timer\">活动倒计时 00:00:00</div>\n            <div class=\"purchase-section\">\n                <input type=\"number\" class=\"quantity-input\" id=\"quantity\" value=\"1\" min=\"1\">\n                <button class=\"add-to-cart-btn\" onclick=\"addToCart()\">加入购物车</button>\n            </div>\n        </div>\n    </section>\n    <section class=\"cart-section\">\n        <div class=\"cart-title\">购物车</div>\n        <div id=\"cart-items\"></div>\n        <div class=\"cart-actions\">\n            <button class=\"checkout-btn\" onclick=\"checkout()\">去结算</button>\n        </div>\n    </section>\n</main>\n<script>\n    const COUNTDOWN_TIME = 3600; \n    let countdownSeconds = COUNTDOWN_TIME;\n    let stock = 20;\n\n    function updateCountdown() {\n        const timerEl = document.getElementById('countdown-timer');\n        countdownSeconds--;\n        if (countdownSeconds < 0) { \n            timerEl.textContent = '活动已结束';\n            return;\n        }\n        const h = String(Math.floor(countdownSeconds / 3600)).padStart(2,'0');\n        const m = String(Math.floor((countdownSeconds % 3600) / 60)).padStart(2,'0');\n        const s = String(countdownSeconds % 60).padStart(2,'0');\n        timerEl.textContent = `活动倒计时 ${h}:${m}:${s}`;\n    }\n    setInterval(updateCountdown, 1000);\n\n    function renderStockInfo() {\n        const stockEl = document.getElementById('stock-info');\n        if (stock <= 5) {\n            stockEl.textContent = `库存紧张，仅剩 ${stock} 件`;\n        } else {\n            stockEl.textContent = `库存充足 (${stock} 件)`;\n        }\n    }\n\n    function loadCart() {\n        const cart = JSON.parse(localStorage.getItem('cart')) || [];\n        const cartContainer = document.getElementById('cart-items');\n        cartContainer.innerHTML = '';\n        cart.forEach((item, index) => {\n            const div = document.createElement('div');\n            div.className = 'cart-item';\n            div.innerHTML = `<span class=\"cart-item-name\">${item.name}</span>\n                             <span class=\"cart-item-qty\">数量: ${item.qty}</span>\n                             <button onclick=\"removeFromCart(${index})\">删除</button>`;\n            cartContainer.appendChild(div);\n        });\n    }\n\n    function addToCart() {\n        const qty = parseInt(document.getElementById('quantity').value);\n        if (qty > stock) {\n            alert('库存不足，无法加入购物车');\n            return;\n        }\n        const cart = JSON.parse(localStorage.getItem('cart')) || [];\n        cart.push({ name: 'LYF 香瓜子葵花子', qty });\n        localStorage.setItem('cart', JSON.stringify(cart));\n        stock -= qty;\n        renderStockInfo();\n        loadCart();\n    }\n\n    function removeFromCart(index) {\n        const cart = JSON.parse(localStorage.getItem('cart')) || [];\n        stock += cart[index].qty;\n        cart.splice(index, 1);\n        localStorage.setItem('cart', JSON.stringify(cart));\n        renderStockInfo();\n        loadCart();\n    }\n\n    function checkout() {\n        alert('结算流程示例：进入支付页（未实现）');\n    }\n\n    renderStockInfo();\n    loadCart();\n</script>\n</body>\n</html>"
    }
  ]
}