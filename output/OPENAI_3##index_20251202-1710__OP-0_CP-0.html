<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF æ–°ç–†é¦™ç“œå­è‘µèŠ±å­</title>
<style>
    body {
        font-family: "Microsoft YaHei", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #fffaf0;
        color: #333;
    }
    .status-bar {
        background-color: #E4393C;
        color: #fff;
        padding: 5px 10px;
        font-size: 14px;
        text-align: right;
    }
    .nav-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: #E4393C;
        padding: 10px;
        color: #fff;
    }
    .nav-left, .nav-right {
        display: flex;
        align-items: center;
    }
    .nav-bar button {
        background: none;
        border: none;
        color: #fff;
        font-size: 16px;
        cursor: pointer;
        margin-right: 10px;
    }
    .container {
        max-width: 950px;
        margin: 0 auto;
        padding: 15px;
    }
    .product-section {
        display: flex;
        flex-wrap: wrap;
        background: #fff;
        border-radius: 6px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .product-image {
        flex: 1 1 50%;
        text-align: center;
        background-color: #fff5f5;
    }
    .product-image img {
        max-width: 100%;
        height: auto;
    }
    .product-info {
        flex: 1 1 50%;
        padding: 20px;
        box-sizing: border-box;
    }
    .product-title {
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 10px;
    }
    .product-spec {
        font-size: 14px;
        color: #666;
        margin-bottom: 10px;
    }
    .product-price {
        margin: 15px 0;
    }
    .current-price {
        font-size: 24px;
        color: #E4393C;
        font-weight: bold;
        margin-right: 10px;
    }
    .original-price {
        text-decoration: line-through;
        color: #999;
        font-size: 14px;
    }
    .discount-tag {
        background-color: #ffcc00;
        color: #E4393C;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 12px;
        margin-left: 5px;
    }
    .promotion-info {
        margin: 10px 0;
        color: #E4393C;
        font-size: 16px;
    }
    .timer {
        font-weight: bold;
    }
    .stock-status {
        font-size: 14px;
        color: #666;
        margin-top: 5px;
    }
    .coupon-section {
        background-color: #fff5ee;
        padding: 10px;
        margin: 15px 0;
        border-radius: 4px;
    }
    .coupon {
        display: inline-block;
        background-color: #E4393C;
        color: #fff;
        padding: 5px 10px;
        border-radius: 4px;
        margin-right: 10px;
        cursor: pointer;
    }
    .quantity-control {
        display: flex;
        align-items: center;
        margin: 10px 0;
    }
    .quantity-control button {
        width: 30px;
        height: 30px;
        border: 1px solid #ccc;
        background-color: #fff;
        cursor: pointer;
    }
    .quantity-control input {
        width: 50px;
        text-align: center;
        border: 1px solid #ccc;
        margin: 0 5px;
    }
    .action-buttons {
        margin-top: 15px;
    }
    .action-buttons button {
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-right: 10px;
    }
    .buy-now {
        background-color: #E4393C;
        color: #fff;
    }
    .add-cart {
        background-color: #ffcc00;
        color: #E4393C;
    }
    .cart-sidebar {
        position: fixed;
        right: -300px;
        top: 0;
        height: 100%;
        width: 300px;
        background-color: #fff;
        box-shadow: -2px 0 8px rgba(0,0,0,0.2);
        transition: right 0.3s;
        overflow-y: auto;
        z-index: 99;
    }
    .cart-header {
        padding: 10px;
        background-color: #E4393C;
        color: #fff;
        font-size: 18px;
        display: flex;
        justify-content: space-between;
    }
    .cart-item {
        display: flex;
        align-items: center;
        padding: 10px;
        border-bottom: 1px solid #eee;
    }
    .cart-item img {
        width: 50px;
        height: 50px;
        margin-right: 10px;
    }
    .cart-item-details {
        flex: 1;
    }
    .cart-footer {
        padding: 10px;
        background-color: #fff5f5;
    }
    .cart-total {
        font-size: 16px;
        margin-bottom: 10px;
    }
    .checkout-btn {
        padding: 10px;
        width: 100%;
        border: none;
        background-color: #E4393C;
        color: #fff;
        font-size: 16px;
        cursor: pointer;
    }
    .review-section, .details-section {
        background-color: #fff;
        border-radius: 6px;
        padding: 15px;
        margin-top: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .review-section h3, .details-section h3 {
        margin-bottom: 10px;
        font-size: 18px;
        color: #E4393C;
    }
    .review {
        border-bottom: 1px solid #eee;
        padding: 10px 0;
    }
    .review:last-child {
        border-bottom: none;
    }
    .review span {
        display: block;
        margin-top: 5px;
        color: #666;
        font-size: 14px;
    }
    .details-content {
        display: none;
        margin-top: 10px;
    }
    .toggle-details {
        background-color: #ffcc00;
        color: #E4393C;
        border: none;
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
    }
    @media screen and (max-width: 768px) {
        .product-section {
            flex-direction: column;
        }
    }
</style>
</head>
<body>
<div class="status-bar">æ˜¥èŠ‚ç‰¹æƒ è¿›è¡Œä¸­</div>
<div class="nav-bar">
    <div class="nav-left">
        <button onclick="history.back()">â† è¿”å›</button>
        <span>LYFæ——èˆ°åº—</span>
    </div>
    <div class="nav-right">
        <button onclick="toggleCart()">ğŸ›’</button>
    </div>
</div>
<div class="container">
    <section class="product-section">
        <div class="product-image">
            <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="æ–°ç–†é¦™ç“œå­è‘µèŠ±å­">
        </div>
        <div class="product-info">
            <div class="product-title">LYF æ–°ç–†é¦™ç“œå­è‘µèŠ±å­</div>
            <div class="product-spec">è§„æ ¼ï¼š30g Ã— 10 åŒ…</div>
            <div class="product-price">
                <span class="current-price">Â¥16.9</span>
                <span class="original-price">Â¥29.9</span>
                <span class="discount-tag">é™æ—¶ä¼˜æƒ </span>
            </div>
            <div class="promotion-info">â³ å‰©ä½™ <span class="timer" id="countdown">00:00:00</span></div>
            <div class="stock-status">åº“å­˜ï¼š<span id="stock">100</span> ä»¶</div>
            <div class="coupon-section">
                <span class="coupon" onclick="getCoupon(3)">ï¿¥3 ä¼˜æƒ åˆ¸</span>
                <span class="coupon" onclick="getCoupon(5)">ï¿¥5 ä¼˜æƒ åˆ¸</span>
            </div>
            <div class="quantity-control">
                <button onclick="changeQty(-1)">-</button>
                <input type="text" id="quantity" value="1">
                <button onclick="changeQty(1)">+</button>
            </div>
            <div class="action-buttons">
                <button class="add-cart" onclick="addToCart()">åŠ å…¥è´­ç‰©è½¦</button>
                <button class="buy-now" onclick="buyNow()">ç«‹å³è´­ä¹°</button>
            </div>
        </div>
    </section>

    <section class="review-section">
        <h3>å•†å“è¯„ä»· â­â­â­â­â­</h3>
        <div class="review">
            <strong>ç”¨æˆ·Aï¼š</strong>å‘³é“å¾ˆé¦™ï¼Œåƒèµ·æ¥å¾ˆè„†ï¼Œæ˜¥èŠ‚é€äº²æˆšå¾ˆåˆé€‚ğŸ˜Š
            <span>é…å›¾ï¼š<img src="https://via.placeholder.com/50" alt=""></span>
        </div>
        <div class="review">
            <strong>ç”¨æˆ·Bï¼š</strong>åˆ†é‡è¶³ï¼ŒåŒ…è£…å–œåº†ğŸ‰
        </div>
    </section>

    <section class="details-section">
        <h3>å•†å“è¯¦æƒ…</h3>
        <button class="toggle-details" onclick="toggleDetails()">å±•å¼€è¯¦æƒ…</button>
        <div class="details-content" id="details-content">
            <p>ç²¾é€‰æ–°ç–†è‘µèŠ±å­ï¼Œé¢—ç²’é¥±æ»¡ï¼Œå£æ„Ÿé¦™è„†ï¼Œä¸°å¯Œçš„è¥å…»ä»·å€¼ï¼ŒèŠ‚åº†ä½³å“ã€‚</p>
            <p>é‡‡ç”¨å…ˆè¿›å·¥è‰ºçƒ˜ç„™ï¼Œä¿ç•™åŸé¦™ï¼Œé€‚åˆå…¨å®¶åˆ†äº«ã€‚</p>
        </div>
    </section>
</div>

<div class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
        <span>è´­ç‰©è½¦</span>
        <button onclick="toggleCart()">âœ–</button>
    </div>
    <div id="cart-items">
    </div>
    <div class="cart-footer">
        <div class="cart-total">åˆè®¡ï¼šÂ¥<span id="cart-total">0.00</span></div>
        <button class="checkout-btn" onclick="checkout()">ç»“ç®—</button>
    </div>
</div>

<script>
let stock = 100;
let countdownTime = 3600; // 1å°æ—¶
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let couponValue = 0;

function changeQty(delta) {
    let qty = parseInt(document.getElementById('quantity').value);
    qty += delta;
    if (qty < 1) qty = 1;
    document.getElementById('quantity').value = qty;
}

function updateCountdown() {
    if (countdownTime > 0) {
        countdownTime--;
        let h = String(Math.floor(countdownTime / 3600)).padStart(2, '0');
        let m = String(Math.floor((countdownTime % 3600) / 60)).padStart(2, '0');
        let s = String(countdownTime % 60).padStart(2, '0');
        document.getElementById('countdown').textContent = `${h}:${m}:${s}`;
    }
}
setInterval(updateCountdown, 1000);

function getCoupon(value) {
    couponValue = value;
    alert(`é¢†å–æˆåŠŸï¼Œç»“ç®—æ—¶å¯å‡å… Â¥${value}`);
}

function addToCart() {
    let qty = parseInt(document.getElementById('quantity').value);
    if (stock < qty) {
        alert('åº“å­˜ä¸è¶³');
        return;
    }
    stock -= qty;
    document.getElementById('stock').textContent = stock;
    let item = {
        name: 'LYF æ–°ç–†é¦™ç“œå­è‘µèŠ±å­',
        price: 16.9,
        qty: qty,
        img: 'https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp'
    };
    let existing = cart.find(c => c.name === item.name);
    if (existing) {
        existing.qty += qty;
    } else {
        cart.push(item);
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartUI();
}

function updateCartUI() {
    let cartItemsDiv = document.getElementById('cart-items');
    cartItemsDiv.innerHTML = '';
    let total = 0;
    cart.forEach((item, index) => {
        let itemDiv = document.createElement('div');
        itemDiv.className = 'cart-item';
        itemDiv.innerHTML = `
            <img src="${item.img}" alt="">
            <div class="cart-item-details">
                <div>${item.name}</div>
                <div>Â¥${item.price} Ã— ${item.qty}</div>
            </div>
            <button onclick="removeItem(${index})">ğŸ—‘</button>
        `;
        cartItemsDiv.appendChild(itemDiv);
        total += item.price * item.qty;
    });
    total -= couponValue;
    if (total < 0) total = 0;
    document.getElementById('cart-total').textContent = total.toFixed(2);
}

function removeItem(index) {
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartUI();
}

function toggleCart() {
    let sidebar = document.getElementById('cart-sidebar');
    if (sidebar.style.right === '0px') {
        sidebar.style.right = '-300px';
    } else {
        sidebar.style.right = '0px';
        updateCartUI();
    }
}

function buyNow() {
    addToCart();
    toggleCart();
}

function checkout() {
    alert(`ç»“ç®—æˆåŠŸï¼Œå®é™…æ”¯ä»˜ï¼šÂ¥${document.getElementById('cart-total').textContent}`);
    cart = [];
    localStorage.removeItem('cart');
    updateCartUI();
}

function toggleDetails() {
    let details = document.getElementById('details-content');
    if (details.style.display === 'block') {
        details.style.display = 'none';
    } else {
        details.style.display = 'block';
    }
}

// åˆ›æ–°åŠŸèƒ½ï¼šèŠ‚æ—¥çº¢åŒ…éšæœºæŠ½å¥–
function holidayLuckyDraw() {
    let prizes = ['Â¥2 çº¢åŒ…', 'Â¥5 çº¢åŒ…', 'Â¥10 çº¢åŒ…', 'è°¢è°¢å‚ä¸'];
    let prize = prizes[Math.floor(Math.random() * prizes.length)];
    alert(`æ­å–œè·å¾—ï¼š${prize}`);
}
setTimeout(holidayLuckyDraw, 5000); // é¡µé¢åŠ è½½5ç§’åå¼¹å‡ºæŠ½å¥–
</script>
</body>
</html>