<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF æ–°ç–†é¦™ç“œå­è‘µèŠ±å­</title>
<style>
    body {
        font-family: "Helvetica Neue", Arial, sans-serif;
        margin: 0;
        background-color: #fff;
        color: #333;
        max-width: 950px;
        margin: 0 auto;
    }
    header {
        background-color: #E4393C;
        color: #fff;
        display: flex;
        align-items: center;
        padding: 10px;
        justify-content: space-between;
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    header .nav-left, header .nav-right {
        display: flex;
        align-items: center;
    }
    header .nav-left span, header .nav-right span {
        margin-right: 10px;
        cursor: pointer;
    }
    header .title {
        font-size: 18px;
        font-weight: bold;
    }
    main {
        padding: 15px;
    }
    .product-overview {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .product-image {
        max-width: 100%;
        border-radius: 8px;
    }
    .product-info {
        width: 100%;
        padding: 15px 0;
    }
    .product-title {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
    }
    .hot-tag {
        background-color: #ffeb3b;
        color: #E4393C;
        font-size: 12px;
        border-radius: 4px;
        padding: 2px 6px;
        margin-left: 10px;
    }
    .product-spec {
        color: #666;
        margin-bottom: 10px;
    }
    .price-box {
        display: flex;
        align-items: baseline;
        margin-bottom: 8px;
    }
    .price-current {
        font-size: 22px;
        color: #E4393C;
        font-weight: bold;
        margin-right: 10px;
    }
    .price-original {
        font-size: 14px;
        color: #999;
        text-decoration: line-through;
    }
    .discount-tag {
        background-color: #E4393C;
        color: #fff;
        font-size: 12px;
        padding: 2px 6px;
        border-radius: 4px;
        margin-left: 10px;
    }
    .coupon-center {
        margin-top: 10px;
        background-color: #fff5f5;
        padding: 10px;
        border-radius: 8px;
    }
    .coupon {
        background-color: #E4393C;
        color: #fff;
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
        display: inline-block;
        margin-right: 8px;
        font-size: 12px;
    }
    .countdown-stock {
        margin-top: 10px;
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        color: #E4393C;
        font-weight: bold;
    }
    .purchase-actions {
        display: flex;
        align-items: center;
        margin-top: 15px;
    }
    .quantity-controls {
        display: flex;
        align-items: center;
        margin-right: 15px;
    }
    .quantity-btn {
        background-color: #f0f0f0;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 16px;
    }
    .quantity-display {
        width: 30px;
        text-align: center;
    }
    .btn {
        flex: 1;
        padding: 10px;
        color: #fff;
        border: none;
        cursor: pointer;
        font-size: 16px;
        border-radius: 4px;
        margin-right: 10px;
    }
    .btn-cart {
        background-color: #ff9800;
    }
    .btn-buy {
        background-color: #E4393C;
    }
    .cart-sidebar {
        position: fixed;
        right: -320px;
        top: 0;
        width: 320px;
        height: 100%;
        background-color: #fff;
        box-shadow: -2px 0 5px rgba(0,0,0,0.2);
        transition: right 0.3s ease;
        padding: 15px;
        overflow-y: auto;
        z-index: 2000;
    }
    .cart-sidebar.active {
        right: 0;
    }
    .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
        margin-bottom: 10px;
    }
    .cart-item {
        display: flex;
        align-items: center;
        border-bottom: 1px solid #f0f0f0;
        padding: 10px 0;
    }
    .cart-item img {
        width: 50px;
        height: 50px;
        border-radius: 4px;
        margin-right: 10px;
    }
    .cart-item-info {
        flex: 1;
    }
    .cart-item-actions {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }
    .cart-total {
        font-size: 16px;
        font-weight: bold;
        margin-top: 10px;
    }
    .reviews {
        margin-top: 20px;
    }
    .review-item {
        border-bottom: 1px solid #eee;
        padding: 10px 0;
    }
    .review-rating {
        color: #FFD700;
        font-size: 14px;
        margin-bottom: 5px;
    }
    .review-text {
        font-size: 14px;
        margin-bottom: 5px;
    }
    .review-images img {
        width: 50px;
        height: 50px;
        border-radius: 4px;
        margin-right: 5px;
    }
    .details-toggle {
        background-color: #f9f9f9;
        cursor: pointer;
        padding: 10px;
        border-radius: 4px;
        text-align: center;
        color: #E4393C;
        margin-top: 20px;
    }
    .product-details {
        display: none;
        margin-top: 10px;
        font-size: 14px;
        color: #666;
    }
    @media (max-width: 768px) {
        body {
            max-width: 100%;
        }
        .product-overview {
            padding: 0;
        }
    }
</style>
</head>
<body>
<header>
    <div class="nav-left">
        <span>&lt; è¿”å›</span>
        <div class="title">å•†å“è¯¦æƒ…</div>
    </div>
    <div class="nav-right">
        <span id="cart-icon">ğŸ›’</span>
    </div>
</header>
<main>
    <section class="product-overview">
        <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="LYF æ–°ç–†é¦™ç“œå­è‘µèŠ±å­" class="product-image">
        <div class="product-info">
            <div class="product-title">LYF æ–°ç–†é¦™ç“œå­è‘µèŠ±å­ <span class="hot-tag">çƒ­é”€</span></div>
            <div class="product-spec">è§„æ ¼ï¼š30g Ã— 10 åŒ…</div>
            <div class="price-box">
                <div class="price-current">Â¥16.9</div>
                <div class="price-original">Â¥29.9</div>
                <div class="discount-tag">é™æ—¶ä¼˜æƒ </div>
            </div>
            <div class="coupon-center">
                <span class="coupon" id="coupon10">é¢† Â¥10 åˆ¸</span>
            </div>
            <div class="countdown-stock">
                <div id="countdown">æ´»åŠ¨å€’è®¡æ—¶ï¼š00:00:00</div>
                <div id="stock">åº“å­˜ï¼š100</div>
            </div>
            <div class="purchase-actions">
                <div class="quantity-controls">
                    <button class="quantity-btn" id="qty-minus">-</button>
                    <input type="text" id="qty-display" class="quantity-display" value="1" readonly>
                    <button class="quantity-btn" id="qty-plus">+</button>
                </div>
                <button class="btn btn-cart" id="add-cart">åŠ å…¥è´­ç‰©è½¦</button>
                <button class="btn btn-buy" id="buy-now">ç«‹å³è´­ä¹°</button>
            </div>
        </div>
    </section>
    <section class="reviews">
        <h3>å•†å“è¯„ä»·</h3>
        <div class="review-item">
            <div class="review-rating">â­â­â­â­â­</div>
            <div class="review-text">å‘³é“å¾ˆé¦™ï¼ŒåŒ…è£…ç²¾ç¾ ğŸ‘</div>
            <div class="review-images">
                <img src="https://via.placeholder.com/50" alt="è¯„è®ºå›¾ç‰‡">
            </div>
        </div>
        <div class="review-item">
            <div class="review-rating">â­â­â­â­</div>
            <div class="review-text">ç‰©ç¾ä»·å»‰ï¼Œå®¶äººéƒ½å¾ˆå–œæ¬¢ ğŸ˜„</div>
        </div>
    </section>
    <div class="details-toggle" id="details-toggle">å±•å¼€å•†å“è¯¦æƒ…</div>
    <div class="product-details" id="product-details">
        æ¥è‡ªæ–°ç–†çš„ä¼˜è´¨ç“œå­ï¼Œé‡‡ç”¨ä¼ ç»Ÿå·¥è‰ºç²¾å¿ƒçƒ˜ç„™ï¼Œé¦™å‘³æµ“éƒï¼Œå£æ„Ÿé…¥è„†ï¼›ç‹¬ç«‹å°åŒ…è£…ï¼Œæ–¹ä¾¿æºå¸¦ï¼Œä¸ºæ‚¨çš„æ˜¥èŠ‚å¢æ·»ä¸€ä»½ç¾å‘³ä¸æ¬¢ä¹ã€‚
    </div>
</main>
<div class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
        <span>è´­ç‰©è½¦</span>
        <span id="cart-close">âœ–</span>
    </div>
    <div id="cart-items"></div>
    <div class="cart-total" id="cart-total">æ€»ä»·ï¼šÂ¥0</div>
    <button class="btn btn-buy" id="checkout">å»ç»“ç®—</button>
</div>
<script>
    const qtyMinus = document.getElementById('qty-minus');
    const qtyPlus = document.getElementById('qty-plus');
    const qtyDisplay = document.getElementById('qty-display');
    const addCartBtn = document.getElementById('add-cart');
    const buyNowBtn = document.getElementById('buy-now');
    const cartIcon = document.getElementById('cart-icon');
    const cartSidebar = document.getElementById('cart-sidebar');
    const cartClose = document.getElementById('cart-close');
    const cartItemsDiv = document.getElementById('cart-items');
    const cartTotalDiv = document.getElementById('cart-total');
    const couponBtn = document.getElementById('coupon10');
    const checkoutBtn = document.getElementById('checkout');
    const countdownDiv = document.getElementById('countdown');
    const stockDiv = document.getElementById('stock');
    const detailsToggle = document.getElementById('details-toggle');
    const productDetails = document.getElementById('product-details');

    let stock = 100;
    let couponValue = 0;

    qtyMinus.onclick = () => {
        let qty = parseInt(qtyDisplay.value);
        if (qty > 1) {
            qtyDisplay.value = qty - 1;
        }
    };
    qtyPlus.onclick = () => {
        qtyDisplay.value = parseInt(qtyDisplay.value) + 1;
    };

    function getCart() {
        return JSON.parse(localStorage.getItem('cart') || '[]');
    }
    function saveCart(cart) {
        localStorage.setItem('cart', JSON.stringify(cart));
    }
    function renderCart() {
        const cart = getCart();
        cartItemsDiv.innerHTML = '';
        let total = 0;
        cart.forEach((item, index) => {
            total += item.price * item.qty - couponValue;
            const itemDiv = document.createElement('div');
            itemDiv.className = 'cart-item';
            itemDiv.innerHTML = `
                <img src="${item.image}" alt="${item.title}">
                <div class="cart-item-info">
                    <div>${item.title}</div>
                    <div>Â¥${item.price} Ã— ${item.qty}</div>
                </div>
                <div class="cart-item-actions">
                    <button onclick="removeItem(${index})">åˆ é™¤</button>
                </div>
            `;
            cartItemsDiv.appendChild(itemDiv);
        });
        cartTotalDiv.innerText = 'æ€»ä»·ï¼šÂ¥' + total.toFixed(2);
    }
    function removeItem(index) {
        const cart = getCart();
        cart.splice(index, 1);
        saveCart(cart);
        renderCart();
    }
    addCartBtn.onclick = () => {
        const cart = getCart();
        const qty = parseInt(qtyDisplay.value);
        cart.push({
            title: 'LYF æ–°ç–†é¦™ç“œå­è‘µèŠ±å­',
            price: 16.9,
            qty: qty,
            image: 'https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp'
        });
        saveCart(cart);
        stock -= qty;
        if (stock < 0) stock = 0;
        stockDiv.innerText = 'åº“å­˜ï¼š' + stock;
        alert('å·²åŠ å…¥è´­ç‰©è½¦');
    };
    cartIcon.onclick = () => {
        cartSidebar.classList.add('active');
        renderCart();
    };
    cartClose.onclick = () => {
        cartSidebar.classList.remove('active');
    };
    couponBtn.onclick = () => {
        couponValue = 10;
        alert('å·²é¢†å– Â¥10 ä¼˜æƒ åˆ¸');
        renderCart();
    };
    checkoutBtn.onclick = () => {
        alert('ç»“ç®—æˆåŠŸ');
        localStorage.removeItem('cart');
        couponValue = 0;
        renderCart();
    };

    let countdownSeconds = 3600;
    function updateCountdown() {
        let h = Math.floor(countdownSeconds / 3600);
        let m = Math.floor((countdownSeconds % 3600) / 60);
        let s = countdownSeconds % 60;
        countdownDiv.innerText = `æ´»åŠ¨å€’è®¡æ—¶ï¼š${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
        if (countdownSeconds > 0) countdownSeconds--;
    }
    setInterval(updateCountdown, 1000);

    detailsToggle.onclick = () => {
        if (productDetails.style.display === 'block') {
            productDetails.style.display = 'none';
            detailsToggle.innerText = 'å±•å¼€å•†å“è¯¦æƒ…';
        } else {
            productDetails.style.display = 'block';
            detailsToggle.innerText = 'æ”¶èµ·å•†å“è¯¦æƒ…';
        }
    };

    // åˆ›æ–°åŠŸèƒ½: è‡ªåŠ¨æ ¹æ®åº“å­˜ä½é‡æ˜¾ç¤º "åº“å­˜ç´§å¼ " æç¤º
    setInterval(() => {
        if (stock <= 10 && stock > 0) {
            stockDiv.innerText = `åº“å­˜ç´§å¼ ï¼š${stock}`;
            stockDiv.style.color = '#ff0000';
        } else if (stock === 0) {
            stockDiv.innerText = `å·²å”®ç½„`;
            stockDiv.style.color = '#999';
        }
    }, 500);
</script>
</body>
</html>