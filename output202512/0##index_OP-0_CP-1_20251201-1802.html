<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 春节香瓜子葵花子年货大促</title>
<style>
    body {
        margin: 0;
        font-family: "Helvetica Neue", Arial, sans-serif;
        background-color: #fff;
        color: #333;
    }
    header {
        background-color: #E4393C;
        color: #fff;
        padding: 1rem;
        text-align: center;
        font-size: 1.2rem;
        font-weight: bold;
    }
    main {
        padding: 1rem;
    }
    .product-card {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        overflow: hidden;
        margin-bottom: 1.5rem;
    }
    .product-image img {
        width: 100%;
        display: block;
    }
    .product-info {
        padding: 1rem;
    }
    .product-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    .product-spec {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0.5rem;
    }
    .product-selling-points {
        font-size: 0.9rem;
        color: #444;
        margin-bottom: 0.5rem;
        line-height: 1.4;
    }
    .price-section {
        display: flex;
        align-items: baseline;
        margin-bottom: 0.5rem;
    }
    .current-price {
        font-size: 1.4rem;
        font-weight: bold;
        color: #E4393C;
        margin-right: 0.5rem;
    }
    .original-price {
        font-size: 0.9rem;
        color: #999;
        text-decoration: line-through;
    }
    .discount-tag {
        display: inline-block;
        background-color: #ffcc00;
        color: #E4393C;
        font-size: 0.8rem;
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        margin-right: 0.5rem;
    }
    .stock-info {
        font-size: 0.85rem;
        color: #E4393C;
        margin-bottom: 0.5rem;
    }
    .countdown {
        font-size: 0.85rem;
        color: #fff;
        background-color: #E4393C;
        padding: 0.3rem 0.6rem;
        display: inline-block;
        border-radius: 4px;
        margin-bottom: 1rem;
    }
    .purchase-section {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 1rem;
    }
    .quantity-input {
        width: 50px;
        padding: 0.3rem;
        text-align: center;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    .add-to-cart-btn {
        flex: 1;
        background-color: #E4393C;
        color: #fff;
        border: none;
        padding: 0.6rem;
        font-size: 1rem;
        border-radius: 4px;
        cursor: pointer;
    }
    .cart-section {
        margin-top: 1.5rem;
    }
    .cart-title {
        font-size: 1rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    .cart-item {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid #eee;
    }
    .cart-item-name {
        font-size: 0.9rem;
    }
    .cart-item-qty {
        font-size: 0.9rem;
    }
    .cart-actions {
        margin-top: 0.5rem;
        text-align: right;
    }
    .checkout-btn {
        background-color: #ff9900;
        color: #fff;
        border: none;
        padding: 0.6rem 1rem;
        border-radius: 4px;
        font-size: 0.9rem;
        cursor: pointer;
    }
    @media (min-width: 768px) {
        main {
            max-width: 600px;
            margin: 0 auto;
        }
    }
</style>
</head>
<body>
<header>
    LYF 春节香瓜子葵花子年货大促
</header>
<main>
    <section class="product-card">
        <div class="product-image">
            <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="LYF 香瓜子葵花子">
        </div>
        <div class="product-info">
            <div class="product-title">LYF 香瓜子葵花子</div>
            <div class="product-spec">30g 小包装 / 10包组合装</div>
            <div class="product-selling-points">精选优质葵花子，颗粒饱满，香脆可口；适合春节家庭聚会、伴手礼，随时随地享用。</div>
            <div class="price-section">
                <div class="discount-tag">限时优惠</div>
                <div class="current-price">¥16.9</div>
                <div class="original-price">¥29.9</div>
            </div>
            <div class="stock-info" id="stock-info">库存充足</div>
            <div class="countdown" id="countdown-timer">活动倒计时 00:00:00</div>
            <div class="purchase-section">
                <input type="number" class="quantity-input" id="quantity" value="1" min="1">
                <button class="add-to-cart-btn" onclick="addToCart()">加入购物车</button>
            </div>
        </div>
    </section>
    <section class="cart-section">
        <div class="cart-title">购物车</div>
        <div id="cart-items"></div>
        <div class="cart-actions">
            <button class="checkout-btn" onclick="checkout()">去结算</button>
        </div>
    </section>
</main>
<script>
    const COUNTDOWN_TIME = 3600; 
    let countdownSeconds = COUNTDOWN_TIME;
    let stock = 20;

    function updateCountdown() {
        const timerEl = document.getElementById('countdown-timer');
        countdownSeconds--;
        if (countdownSeconds < 0) { 
            timerEl.textContent = '活动已结束';
            return;
        }
        const h = String(Math.floor(countdownSeconds / 3600)).padStart(2,'0');
        const m = String(Math.floor((countdownSeconds % 3600) / 60)).padStart(2,'0');
        const s = String(countdownSeconds % 60).padStart(2,'0');
        timerEl.textContent = `活动倒计时 ${h}:${m}:${s}`;
    }
    setInterval(updateCountdown, 1000);

    function renderStockInfo() {
        const stockEl = document.getElementById('stock-info');
        if (stock <= 5) {
            stockEl.textContent = `库存紧张，仅剩 ${stock} 件`;
        } else {
            stockEl.textContent = `库存充足 (${stock} 件)`;
        }
    }

    function loadCart() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartContainer = document.getElementById('cart-items');
        cartContainer.innerHTML = '';
        cart.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'cart-item';
            div.innerHTML = `<span class="cart-item-name">${item.name}</span>
                             <span class="cart-item-qty">数量: ${item.qty}</span>
                             <button onclick="removeFromCart(${index})">删除</button>`;
            cartContainer.appendChild(div);
        });
    }

    function addToCart() {
        const qty = parseInt(document.getElementById('quantity').value);
        if (qty > stock) {
            alert('库存不足，无法加入购物车');
            return;
        }
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart.push({ name: 'LYF 香瓜子葵花子', qty });
        localStorage.setItem('cart', JSON.stringify(cart));
        stock -= qty;
        renderStockInfo();
        loadCart();
    }

    function removeFromCart(index) {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        stock += cart[index].qty;
        cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        renderStockInfo();
        loadCart();
    }

    function checkout() {
        alert('结算流程示例：进入支付页（未实现）');
    }

    renderStockInfo();
    loadCart();
</script>
</body>
</html>