<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF春节香瓜子葵花子大促</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        background-color: #F4F4F5;
        color: #333;
    }
    header, section, aside, nav, footer {
        padding: 16px;
    }
    .hero-banner {
        background-color: #E4393C;
        color: #fff;
        text-align: center;
    }
    .hero-banner img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
    }
    .hero-banner h1 {
        margin-top: 12px;
        font-size: 1.5rem;
    }
    .product-spec, .price-box, .countdown-timer, .stock-alert, .quantity-selector, .add-to-cart, .checkout-flow {
        background-color: #fff;
        margin: 12px 0;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .price-box h2 {
        color: #E4393C;
    }
    .price-current {
        font-size: 1.6rem;
        color: #E4393C;
        font-weight: bold;
    }
    .price-old {
        text-decoration: line-through;
        color: #999;
        margin-left: 8px;
    }
    .promotion-tag {
        display: flex;
        gap: 8px;
        margin-top: 8px;
    }
    .promotion-tag span {
        background-color: #FFD700;
        color: #E4393C;
        padding: 4px 8px;
        border-radius: 4px;
        font-weight: bold;
    }
    .countdown-timer {
        text-align: center;
        color: #E4393C;
        font-weight: bold;
    }
    .stock-alert {
        text-align: center;
        font-size: 0.95rem;
        color: #E4393C;
    }
    .quantity-selector {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }
    .quantity-selector input {
        width: 50px;
        padding: 4px;
        text-align: center;
    }
    .add-to-cart {
        text-align: center;
    }
    .add-to-cart button {
        background-color: #E4393C;
        color: #fff;
        border: none;
        padding: 12px 20px;
        font-size: 1rem;
        border-radius: 4px;
        cursor: pointer;
    }
    aside.cart-panel {
        background-color: #fff;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        border-top: 1px solid #ddd;
        max-height: 40%;
        overflow-y: auto;
    }
    .cart-panel h3 {
        border-bottom: 1px solid #ddd;
        padding-bottom: 8px;
    }
    .cart-item {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #f0f0f0;
    }
    .cart-item button {
        background: none;
        border: none;
        color: #E4393C;
        cursor: pointer;
    }
    .checkout-flow {
        text-align: center;
    }
    .coupon-popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #fff;
        padding: 16px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 1000;
    }
    .category-nav {
        background-color: #fff;
        border-bottom: 1px solid #ddd;
    }
    .category-nav ul {
        display: flex;
        list-style: none;
        padding: 0;
        margin: 0;
        gap: 8px;
        overflow-x: auto;
    }
    .category-nav li {
        padding: 8px 12px;
        background-color: #E4393C;
        color: #fff;
        border-radius: 4px;
        white-space: nowrap;
        cursor: pointer;
    }
    @media (min-width: 768px) {
        body {
            max-width: 480px;
            margin: 0 auto;
        }
    }
</style>
</head>
<body>
    <nav class="category-nav">
        <ul>
            <li>坚果炒货</li>
            <li>糖果巧克力</li>
            <li>饼干糕点</li>
            <li>更多年货</li>
        </ul>
    </nav>
    <section class="hero-banner">
        <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="春节香瓜子葵花子">
        <h1>LYF春节香瓜子葵花子</h1>
        <p>精选好原料，香脆可口，春节必备</p>
    </section>
    <section class="product-spec">
        <h2>产品规格与包装说明</h2>
        <p>30g 小包装 × 10包组合装，独立包装，携带方便</p>
    </section>
    <section class="price-box">
        <h2>限时优惠价</h2>
        <p><span class="price-current">¥16.9</span><span class="price-old">¥29.9</span></p>
        <div class="promotion-tag">
            <span>限时抢购</span>
            <span>热销</span>
        </div>
    </section>
    <section class="countdown-timer">
        <h3>促销倒计时</h3>
        <p id="timer">00:00:00</p>
    </section>
    <section class="stock-alert">
        <p id="stockCount">库存剩余：50件</p>
        <p>抢购中，售完即止！</p>
    </section>
    <section class="quantity-selector">
        <label for="quantity">数量</label>
        <input type="number" id="quantity" value="1" min="1">
    </section>
    <section class="add-to-cart">
        <button id="addCartBtn">加入购物车</button>
        <p id="feedbackMsg"></p>
    </section>
    <aside class="cart-panel">
        <h3>购物车</h3>
        <ul id="cartList"></ul>
    </aside>
    <section class="checkout-flow">
        <h3>结算流程</h3>
        <p>点击商品进入支付页，完成在线支付</p>
    </section>
    <div class="coupon-popup" id="couponPopup">
        <h3>领取优惠券</h3>
        <p>¥5元春节专享优惠券，立即使用</p>
        <button onclick="closeCoupon()">关闭</button>
    </div>

<script>
    let stock = 50;
    let countdownDuration = 3600; 
    const cartData = JSON.parse(localStorage.getItem('cart')) || [];

    function updateCartUI() {
        const cartList = document.getElementById('cartList');
        cartList.innerHTML = '';
        cartData.forEach((item, index) => {
            const li = document.createElement('li');
            li.className = 'cart-item';
            li.innerHTML = `${item.name} × ${item.quantity} 
            <button onclick="removeFromCart(${index})">删除</button>`;
            cartList.appendChild(li);
        });
        localStorage.setItem('cart', JSON.stringify(cartData));
    }

    function removeFromCart(index) {
        cartData.splice(index, 1);
        updateCartUI();
    }

    document.getElementById('addCartBtn').addEventListener('click', () => {
        const qty = parseInt(document.getElementById('quantity').value);
        if (qty > stock) {
            alert('库存不足');
            return;
        }
        stock -= qty;
        document.getElementById('stockCount').innerText = `库存剩余：${stock}件`;
        cartData.push({ name: 'LYF春节香瓜子葵花子', quantity: qty });
        updateCartUI();
        document.getElementById('feedbackMsg').innerText = '已加入购物车';
    });

    function startCountdown() {
        const timerEl = document.getElementById('timer');
        let remaining = countdownDuration;
        setInterval(() => {
            if (remaining <= 0) return;
            remaining--;
            const h = String(Math.floor(remaining / 3600)).padStart(2, '0');
            const m = String(Math.floor((remaining % 3600) / 60)).padStart(2, '0');
            const s = String(remaining % 60).padStart(2, '0');
            timerEl.innerText = `${h}:${m}:${s}`;
        }, 1000);
    }

    function openCoupon() {
        document.getElementById('couponPopup').style.display = 'block';
    }
    function closeCoupon() {
        document.getElementById('couponPopup').style.display = 'none';
    }

    window.onload = () => {
        startCountdown();
        updateCartUI();
        setTimeout(openCoupon, 3000);
    }
</script>
</body>
</html>