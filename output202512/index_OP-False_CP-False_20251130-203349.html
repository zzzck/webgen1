<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 春节零食大促 - 香瓜子葵花子</title>
<style>
body { margin:0; font-family: Arial, sans-serif; background-color:#fff; color:#333; }
header { background-color:#E4393C; color:#fff; padding:10px; text-align:center; }
header h1 { margin:0; font-size:20px; }
.search-bar { display:flex; margin-top:5px; }
.search-bar input { flex:1; padding:5px; border:none; border-radius:4px; }
.search-bar button { padding:5px 10px; border:none; background:#fff; color:#E4393C; font-weight:bold; border-radius:4px; margin-left:5px; }

nav { background-color:#f8f8f8; display:flex; justify-content:space-around; padding:10px 0; border-bottom:1px solid #eee; }
nav a { color:#333; text-decoration:none; font-size:14px; }

main { padding:10px; }
.product-gallery { display:flex; align-items:center; position:relative; }
.product-gallery img { width:100%; max-height:250px; object-fit:cover; border:1px solid #ddd; }
.gallery-btn { position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,0.5); color:white; border:none; padding:5px; cursor:pointer; }
.gallery-btn.left { left:5px; }
.gallery-btn.right { right:5px; }

.product-info { margin-top:15px; }
.product-info h2 { margin:0; font-size:18px; color:#E4393C; }
.sell-points { margin-top:10px; }
.sell-points span { display:inline-block; background:#ffe; border:1px solid #E4393C; color:#E4393C; padding:3px 5px; border-radius:4px; margin:2px; font-size:12px; }

.price-section { margin-top:15px; background:#fff8f0; padding:10px; border-radius:5px; border:1px solid #E4393C;}
.price-now { font-size:20px; color:#E4393C; font-weight:bold; }
.price-old { text-decoration:line-through; color:#999; margin-left:10px; }
.countdown { margin-top:5px; font-size:14px; color:#E4393C;}

.coupons { margin-top:10px; display:flex; gap:10px; }
.coupon { flex:1; background:#E4393C; color:#fff; padding:10px; border-radius:5px; text-align:center; cursor:pointer; }
.coupon:active { background:#c52722; }

.specs { margin-top:10px; }
.specs label { display:block; margin-bottom:5px; font-weight:bold; }
.specs select { width:100%; padding:5px; border:1px solid #ccc; border-radius:4px; }

.buy-section { margin-top:20px; position:fixed; bottom:0; left:0; right:0; background-color:#E4393C; padding:10px; text-align:center; }
.buy-section button { background:#fff; color:#E4393C; border:none; padding:10px 20px; font-size:16px; font-weight:bold; border-radius:5px; cursor:pointer; }

.modal { display:none; position:fixed; bottom:0; left:0; right:0; top:0; background:rgba(0,0,0,0.5); }
.modal-content { position:absolute; bottom:0; left:0; right:0; background:#fff; padding:20px; border-radius:10px 10px 0 0; }
.modal-content h3 { margin-top:0; }
.modal-content button { margin-top:10px; background:#E4393C; color:#fff; border:none; padding:10px; width:100%; font-size:16px; border-radius:5px; }

.comments { margin-top:30px; }
.comments h3 { margin-bottom:10px; }
.comment-filter { margin-bottom:10px; }
.comment-filter select { padding:5px; }
.comment-list { border-top:1px solid #ddd; }
.comment { border-bottom:1px solid #eee; padding:5px 0; }
.comment .author { font-weight:bold; }
.comment-form { margin-top:10px; display:flex; gap:5px; }
.comment-form input { flex:1; padding:5px; }
.comment-form button { padding:5px 10px; background:#E4393C; color:#fff; border:none; border-radius:4px; cursor:pointer; }

</style>
</head>
<body>
<header>
  <h1>LYF 春节零食大促</h1>
  <div class="search-bar">
    <input type="text" placeholder="搜索商品...">
    <button>搜索</button>
  </div>
</header>

<nav>
  <a href="#">首页</a>
  <a href="#">年货专区</a>
  <a href="#">优惠券</a>
  <a href="#">个人中心</a>
</nav>

<main>
  <div class="product-gallery">
    <button class="gallery-btn left">&#9664;</button>
    <img id="gallery-img" src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="产品图">
    <button class="gallery-btn right">&#9654;</button>
  </div>
  <div class="product-info">
    <h2>LYF 香瓜子葵花子 30g×10包</h2>
    <div class="sell-points">
      <span>颗粒饱满</span>
      <span>独立包装不脏手</span>
      <span>买多少送多少</span>
      <span>五香味</span>
    </div>
  </div>
  <div class="price-section">
    <span class="price-now" id="price-now">¥16.9</span>
    <span class="price-old">¥29.9</span>
    <div class="countdown">春节限时抢购倒计时：<span id="countdown"></span></div>
    <div class="coupons">
      <div class="coupon" data-discount="2" data-threshold="10">满10减2元</div>
      <div class="coupon" data-discount="5" data-threshold="20">满20减5元</div>
    </div>
  </div>
  <div class="specs">
    <label for="spec-select">购买规格：</label>
    <select id="spec-select">
      <option value="10" data-price="16.9">10包 ¥16.9</option>
      <option value="20" data-price="30">20包 ¥30</option>
      <option value="30" data-price="42">30包 ¥42</option>
    </select>
  </div>
  <div class="comments">
    <h3>商品评价</h3>
    <div class="comment-filter">
      <select id="filter-select">
        <option value="all">全部</option>
        <option value="positive">好评</option>
        <option value="neutral">中评</option>
        <option value="negative">差评</option>
      </select>
    </div>
    <div class="comment-list" id="comment-list">
      <div class="comment" data-type="positive"><span class="author">用户A:</span> 很好吃，包装精致！</div>
      <div class="comment" data-type="neutral"><span class="author">用户B:</span> 还可以，偏咸。</div>
      <div class="comment" data-type="negative"><span class="author">用户C:</span> 颗粒有点小。</div>
    </div>
    <div class="comment-form">
      <input id="comment-input" type="text" placeholder="发表你的评论...">
      <button id="comment-submit">提交</button>
    </div>
  </div>
</main>

<div class="buy-section">
  <button id="buy-btn">立即购买</button>
</div>

<div class="modal" id="modal">
  <div class="modal-content">
    <h3>确认订单信息</h3>
    <div id="order-info"></div>
    <button id="confirm-pay">确认支付</button>
  </div>
</div>

<script>
let galleryImages = [
  "https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp",
  "https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b",
  "https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg"
];
let currentIndex = 0;
document.querySelector('.gallery-btn.left').onclick = () => {
  currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
  document.getElementById('gallery-img').src = galleryImages[currentIndex];
};
document.querySelector('.gallery-btn.right').onclick = () => {
  currentIndex = (currentIndex + 1) % galleryImages.length;
  document.getElementById('gallery-img').src = galleryImages[currentIndex];
};

// Countdown
function updateCountdown() {
  let endDate = new Date();
  endDate.setHours(endDate.getHours() + 48);
  function tick() {
    let now = new Date();
    let diff = endDate - now;
    if(diff <= 0) {
      document.getElementById('countdown').innerText = "活动已结束";
      clearInterval(timer);
      return;
    }
    let hours = Math.floor(diff/(1000*60*60));
    let minutes = Math.floor((diff%(1000*60*60))/(1000*60));
    let seconds = Math.floor((diff%(1000*60))/1000);
    document.getElementById('countdown').innerText = `${hours}小时${minutes}分${seconds}秒`;
  }
  tick();
  let timer = setInterval(tick,1000);
}
updateCountdown();

// Coupons
let basePrice = 16.9;
let discount = 0;
document.querySelectorAll('.coupon').forEach(c => {
  c.addEventListener('click', () => {
    let threshold = parseFloat(c.dataset.threshold);
    let dis = parseFloat(c.dataset.discount);
    let specPrice = parseFloat(document.getElementById('spec-select').selectedOptions[0].dataset.price);
    if(specPrice >= threshold) {
      discount = dis;
      let finalPrice = (specPrice - discount).toFixed(2);
      document.getElementById('price-now').innerText = '¥' + finalPrice;
    } else {
      alert(`金额未达到满${threshold}元条件`);
    }
  });
});

// Specs change
document.getElementById('spec-select').addEventListener('change', function(){
  let price = parseFloat(this.selectedOptions[0].dataset.price);
  discount = 0;
  document.getElementById('price-now').innerText = '¥' + price;
});

// Comments filter
document.getElementById('filter-select').addEventListener('change', function(){
  let val = this.value;
  document.querySelectorAll('#comment-list .comment').forEach(c=>{
    if(val === 'all' || c.dataset.type === val){
      c.style.display = 'block';
    } else {
      c.style.display = 'none';
    }
  });
});

// Add comment
document.getElementById('comment-submit').addEventListener('click', function(){
  let text = document.getElementById('comment-input').value.trim();
  if(text){
    let div = document.createElement('div');
    div.className = 'comment';
    div.dataset.type = 'positive';
    div.innerHTML = `<span class="author">用户X:</span> ${text}`;
    document.getElementById('comment-list').appendChild(div);
    document.getElementById('comment-input').value = '';
  }
});

// Modal buy
document.getElementById('buy-btn').onclick = function(){
  let specText = document.getElementById('spec-select').selectedOptions[0].text;
  let finalPrice = document.getElementById('price-now').innerText;
  document.getElementById('order-info').innerHTML = `已选规格：${specText}<br>最终价格：${finalPrice} `;
  document.getElementById('modal').style.display = 'block';
};
document.getElementById('modal').onclick = function(e){
  if(e.target === this){
    this.style.display = 'none';
  }
};
document.getElementById('confirm-pay').onclick = function(){
  let specValue = document.getElementById('spec-select').value;
  let finalPrice = document.getElementById('price-now').innerText;
  let order = { product: '香瓜子葵花子', spec: specValue+'包', price: finalPrice };
  alert(JSON.stringify(order));
};
</script>
</body>
</html>