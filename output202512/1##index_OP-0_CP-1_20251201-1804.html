<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYF 春节香瓜子葵花子</title>
    <style>
        body {
            margin: 0;
            font-family: "Microsoft YaHei", sans-serif;
            background-color: #fff5f5;
            color: #333;
        }
        header {
            background-color: #E4393C;
            color: #fff;
            text-align: center;
            padding: 1rem;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .product-container {
            padding: 1rem;
        }
        .product-image img {
            width: 100%;
            border-radius: 8px;
        }
        .product-info {
            padding: 1rem 0;
        }
        .product-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .product-spec {
            font-size: 1rem;
            color: #555;
            margin-bottom: 0.5rem;
        }
        .product-selling-points {
            background-color: #ffecec;
            padding: 0.5rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            color: #E4393C;
        }
        .price-section {
            display: flex;
            align-items: baseline;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        .current-price {
            font-size: 1.5rem;
            color: #E4393C;
            font-weight: bold;
        }
        .original-price {
            text-decoration: line-through;
            color: #999;
        }
        .promo-label {
            display: inline-block;
            background-color: #ffcc00;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        .stock-info {
            margin-bottom: 1rem;
            color: #E4393C;
            font-weight: bold;
        }
        .quantity-control {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        .quantity-control button {
            padding: 0.3rem 0.6rem;
            border: none;
            background-color: #E4393C;
            color: #fff;
            font-size: 1rem;
            cursor: pointer;
        }
        .quantity-control input {
            text-align: center;
            width: 50px;
            font-size: 1rem;
        }
        .buy-actions {
            display: flex;
            gap: 1rem;
        }
        .btn {
            flex: 1;
            padding: 0.8rem;
            text-align: center;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            border: none;
        }
        .btn-add {
            background-color: #E4393C;
            color: #fff;
        }
        .btn-buy {
            background-color: #ff9800;
            color: #fff;
        }
        .category-section {
            margin-top: 2rem;
            background-color: #fff;
            padding: 1rem;
        }
        .category-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            border-left: 4px solid #E4393C;
            padding-left: 0.5rem;
        }
        .categories {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
        }
        .category-item {
            flex: 0 0 auto;
            padding: 0.5rem 1rem;
            background-color: #ffecec;
            border-radius: 5px;
            cursor: pointer;
            white-space: nowrap;
        }
        .cart-section {
            margin-top: 2rem;
            background-color: #fff;
            padding: 1rem;
        }
        .cart-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            border-left: 4px solid #E4393C;
            padding-left: 0.5rem;
        }
        .cart-items {
            margin-bottom: 1rem;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .cart-item-name {
            flex: 1;
        }
        .cart-item-qty {
            margin: 0 1rem;
        }
        .cart-total {
            font-weight: bold;
            text-align: right;
            color: #E4393C;
        }
        .countdown {
            font-size: 1rem;
            font-weight: bold;
            color: #fff;
            background-color: #E4393C;
            padding: 0.5rem;
            text-align: center;
            border-radius: 5px;
            margin-bottom: 1rem;
        }
        @media (max-width: 600px) {
            .price-section {
                flex-direction: column;
                align-items: flex-start;
            }
            .buy-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>LYF 春节香瓜子葵花子 年货大促</header>
    <div class="product-container">
        <div class="countdown" id="countdown">促销倒计时：00:00:00</div>
        <div class="product-image">
            <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="香瓜子葵花子">
        </div>
        <div class="product-info">
            <div class="product-title">LYF 香瓜子葵花子 30g/包 × 10包组合装</div>
            <div class="product-spec">规格：30g 小包装 × 10包</div>
            <div class="product-selling-points">精选葵花子，香脆可口，送礼、自食均宜，春节必备零食！</div>
            <div class="price-section">
                <div class="current-price">¥16.9</div>
                <div class="original-price">¥29.9</div>
            </div>
            <div class="promo-label">限时立省 ¥13</div>
            <div class="stock-info" id="stock-info">库存充足</div>
            <div class="quantity-control">
                <button id="qty-minus">-</button>
                <input id="qty-input" type="number" value="1" min="1">
                <button id="qty-plus">+</button>
            </div>
            <div class="buy-actions">
                <button class="btn btn-add" id="add-to-cart">加入购物车</button>
                <button class="btn btn-buy" id="buy-now">立即购买</button>
            </div>
        </div>
    </div>
    <div class="category-section">
        <div class="category-title">商品分类</div>
        <div class="categories">
            <div class="category-item">坚果类</div>
            <div class="category-item">糕点类</div>
            <div class="category-item">糖果类</div>
            <div class="category-item">干果类</div>
        </div>
    </div>
    <div class="cart-section">
        <div class="cart-title">购物车</div>
        <div class="cart-items" id="cart-items"></div>
        <div class="cart-total" id="cart-total">总计：¥0.00</div>
    </div>
    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const qtyInput = document.getElementById('qty-input');
        document.getElementById('qty-minus').addEventListener('click', () => {
            let val = parseInt(qtyInput.value);
            if (val > 1) {
                qtyInput.value = val - 1;
            }
        });
        document.getElementById('qty-plus').addEventListener('click', () => {
            qtyInput.value = parseInt(qtyInput.value) + 1;
        });
        document.getElementById('add-to-cart').addEventListener('click', () => {
            const qty = parseInt(qtyInput.value);
            const product = {
                name: 'LYF 香瓜子葵花子',
                price: 16.9,
                qty: qty
            };
            const index = cart.findIndex(item => item.name === product.name);
            if (index > -1) {
                cart[index].qty += qty;
            } else {
                cart.push(product);
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });
        function renderCart() {
            const cartItemsDiv = document.getElementById('cart-items');
            cartItemsDiv.innerHTML = '';
            let total = 0;
            cart.forEach((item, idx) => {
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = `
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-qty">x${item.qty}</div>
                    <div>¥${(item.price * item.qty).toFixed(2)}</div>
                    <button onclick="removeItem(${idx})">删除</button>
                `;
                cartItemsDiv.appendChild(div);
                total += item.price * item.qty;
            });
            document.getElementById('cart-total').textContent = `总计：¥${total.toFixed(2)}`;
        }
        function removeItem(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        }
        renderCart();

        function startCountdown(duration) {
            let timer = duration, hours, minutes, seconds;
            const countdownEl = document.getElementById('countdown');
            setInterval(function () {
                hours = parseInt(timer / 3600, 10);
                minutes = parseInt((timer % 3600) / 60, 10);
                seconds = parseInt(timer % 60, 10);

                hours = hours < 10 ? "0" + hours : hours;
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                countdownEl.textContent = `促销倒计时：${hours}:${minutes}:${seconds}`;

                if (--timer < 0) {
                    countdownEl.textContent = "促销已结束";
                }
            }, 1000);
        }
        startCountdown(3600 * 2);

        function checkStock() {
            const stockInfoEl = document.getElementById('stock-info');
            const randomStock = Math.floor(Math.random() * 50) + 1;
            stockInfoEl.textContent = randomStock < 10 ? `库存紧张，仅剩 ${randomStock} 件` : '库存充足';
        }
        checkStock();
    </script>
</body>
</html>