<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 新疆原产葵花籽 产品详情页</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f6f6f6;
        color: #333;
    }
    header {
        background-color: #f23030;
        color: white;
        padding: 10px;
        text-align: center;
    }
    .container {
        display: flex;
        flex-wrap: wrap;
        background-color: white;
        margin: 10px;
        padding: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .product-images {
        flex: 1 1 300px;
        text-align: center;
    }
    .product-images img.main-img {
        width: 100%;
        max-width: 400px;
        border: 1px solid #ddd;
        border-radius: 5px;
        transition: opacity 0.3s;
    }
    .thumbs {
        margin-top: 10px;
        display: flex;
        justify-content: center;
        gap: 8px;
    }
    .thumbs img {
        width: 60px;
        height: 60px;
        border: 1px solid #ddd;
        border-radius: 4px;
        cursor: pointer;
        object-fit: cover;
    }
    .product-info {
        flex: 1 1 300px;
        padding: 10px;
    }
    .product-info h1 {
        font-size: 20px;
        margin: 0;
    }
    .price {
        font-size: 24px;
        color: #f23030;
        margin: 10px 0;
    }
    .promo-tags span {
        display: inline-block;
        background-color: #f23030;
        color: white;
        padding: 3px 8px;
        margin-right: 5px;
        border-radius: 3px;
        font-size: 12px;
    }
    .countdown {
        font-size: 14px;
        margin-top: 5px;
        color: #d9534f;
    }
    .quantity-selector {
        margin-top: 15px;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    .quantity-selector button {
        background-color: #f23030;
        border: none;
        color: white;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 16px;
        border-radius: 3px;
    }
    .quantity-selector input {
        width: 50px;
        text-align: center;
    }
    .coupons {
        margin-top: 15px;
    }
    .coupon {
        display: inline-block;
        border: 1px dashed #f23030;
        padding: 5px 10px;
        margin-right: 5px;
        cursor: pointer;
        color: #f23030;
        border-radius: 3px;
        background-color: #fff0f0;
    }
    .coupon.active {
        background-color: #f23030;
        color: white;
    }
    .total-price {
        margin-top: 10px;
        font-weight: bold;
    }
    .action-buttons {
        margin-top: 15px;
        display: flex;
        gap: 10px;
    }
    .action-buttons button {
        flex: 1;
        padding: 10px;
        background-color: #f23030;
        color: white;
        border: none;
        cursor: pointer;
        font-size: 16px;
        border-radius: 4px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        transition: background-color 0.3s;
    }
    .action-buttons button:hover {
        background-color: #d91d1d;
    }
    .action-buttons button.disabled {
        background-color: #ccc;
        cursor: not-allowed;
    }
    .toast {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: rgba(0,0,0,0.8);
        color: white;
        padding: 8px 15px;
        border-radius: 4px;
        opacity: 0;
        transition: opacity 0.3s;
    }
    .tabs {
        background-color: white;
        margin: 10px;
        padding: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .tab-buttons {
        display: flex;
        border-bottom: 1px solid #ddd;
    }
    .tab-buttons button {
        flex: 1;
        padding: 10px;
        background: none;
        border: none;
        cursor: pointer;
        font-size: 16px;
    }
    .tab-buttons button.active {
        border-bottom: 2px solid #f23030;
        color: #f23030;
        font-weight: bold;
    }
    .tab-content {
        padding: 10px;
    }
    .reviews {
        background-color: white;
        margin: 10px;
        padding: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .filter-buttons {
        margin-bottom: 10px;
    }
    .filter-buttons button {
        margin-right: 5px;
        padding: 5px 10px;
        cursor: pointer;
        border: 1px solid #f23030;
        background-color: white;
        color: #f23030;
        border-radius: 3px;
    }
    .filter-buttons button.active {
        background-color: #f23030;
        color: white;
    }
    .review {
        padding: 5px 0;
        border-bottom: 1px solid #eee;
    }
    /* modal */
    .modal-mask {
        display: none;
        position: fixed;
        left:0;
        right:0;
        bottom:0;
        top:0;
        background-color: rgba(0,0,0,0.5);
        z-index: 1000;
    }
    .modal-panel {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: white;
        padding: 20px;
        border-radius: 10px 10px 0 0;
    }
</style>
</head>
<body>
<header>
    LYF 新疆原产葵花籽 春节热销
</header>
<div class="container">
    <div class="product-images">
        <img src="https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg" class="main-img" id="mainImg">
        <div class="thumbs">
            <img src="https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b" data-src="https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b">
            <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..." data-src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD...">
        </div>
    </div>
    <div class="product-info">
        <h1>LYF 新疆原产葵花籽（30g 独立小包装）</h1>
        <div class="price">¥16.9 / 10包</div>
        <div class="promo-tags">
            <span>春节特惠</span>
            <span>包邮</span>
        </div>
        <div class="countdown">春节限时抢购倒计时：<span id="countdown">02:00:00</span></div>
        <div class="quantity-selector">
            <button id="minusBtn">-</button>
            <input type="text" id="quantity" value="1" readonly>
            <button id="plusBtn">+</button>
        </div>
        <div class="coupons">
            <div class="coupon" data-threshold="10" data-discount="2">满10减2元</div>
            <div class="coupon" data-threshold="20" data-discount="5">满20减5元</div>
        </div>
        <div class="total-price">总价: ¥<span id="totalPrice">16.9</span></div>
        <div class="action-buttons">
            <button id="buyBtn">立即购买</button>
            <button id="cartBtn">加入购物车</button>
        </div>
    </div>
</div>
<div class="tabs">
    <div class="tab-buttons">
        <button class="active" data-tab="intro">商品介绍</button>
        <button data-tab="service">售后保障</button>
    </div>
    <div class="tab-content" id="tabContent">
        这款葵花籽来自新疆原产，颗颗饱满香脆，袋装方便携带，春节送礼佳品。
    </div>
</div>
<div class="reviews">
    <div class="filter-buttons">
        <button class="active" data-filter="all">全部</button>
        <button data-filter="good">好评</button>
        <button data-filter="middle">中评</button>
    </div>
    <div id="reviewList"></div>
</div>
<div class="toast" id="toast"></div>
<!-- modal -->
<div class="modal-mask" id="modalMask">
    <div class="modal-panel">
        <div id="modalInfo"></div>
        <button id="confirmPay">确认支付</button>
    </div>
</div>
<script>
    const pricePerUnit = 16.9;
    let quantity = 1;
    let selectedCoupon = null;
    let countdownSeconds = 2 * 60 * 60;
    let reviewsData = [
        {type:'good', text:'非常好吃，包装精美！'},
        {type:'middle', text:'味道还行，有点偏咸'},
        {type:'good', text:'买来送人很合适'},
        {type:'middle', text:'分量一般，价格稍高'},
    ];
    const quantityInput = document.getElementById('quantity');
    const totalPriceEl = document.getElementById('totalPrice');
    const couponsEls = document.querySelectorAll('.coupon');
    const toast = document.getElementById('toast');
    const countdownEl = document.getElementById('countdown');
    const buyBtn = document.getElementById('buyBtn');
    const cartBtn = document.getElementById('cartBtn');

    function renderReviews(filterType){
        const listEl = document.getElementById('reviewList');
        listEl.innerHTML = '';
        const filtered = reviewsData.filter(r => filterType==='all' ? true : r.type === filterType);
        filtered.forEach(r=>{
            const div = document.createElement('div');
            div.className='review';
            div.textContent = r.text;
            listEl.appendChild(div);
        });
    }
    renderReviews('all');

    document.querySelectorAll('.filter-buttons button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
            document.querySelectorAll('.filter-buttons button').forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');
            renderReviews(btn.dataset.filter);
        });
    });

    function updateTotalPrice(){
        let discount = 0;
        if(selectedCoupon && quantity*pricePerUnit >= parseFloat(selectedCoupon.dataset.threshold)){
            discount = parseFloat(selectedCoupon.dataset.discount);
        } else {
            selectedCoupon && selectedCoupon.classList.remove('active');
            selectedCoupon = null;
        }
        const total = quantity*pricePerUnit - discount;
        totalPriceEl.textContent = total.toFixed(1);
    }

    document.getElementById('minusBtn').addEventListener('click', ()=>{
        if(quantity>1){
            quantity--;
            quantityInput.value = quantity;
            updateTotalPrice();
        }
    });
    document.getElementById('plusBtn').addEventListener('click', ()=>{
        quantity++;
        quantityInput.value = quantity;
        updateTotalPrice();
    });
    couponsEls.forEach(c=>{
        c.addEventListener('click', ()=>{
            couponsEls.forEach(cc=>cc.classList.remove('active'));
            selectedCoupon = c;
            c.classList.add('active');
            updateTotalPrice();
        });
    });

    function showToast(message){
        toast.textContent = message;
        toast.style.opacity = '1';
        setTimeout(()=>{
            toast.style.opacity = '0';
        },2000);
    }

    cartBtn.addEventListener('click', ()=>{
        showToast(`已成功加入购物车：LYF葵花籽 x ${quantity}`);
    });

    // countdown
    const countdownInterval = setInterval(()=>{
        countdownSeconds--;
        let h = String(Math.floor(countdownSeconds/3600)).padStart(2,'0');
        let m = String(Math.floor((countdownSeconds%3600)/60)).padStart(2,'0');
        let s = String(countdownSeconds%60).padStart(2,'0');
        countdownEl.textContent = `${h}:${m}:${s}`;
        if(countdownSeconds<=0){
            clearInterval(countdownInterval);
            buyBtn.textContent = '活动已结束';
            buyBtn.classList.add('disabled');
            buyBtn.disabled = true;
            cartBtn.classList.add('disabled');
            cartBtn.disabled = true;
        }
    },1000);

    // tabs
    document.querySelectorAll('.tab-buttons button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
            document.querySelectorAll('.tab-buttons button').forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('tabContent').textContent = 
                btn.dataset.tab==='intro' ? 
                '这款葵花籽来自新疆原产，颗颗饱满香脆，袋装方便携带，春节送礼佳品。' :
                '售后保障：如有质量问题，七天无理由退换货，客服全天候在线服务。';
        });
    });

    // image switch
    const mainImg = document.getElementById('mainImg');
    document.querySelectorAll('.thumbs img').forEach(img=>{
        img.addEventListener('mouseover', ()=>{
            mainImg.style.opacity = 0.3;
            setTimeout(()=>{
                mainImg.src = img.dataset.src;
                mainImg.style.opacity = 1;
            },200);
        });
        img.addEventListener('click', ()=>{
            mainImg.src = img.dataset.src;
        });
    });

    // modal
    const modalMask = document.getElementById('modalMask');
    const modalInfo = document.getElementById('modalInfo');
    document.getElementById('buyBtn').addEventListener('click', ()=>{
        if(countdownSeconds<=0) return;
        modalInfo.innerHTML = `已选商品：LYF葵花籽 x ${quantity}<br>最终价格：¥${totalPriceEl.textContent}`;
        modalMask.style.display = 'block';
    });
    document.getElementById('confirmPay').addEventListener('click', ()=>{
        const order = {
            product: 'LYF葵花籽',
            quantity: quantity,
            totalPrice: parseFloat(totalPriceEl.textContent)
        };
        alert(`订单信息：${JSON.stringify(order)}`);
        modalMask.style.display = 'none';
    });
    modalMask.addEventListener('click', e=>{
        if(e.target === modalMask) modalMask.style.display='none';
    });
</script>
</body>
</html>