{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：内蒙古葵花籽（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品预览图\n     1 张大图链接“https://cbu01.alicdn.com/img/ibank/O1CN01N71Meg2Mm3r6R3NbC_!!2218940509869-0-cib.220x220.jpg”\n    缩略图1“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    缩略图2“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    卖点文案：突出“内蒙古原产”、“颗粒饱满”、“独立包装不脏手”、“买多少送多少”、“四种口味”\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n2. 优惠券与价格计算 界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n3.添加购买选项：可以包含10包、20包、30包，价格可以买的越多越优惠。\n4. 评论区筛选器：展示评论列表。\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n6.随机优化功能\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求",
              "识别4P营销要素的交付物",
              "划分实现任务并分配到角色"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "将客户需求转化为结构化PRD",
              "明确页面模块、功能、交互细节",
              "标注产品图、价格信息、促销文案及其他元素"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "根据PRD设计页面信息架构",
              "制定HTML布局结构（搜索栏、导航栏、产品介绍区、缩略图区、倒计时、优惠券区、购买选项、评论区、底部购买按钮及Slide-up Modal）",
              "规划各模块间的组件关系与样式接口"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据架构方案实现单文件HTML（含CSS/JS）",
              "嵌入产品图片与卖点文案",
              "实现限时抢购倒计时逻辑",
              "实现优惠券及价格计算功能",
              "添加购买选项逻辑与价格动态更新",
              "开发评论区筛选功能",
              "实现底部立即购买的Slide-up Modal交互与订单信息alert",
              "进行随机优化功能开发"
            ]
          }
        ]
      }
    }
  ],
  "prd": [
    {
      "topic": "prd",
      "sender": "PM",
      "content": {
        "product": "春节年货 LYF 内蒙古葵花籽移动端销售页，集成 4P 营销要素与多交互功能的单文件电商网页",
        "goals": [
          "在春节促销场景中提升 LYF 葵花籽销量",
          "整合 4P 营销要素（产品、价格、渠道、促销）形成完整转化漏斗",
          "优化移动端用户体验，保持京东/天猫风格与春节红色调的视觉统一",
          "通过限时抢购倒计时与优惠券逻辑增强购买紧迫感",
          "提供多包数购买选项实现价格分层与客单价提升",
          "实现评论筛选功能提升用户信任与转化率",
          "利用 Slide-up Modal 购物车提高结算效率、减少跳失率"
        ],
        "target_users": [
          "春节期间想囤年货的都市白领：追求快速下单、价格优惠与配送便利",
          "重视产品原产地与质量的中老年消费者：关注内蒙古原产、颗粒饱满的真实卖点",
          "习惯在移动端完成购物的年轻人：希望页面操作顺畅、信息清晰、促销醒目"
        ],
        "page_sections": [
          {
            "id": "search-bar",
            "purpose": "提供顶部搜索功能，方便用户查找其他年货或相关零食"
          },
          {
            "id": "nav-bar",
            "purpose": "展示品牌 LOGO、分类入口及节日促销入口，帮助用户快速导航"
          },
          {
            "id": "product-gallery",
            "purpose": "展示葵花籽产品大图与缩略图，支持切换查看商品细节"
          },
          {
            "id": "product-info",
            "purpose": "呈现产品名称、品牌、规格、卖点文案，强化购买吸引力"
          },
          {
            "id": "price-section",
            "purpose": "显示现价、原价和促销标签，同时加入春节限时抢购倒计时"
          },
          {
            "id": "coupon-section",
            "purpose": "展示两张优惠券（满 10 减 2 元、满 20 减 5 元）并计算价格优惠"
          },
          {
            "id": "purchase-options",
            "purpose": "提供包数选择（10包、20包、30包），并动态更新价格与优惠"
          },
          {
            "id": "promotion-banner",
            "purpose": "突出买多少送多少、四种口味等促销信息，增加购买动机"
          },
          {
            "id": "review-section",
            "purpose": "展示评论列表并提供筛选功能，提升用户信任"
          },
          {
            "id": "buy-now-button",
            "purpose": "固定底部立即购买按钮，触发 Slide-up Modal 购物车确认面板"
          },
          {
            "id": "cart-modal",
            "purpose": "弹出购物车详情界面，显示选购商品信息、最终价格，并包含确认支付按钮"
          }
        ]
      }
    }
  ],
  "page_spec": [
    {
      "topic": "page_spec",
      "sender": "Architect",
      "content": {
        "layout": "single-column",
        "colors": [
          "#E4393C",
          "#FFD700",
          "#FFFFFF",
          "#333333",
          "#F4F4F5"
        ],
        "components": [
          {
            "id": "search-bar",
            "html": "header",
            "children": [
              {
                "tag": "input",
                "content_hint": "搜索框，输入年货或零食关键字"
              },
              {
                "tag": "button",
                "content_hint": "搜索按钮"
              }
            ]
          },
          {
            "id": "nav-bar",
            "html": "nav",
            "children": [
              {
                "tag": "img",
                "content_hint": "品牌LOGO"
              },
              {
                "tag": "ul",
                "content_hint": "分类入口导航列表"
              },
              {
                "tag": "a",
                "content_hint": "节日促销入口链接"
              }
            ]
          },
          {
            "id": "product-gallery",
            "html": "section",
            "children": [
              {
                "tag": "img",
                "content_hint": "产品大图展示"
              },
              {
                "tag": "div",
                "content_hint": "产品缩略图集合"
              }
            ]
          },
          {
            "id": "product-info",
            "html": "section",
            "children": [
              {
                "tag": "h1",
                "content_hint": "产品名称：LYF 内蒙古葵花籽"
              },
              {
                "tag": "p",
                "content_hint": "规格介绍：30g 小包装 / 10包组合装"
              },
              {
                "tag": "ul",
                "content_hint": "卖点文案：内蒙古原产、颗粒饱满、独立包装不脏手、买多少送多少、四种口味"
              }
            ]
          },
          {
            "id": "price-section",
            "html": "section",
            "children": [
              {
                "tag": "span",
                "content_hint": "现价 ¥16.9"
              },
              {
                "tag": "del",
                "content_hint": "原价 ¥29.9"
              },
              {
                "tag": "div",
                "content_hint": "促销标签"
              },
              {
                "tag": "div",
                "content_hint": "春节限时抢购倒计时模块"
              }
            ]
          },
          {
            "id": "coupon-section",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "优惠券A：满 10 减 2 元"
              },
              {
                "tag": "div",
                "content_hint": "优惠券B：满 20 减 5 元"
              }
            ]
          },
          {
            "id": "purchase-options",
            "html": "section",
            "children": [
              {
                "tag": "button",
                "content_hint": "选项：10包"
              },
              {
                "tag": "button",
                "content_hint": "选项：20包"
              },
              {
                "tag": "button",
                "content_hint": "选项：30包"
              }
            ]
          },
          {
            "id": "promotion-banner",
            "html": "section",
            "children": [
              {
                "tag": "p",
                "content_hint": "促销信息：买多少送多少、四种口味"
              }
            ]
          },
          {
            "id": "review-section",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "评论列表展示区"
              },
              {
                "tag": "select",
                "content_hint": "评论筛选器"
              }
            ]
          },
          {
            "id": "buy-now-button",
            "html": "footer",
            "children": [
              {
                "tag": "button",
                "content_hint": "固定底部立即购买按钮"
              }
            ]
          },
          {
            "id": "cart-modal",
            "html": "aside",
            "children": [
              {
                "tag": "div",
                "content_hint": "已选商品信息"
              },
              {
                "tag": "div",
                "content_hint": "最终计算价格"
              },
              {
                "tag": "button",
                "content_hint": "确认支付按钮，点击后弹出订单信息"
              }
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 内蒙古葵花籽 春节大促</title>\n<style>\nbody{margin:0;font-family:\"Helvetica\",\"Arial\",sans-serif;background:#F4F4F5;color:#333;}\nheader,nav,section,footer,aside{max-width:600px;margin:0 auto;}\nheader{display:flex;gap:5px;padding:10px;background:#E4393C;}\nheader input{flex:1;padding:8px;border:none;border-radius:4px;}\nheader button{background:#FFD700;border:none;padding:8px 12px;border-radius:4px;font-weight:bold;}\nnav{display:flex;align-items:center;justify-content:space-between;background:#fff;padding:8px;}\nnav img{height:40px;}\nnav ul{list-style:none;margin:0;padding:0;display:flex;gap:10px;}\nnav ul li{font-size:14px;}\nnav a{color:#E4393C;text-decoration:none;font-weight:bold;}\n#product-gallery img{width:100%;display:block;border-radius:4px;}\n.thumbnail-list{display:flex;gap:5px;margin-top:5px;}\n.thumbnail-list img{width:30%;cursor:pointer;border:2px solid transparent;border-radius:4px;}\n.thumbnail-list img:hover{border-color:#E4393C;}\n#product-info{padding:10px;background:#fff;margin-top:10px;}\n#product-info h1{font-size:18px;color:#E4393C;margin:0;}\n#product-info ul{padding-left:20px;margin:5px 0;}\n#price-section{padding:10px;background:#fff;display:flex;align-items:center;gap:10px;}\n#price-section span{color:#E4393C;font-size:20px;font-weight:bold;}\n#price-section del{color:#999;}\n.promo-label{background:#FFD700;color:#E4393C;padding:2px 6px;border-radius:4px;font-size:12px;}\n.countdown{margin-left:auto;font-size:14px;color:#E4393C;font-weight:bold;}\n#coupon-section{padding:10px;background:#fff;display:flex;gap:10px;flex-wrap:wrap;}\n.coupon{flex:1;padding:8px;background:#E4393C;color:#fff;border-radius:4px;text-align:center;font-size:14px;}\n#purchase-options{padding:10px;background:#fff;}\n#purchase-options button{margin-right:5px;margin-bottom:5px;padding:8px 12px;border:none;border-radius:4px;background:#FFD700;font-weight:bold;}\n#purchase-options button.active{background:#E4393C;color:#fff;}\n#promotion-banner{padding:10px;background:#fff;color:#E4393C;font-weight:bold;}\n#review-section{padding:10px;background:#fff;margin-bottom:60px;}\n#review-section select{margin-bottom:10px;padding:5px;}\n.review-item{padding:8px;border-bottom:1px solid #eee;}\nfooter{position:fixed;bottom:0;left:0;right:0;background:#E4393C;padding:10px;text-align:center;}\nfooter button{background:#FFD700;border:none;padding:10px 20px;font-size:16px;font-weight:bold;border-radius:4px;}\n#cart-modal{position:fixed;bottom:-100%;left:0;right:0;background:#fff;border-top-left-radius:10px;border-top-right-radius:10px;box-shadow:0 -2px 6px rgba(0,0,0,0.3);transition:bottom 0.3s ease;}\n.modal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,0.4);display:none;}\n.cart-content{padding:15px;}\n.cart-item{margin-bottom:10px;}\n.cart-total{font-weight:bold;color:#E4393C;margin-bottom:10px;}\n.cart-actions button{background:#FFD700;padding:8px 16px;border:none;border-radius:4px;font-weight:bold;}\n</style>\n</head>\n<body>\n<header id=\"search-bar\">\n<input type=\"text\" placeholder=\"搜索年货/零食...\">\n<button>搜索</button>\n</header>\n<nav id=\"nav-bar\">\n<img src=\"https://via.placeholder.com/80x40?text=LYF\" alt=\"LYF LOGO\">\n<ul>\n<li>坚果</li>\n<li>瓜子</li>\n<li>糖果</li>\n</ul>\n<a href=\"#\">春节特惠</a>\n</nav>\n<section id=\"product-gallery\">\n<img id=\"main-image\" src=\"https://cbu01.alicdn.com/img/ibank/O1CN01N71Meg2Mm3r6R3NbC_!!2218940509869-0-cib.220x220.jpg\" alt=\"内蒙古葵花籽大图\">\n<div class=\"thumbnail-list\">\n<img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\" alt=\"缩略图1\">\n<img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"缩略图2\">\n</div>\n</section>\n<section id=\"product-info\">\n<h1>LYF 内蒙古葵花籽</h1>\n<p>规格：30g 小包装 / 10包组合装</p>\n<ul>\n<li>内蒙古原产</li>\n<li>颗粒饱满</li>\n<li>独立包装不脏手</li>\n<li>买多少送多少</li>\n<li>四种口味</li>\n</ul>\n</section>\n<section id=\"price-section\">\n<span id=\"current-price\">¥16.9</span>\n<del>¥29.9</del>\n<div class=\"promo-label\">春节限时</div>\n<div class=\"countdown\" id=\"countdown\"></div>\n</section>\n<section id=\"coupon-section\">\n<div class=\"coupon\" data-threshold=\"10\" data-discount=\"2\">满10减2元</div>\n<div class=\"coupon\" data-threshold=\"20\" data-discount=\"5\">满20减5元</div>\n</section>\n<section id=\"purchase-options\">\n<button data-count=\"10\" data-price=\"16.9\" class=\"active\">10包</button>\n<button data-count=\"20\" data-price=\"30.0\">20包</button>\n<button data-count=\"30\" data-price=\"42.0\">30包</button>\n</section>\n<section id=\"promotion-banner\">\n<p>买多少送多少 | 四种口味任选</p>\n</section>\n<section id=\"review-section\">\n<select id=\"review-filter\">\n<option value=\"all\">全部评论</option>\n<option value=\"good\">好评</option>\n<option value=\"bad\">差评</option>\n</select>\n<div id=\"review-list\">\n<div class=\"review-item\" data-type=\"good\">很好吃，颗粒饱满！</div>\n<div class=\"review-item\" data-type=\"good\">包装方便，干净卫生。</div>\n<div class=\"review-item\" data-type=\"bad\">有几颗不太饱满。</div>\n</div>\n</section>\n<footer id=\"buy-now-button\">\n<button id=\"buy-btn\">立即购买</button>\n</footer>\n<div class=\"modal-overlay\" id=\"modal-overlay\"></div>\n<aside id=\"cart-modal\">\n<div class=\"cart-content\">\n<div class=\"cart-item\" id=\"cart-info\"></div>\n<div class=\"cart-total\" id=\"cart-total\"></div>\n<div class=\"cart-actions\">\n<button id=\"confirm-btn\">确认支付</button>\n</div>\n</div>\n</aside>\n<script>\nlet countdownTarget = new Date();\ncountdownTarget.setHours(countdownTarget.getHours()+2);\nfunction updateCountdown(){\n    let now = new Date();\n    let diff = countdownTarget - now;\n    if(diff<=0){document.getElementById('countdown').innerText=\"活动已结束\";return;}\n    let h = Math.floor(diff/1000/60/60);\n    let m = Math.floor((diff/1000/60)%60);\n    let s = Math.floor((diff/1000)%60);\n    document.getElementById('countdown').innerText=`${h}时${m}分${s}秒`;\n}\nsetInterval(updateCountdown,1000);\nupdateCountdown();\n\nlet selectedCount=10, selectedPrice=16.9;\ndocument.querySelectorAll('#purchase-options button').forEach(btn=>{\n    btn.addEventListener('click',()=>{\n        document.querySelectorAll('#purchase-options button').forEach(b=>b.classList.remove('active'));\n        btn.classList.add('active');\n        selectedCount = parseInt(btn.dataset.count);\n        selectedPrice = parseFloat(btn.dataset.price);\n        document.getElementById('current-price').innerText=`¥${selectedPrice.toFixed(2)}`;\n    });\n});\ndocument.querySelectorAll('.thumbnail-list img').forEach(img=>{\n    img.addEventListener('click',()=>{\n        document.getElementById('main-image').src=img.src;\n    });\n});\ndocument.getElementById('buy-btn').addEventListener('click',()=>{\n    let overlay = document.getElementById('modal-overlay');\n    let modal = document.getElementById('cart-modal');\n    overlay.style.display='block';\n    modal.style.bottom='0';\n    let finalPrice = selectedPrice;\n    document.querySelectorAll('#coupon-section .coupon').forEach(cpn=>{\n        let thr = parseFloat(cpn.dataset.threshold);\n        let disc = parseFloat(cpn.dataset.discount);\n        if(finalPrice>=thr){finalPrice -= disc;}\n    });\n    document.getElementById('cart-info').innerText=`LYF 内蒙古葵花籽 ${selectedCount}包`;\n    document.getElementById('cart-total').innerText=`最终支付：¥${finalPrice.toFixed(2)}`;\n});\ndocument.getElementById('modal-overlay').addEventListener('click',()=>{\n    document.getElementById('modal-overlay').style.display='none';\n    document.getElementById('cart-modal').style.bottom='-100%';\n});\ndocument.getElementById('confirm-btn').addEventListener('click',()=>{\n    let order = {\n        product:\"LYF 内蒙古葵花籽\",\n        count:selectedCount,\n        finalPrice:document.getElementById('cart-total').innerText\n    };\n    alert(JSON.stringify(order));\n});\ndocument.getElementById('review-filter').addEventListener('change',(e)=>{\n    let val = e.target.value;\n    document.querySelectorAll('#review-list .review-item').forEach(item=>{\n        if(val==='all'){item.style.display='block';}\n        else if(item.dataset.type===val){item.style.display='block';}\n        else{item.style.display='none';}\n    });\n});\n</script>\n</body>\n</html>"
    }
  ]
}