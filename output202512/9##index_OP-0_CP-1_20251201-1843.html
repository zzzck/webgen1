<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 春节香瓜子葵花子大促</title>
<style>
    body {
        margin: 0;
        font-family: "Helvetica Neue", Arial, sans-serif;
        background-color: #fff;
        color: #333;
    }
    header {
        background-color: #E4393C;
        color: #fff;
        padding: 1rem;
        text-align: center;
        font-size: 1.2rem;
        font-weight: bold;
    }
    .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 1rem;
    }
    .product {
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        margin-bottom: 1rem;
    }
    .product-image img {
        width: 100%;
        display: block;
    }
    .product-info {
        padding: 1rem;
    }
    .product-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    .product-specs {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0.5rem;
    }
    .product-selling-points {
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
        color: #E4393C;
    }
    .price-area {
        display: flex;
        align-items: baseline;
    }
    .price-current {
        font-size: 1.5rem;
        color: #E4393C;
        margin-right: 0.5rem;
    }
    .price-original {
        font-size: 0.9rem;
        color: #999;
        text-decoration: line-through;
        margin-right: 0.5rem;
    }
    .promo-badge {
        background-color: #ffcc00;
        color: #E4393C;
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: bold;
    }
    .countdown, .stock {
        font-size: 0.9rem;
        margin-top: 0.5rem;
        color: #E4393C;
    }
    .channel-area {
        margin-top: 1rem;
    }
    .quantity-selector {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }
    .quantity-selector button {
        padding: 0.5rem;
        font-size: 1rem;
        border: none;
        background-color: #ddd;
    }
    .quantity-selector span {
        padding: 0.5rem 1rem;
        background-color: #fff;
        border: 1px solid #ddd;
    }
    .btn-add-cart {
        display: block;
        width: 100%;
        padding: 0.8rem;
        font-size: 1rem;
        border: none;
        background-color: #E4393C;
        color: white;
        border-radius: 4px;
        cursor: pointer;
    }
    .cart {
        margin-top: 2rem;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        padding: 1rem;
    }
    .cart-item {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid #eee;
    }
    .cart-item:last-child {
        border-bottom: none;
    }
    .cart-actions {
        margin-top: 1rem;
        text-align: right;
    }
    .btn-clear-cart {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
        border: none;
        background-color: #999;
        color: #fff;
        border-radius: 4px;
        cursor: pointer;
    }
    @media (max-width: 480px) {
        .product-title {
            font-size: 1rem;
        }
        .price-current {
            font-size: 1.2rem;
        }
    }
</style>
</head>
<body>
<header>LYF 春节香瓜子葵花子大促</header>
<div class="container">
    <section class="product">
        <div class="product-image">
            <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="香瓜子葵花子">
        </div>
        <div class="product-info">
            <div class="product-title">香瓜子葵花子 30g 小包装 / 10包组合装</div>
            <div class="product-specs">品牌：LYF | 每包30g，总计10包</div>
            <div class="product-selling-points">精选优质葵花子，香醇脆口，节日分享必备！</div>
            <div class="price-area">
                <div class="price-current">¥16.9</div>
                <div class="price-original">¥29.9</div>
                <div class="promo-badge">年货大促</div>
            </div>
            <div class="countdown">距离结束：<span id="countdown"></span></div>
            <div class="stock">库存剩余：<span id="stock-count">50</span> 件</div>
            <div class="channel-area">
                <div class="quantity-selector">
                    <button id="decrease">-</button>
                    <span id="quantity">1</span>
                    <button id="increase">+</button>
                </div>
                <button class="btn-add-cart" id="add-to-cart">加入购物车</button>
            </div>
        </div>
    </section>
    <section class="cart">
        <h2>购物车</h2>
        <div id="cart-items"></div>
        <div class="cart-actions">
            <button class="btn-clear-cart" id="clear-cart">清空购物车</button>
        </div>
    </section>
</div>
<script>
    const countdownElement = document.getElementById('countdown');
    const stockCountElement = document.getElementById('stock-count');
    const quantityElement = document.getElementById('quantity');
    const cartItemsElement = document.getElementById('cart-items');
    let stockCount = parseInt(stockCountElement.textContent, 10);
    let quantity = 1;
    const productName = '香瓜子葵花子 30g 小包装 / 10包组合装';
    const productPrice = 16.9;

    function startCountdown(hours) {
        let endTime = new Date().getTime() + hours * 3600 * 1000;
        const timer = setInterval(() => {
            let now = new Date().getTime();
            let distance = endTime - now;
            if (distance <= 0) {
                clearInterval(timer);
                countdownElement.textContent = '活动已结束';
                return;
            }
            let h = Math.floor(distance / (1000 * 60 * 60));
            let m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            let s = Math.floor((distance % (1000 * 60)) / 1000);
            countdownElement.textContent = `${h}小时 ${m}分 ${s}秒`;
        }, 1000);
    }

    function saveCart(cart) {
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    function loadCart() {
        const cartData = localStorage.getItem('cart');
        return cartData ? JSON.parse(cartData) : [];
    }

    function renderCart() {
        const cart = loadCart();
        cartItemsElement.innerHTML = '';
        cart.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'cart-item';
            div.innerHTML = `<div>${item.name} x${item.quantity}</div><div>¥${(item.price * item.quantity).toFixed(2)}</div>`;
            cartItemsElement.appendChild(div);
        });
    }

    document.getElementById('increase').addEventListener('click', () => {
        if (quantity < stockCount) {
            quantity++;
            quantityElement.textContent = quantity;
        }
    });

    document.getElementById('decrease').addEventListener('click', () => {
        if (quantity > 1) {
            quantity--;
            quantityElement.textContent = quantity;
        }
    });

    document.getElementById('add-to-cart').addEventListener('click', () => {
        if (stockCount >= quantity) {
            let cart = loadCart();
            const existingIndex = cart.findIndex(item => item.name === productName);
            if (existingIndex > -1) {
                cart[existingIndex].quantity += quantity;
            } else {
                cart.push({name: productName, price: productPrice, quantity});
            }
            stockCount -= quantity;
            stockCountElement.textContent = stockCount;
            saveCart(cart);
            renderCart();
        }
    });

    document.getElementById('clear-cart').addEventListener('click', () => {
        saveCart([]);
        renderCart();
    });

    startCountdown(5);
    renderCart();
</script>
</body>
</html>