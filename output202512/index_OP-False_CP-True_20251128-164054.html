<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 新疆葵花籽 春节热销</title>
<style>
body { font-family: Arial, sans-serif; margin:0; background-color:#f9f9f9; }
header { background-color:#d32f2f; color:white; padding:10px; text-align:center; }
header input[type="text"] { width:60%; padding:5px; border:none; }
nav { background-color:#f44336; display:flex; justify-content:center; padding:10px; }
nav a { color:white; padding:0 15px; text-decoration:none; }
.product-detail { display:flex; padding:20px; background-color:white; }
.product-images { flex:1; }
.product-images img { max-width:100%; border:1px solid #ccc; }
.thumbnails img { width:100px; height:auto; margin:5px; cursor:pointer; border:2px solid transparent; }
.thumbnails img:hover { border-color:#d32f2f; }
.product-info { flex:1; padding:20px; }
.price { font-size:1.5em; color:#d32f2f; margin-top:10px; }
.old-price { text-decoration:line-through; color:#777; margin-left:10px; }
.countdown { color:#ff5722; font-weight:bold; margin-top:10px; }
.coupons { display:flex; gap:10px; margin:20px 0; }
.coupon { background-color:#fff3e0; padding:10px; border:1px dashed #ff9800; flex:1; text-align:center; }
button.buy { background-color:#d32f2f; color:white; padding:15px; border:none; width:100%; font-size:1.2em; cursor:pointer; position:fixed; bottom:0; left:0; }
.comments { padding:20px; background-color:white; margin-top:10px; }
.comment-filter { margin-bottom:10px; }
.comment { border-bottom:1px solid #ddd; padding:10px 0; }
.modal-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:none; justify-content:flex-end; }
.modal { background:white; width:100%; max-height:50%; padding:20px; border-top-left-radius:10px; border-top-right-radius:10px; animation:slideUp 0.3s ease-out; }
@keyframes slideUp { from { transform:translateY(100%);} to { transform:translateY(0);} }
</style>
</head>
<body>
<header>
    <input type="text" placeholder="搜索产品...">
</header>
<nav>
    <a href="#">首页</a>
    <a href="#">分类</a>
    <a href="#">促销</a>
    <a href="#">我的订单</a>
</nav>

<div class="product-detail">
    <div class="product-images">
        <img id="main-image" src="https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg" alt="LYF 新疆葵花籽">
        <div class="thumbnails">
            <img src="https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b" alt="缩略图1">
            <img src="https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg" alt="缩略图2">
        </div>
    </div>
    <div class="product-info">
        <h2>LYF 新疆葵花籽（30g 小包装）</h2>
        <p>精选五谷葵花籽，来自新疆，颗粒饱满，香味浓郁。春节畅销零食，送礼佳品！</p>
        <div class="price">
            ￥16.9 <span class="old-price">￥19.9</span>
        </div>
        <div class="countdown">春节限时抢购倒计时：<span id="timer"></span></div>
        <div class="coupons">
            <div class="coupon" data-type="A">满10减2元</div>
            <div class="coupon" data-type="B">满20减5元</div>
        </div>
    </div>
</div>

<div class="comments">
    <div class="comment-filter">
        <label>筛选评论：
            <select id="filter">
                <option value="all">全部</option>
                <option value="good">好评</option>
                <option value="medium">中评</option>
                <option value="bad">差评</option>
            </select>
        </label>
    </div>
    <div id="comment-list">
        <div class="comment" data-type="good">好评：味道很好，包装精美。</div>
        <div class="comment" data-type="medium">中评：味道一般，但价格实惠。</div>
        <div class="comment" data-type="bad">差评：太咸了，不适合我。</div>
    </div>
</div>

<button class="buy">立即购买</button>

<div class="modal-overlay" id="modal-overlay">
    <div class="modal">
        <h3>确认订单</h3>
        <p>商品：LYF 新疆葵花籽 (10包)</p>
        <p>价格：<span id="final-price"></span> 元</p>
        <button id="confirm-pay">确认支付</button>
    </div>
</div>

<script>
// 切换缩略图
document.querySelectorAll('.thumbnails img').forEach(img=>{
    img.addEventListener('click',()=>{
        document.getElementById('main-image').src = img.src;
    });
});

// 倒计时
function startCountdown(durationHours) {
    let endTime = Date.now() + durationHours*60*60*1000;
    function updateTimer() {
        let diff = endTime - Date.now();
        if(diff<=0){ document.getElementById('timer').textContent = "活动已结束"; return;}
        let h=Math.floor(diff/1000/60/60);
        let m=Math.floor(diff/1000/60)%60;
        let s=Math.floor(diff/1000)%60;
        document.getElementById('timer').textContent = `${h}小时 ${m}分 ${s}秒`;
        requestAnimationFrame(updateTimer);
    }
    updateTimer();
}
startCountdown(2);

// 优惠券逻辑
let selectedCoupon = null;
document.querySelectorAll('.coupon').forEach(c=>{
    c.addEventListener('click',()=>{
        selectedCoupon = c.dataset.type;
        document.querySelectorAll('.coupon').forEach(cpn=>cpn.style.backgroundColor='#fff3e0');
        c.style.backgroundColor='#ffe0b2';
    });
});

// 评论筛选
document.getElementById('filter').addEventListener('change',function(){
    let val=this.value;
    document.querySelectorAll('#comment-list .comment').forEach(c=>{
        c.style.display= (val==='all'|| c.dataset.type===val) ? 'block':'none';
    });
});

// 模态框购物车
document.querySelector('.buy').addEventListener('click',()=>{
    let basePrice = 16.9;
    let finalPrice = basePrice;
    if(selectedCoupon==='A' && basePrice>=10) finalPrice -= 2;
    if(selectedCoupon==='B' && basePrice>=20) finalPrice -= 5;
    document.getElementById('final-price').textContent = finalPrice.toFixed(2);
    document.getElementById('modal-overlay').style.display='flex';
});
document.getElementById('confirm-pay').addEventListener('click',()=>{
    let order = {
        product: 'LYF 新疆葵花籽 (10包)',
        price: document.getElementById('final-price').textContent,
        coupon: selectedCoupon
    };
    alert(JSON.stringify(order));
    document.getElementById('modal-overlay').style.display='none';
});
document.getElementById('modal-overlay').addEventListener('click',e=>{
    if(e.target.id==='modal-overlay') e.target.style.display='none';
});

// 随机优化功能：随机背景色
let colors = ['#fce4ec','#e3f2fd','#f1f8e9','#fffde7'];
document.body.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
</script>
</body>
</html>