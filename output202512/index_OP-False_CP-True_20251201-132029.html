è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•é¡µé¢ HTML è§£å†³æ–¹æ¡ˆã€‚å®ƒåŒ…å« HTML ç»“æ„ã€CSS æ ·å¼ï¼ˆæ¨¡ä»¿äº¬ä¸œ UIï¼‰å’ŒåŸç”Ÿ JavaScript é€»è¾‘ï¼ˆå¤„ç†è´­ç‰©è½¦ã€æœ¬åœ°å­˜å‚¨ã€å€’è®¡æ—¶å’Œäº¤äº’ï¼‰ã€‚

æ‚¨å¯ä»¥å°†ä»¥ä¸‹ä»£ç ä¿å­˜ä¸º `.html` æ–‡ä»¶ï¼ˆä¾‹å¦‚ `jd_melon_seeds.html`ï¼‰ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ‰“å¼€ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°ç–†ç‰¹çº§é¦™ç“œå­ - äº¬ä¸œè¶…å¸‚é£æ ¼é¡µ</title>
    <style>
        /* --- CSS Reset & åŸºç¡€å˜é‡ --- */
        :root {
            --jd-red: #e4393c;
            --jd-dark-red: #c81623;
            --text-dark: #333;
            --text-gray: #666;
            --text-light: #999;
            --bg-gray: #f4f4f4;
            --border-color: #eee;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body { font-family: "Microsoft YaHei", sans-serif; background-color: var(--bg-gray); color: var(--text-dark); padding-bottom: 60px; }
        a { text-decoration: none; color: var(--text-dark); }
        ul { list-style: none; }

        /* --- é¡¶éƒ¨å¯¼èˆªæ¨¡æ‹Ÿ --- */
        .header { background: #fff; border-bottom: 1px solid #ddd; padding: 10px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }
        .nav-bar { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 24px; font-weight: bold; color: var(--jd-red); }
        .search-bar { flex: 1; margin: 0 20px; position: relative; }
        .search-bar input { width: 100%; padding: 8px 15px; border: 2px solid var(--jd-red); border-radius: 20px; }
        .search-bar button { position: absolute; right: 0; top: 0; background: var(--jd-red); color: #fff; border: none; height: 100%; padding: 0 20px; border-radius: 0 20px 20px 0; cursor: pointer; }

        /* --- ä¸»è¦å•†å“åŒºåŸŸ --- */
        .product-page { display: flex; flex-wrap: wrap; background: #fff; margin-top: 20px; border-radius: 8px; padding: 20px; box-shadow: 0 1px 6px rgba(0,0,0,0.1); }
        
        /* å·¦ä¾§å›¾ç‰‡ */
        .preview-wrap { flex: 0 0 400px; width: 400px; padding-right: 20px; }
        .main-img { width: 100%; height: 400px; object-fit: cover; border: 1px solid #eee; border-radius: 4px; }
        .thumb-list { display: flex; margin-top: 10px; gap: 10px; }
        .thumb-list img { width: 60px; height: 60px; border: 2px solid transparent; cursor: pointer; }
        .thumb-list img.active { border-color: var(--jd-red); }

        /* å³ä¾§è¯¦æƒ… */
        .item-info-wrap { flex: 1; min-width: 300px; }
        .sku-name { font-size: 18px; font-weight: 700; line-height: 28px; margin-bottom: 10px; }
        .sku-tags { margin-bottom: 10px; }
        .tag { display: inline-block; background: var(--jd-red); color: #fff; font-size: 12px; padding: 2px 5px; border-radius: 2px; margin-right: 5px; vertical-align: middle; }
        .sub-title { color: var(--jd-red); font-size: 14px; margin-bottom: 10px; line-height: 1.5; }

        /* ä»·æ ¼ä¸ä¿ƒé”€åŒº */
        .summary-price-wrap { background: #f3f3f3; padding: 15px; border-radius: 4px; margin-bottom: 15px; position: relative; }
        .price-row { display: flex; align-items: baseline; }
        .dt { color: var(--text-light); font-size: 12px; width: 60px; }
        .p-price { color: var(--jd-red); font-size: 24px; font-weight: bold; }
        .p-price em { font-size: 16px; font-style: normal; margin-right: 2px; }
        .market-price { text-decoration: line-through; color: var(--text-light); font-size: 12px; margin-left: 10px; }
        
        /* å€’è®¡æ—¶ */
        .countdown-box { position: absolute; right: 10px; top: 10px; background: #fff; border: 1px solid var(--jd-red); padding: 5px 10px; border-radius: 4px; font-size: 12px; color: var(--jd-red); display: flex; align-items: center; gap: 5px; }
        .countdown-box span { font-weight: bold; }

        /* ä¼˜æƒ åˆ¸ */
        .coupon-area { display: flex; align-items: center; margin-top: 10px; }
        .coupon { border: 1px dashed var(--jd-red); color: var(--jd-red); background: #ffdedf; padding: 2px 8px; font-size: 12px; margin-right: 10px; cursor: pointer; position: relative; }
        .coupon::after { content: "é¢†å–"; position: absolute; right: -30px; top: 0; width: 30px; background: var(--jd-red); color: white; text-align: center; display: none; }
        .coupon:hover::after { display: block; }
        .coupon.collected { filter: grayscale(1); cursor: default; }

        /* è§„æ ¼é€‰æ‹© */
        .choose-attrs { margin-top: 20px; }
        .li-row { display: flex; margin-bottom: 15px; align-items: center; }
        .li-row .dt { line-height: 32px; }
        .dd-items { display: flex; flex-wrap: wrap; gap: 10px; }
        .item-sku { border: 1px solid #ccc; padding: 5px 15px; cursor: pointer; font-size: 12px; color: var(--text-gray); background: #fff; transition: all 0.2s; }
        .item-sku:hover { border-color: var(--jd-red); color: var(--jd-red); }
        .item-sku.selected { border: 1px solid var(--jd-red); position: relative; padding: 4px 14px; border: 2px solid var(--jd-red); color: var(--text-dark); }
        
        /* æ•°é‡é€‰æ‹© */
        .count-selector { display: flex; border: 1px solid #ccc; width: 100px; height: 30px; }
        .count-btn { width: 30px; background: #f8f8f8; border: none; cursor: pointer; font-size: 16px; }
        .count-input { flex: 1; border: none; border-left: 1px solid #ccc; border-right: 1px solid #ccc; text-align: center; width: 40px; }
        .stock-tip { color: var(--text-light); font-size: 12px; margin-left: 10px; }
        .stock-low { color: var(--jd-red); font-weight: bold; }

        /* æŒ‰é’®ç»„ */
        .action-btns { display: flex; gap: 15px; margin-top: 30px; }
        .btn { padding: 0 25px; height: 46px; line-height: 46px; font-size: 18px; font-weight: 700; text-align: center; border-radius: 4px; cursor: pointer; border: none; }
        .btn-add-cart { background-color: var(--jd-red); color: #fff; flex: 1; max-width: 200px; }
        .btn-add-cart:hover { background-color: var(--jd-dark-red); }
        .btn-buy { background-color: #ffeded; color: var(--jd-red); border: 1px solid var(--jd-red); flex: 1; max-width: 200px; }

        /* --- å–ç‚¹å±•ç¤ºåŒº --- */
        .details-section { background: #fff; margin-top: 20px; padding: 20px; border-radius: 8px; }
        .section-title { font-size: 16px; font-weight: bold; border-left: 3px solid var(--jd-red); padding-left: 10px; margin-bottom: 15px; background: #f7f7f7; padding: 10px; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .feature-card { text-align: center; padding: 15px; border: 1px solid #eee; border-radius: 8px; transition: transform 0.3s; }
        .feature-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .feature-icon { font-size: 30px; margin-bottom: 10px; display: block; }
        .feature-title { font-weight: bold; color: var(--text-dark); margin-bottom: 5px; display: block; }
        .feature-desc { font-size: 12px; color: var(--text-gray); }

        /* --- æ‚¬æµ®è´­ç‰©è½¦ & ä¾§è¾¹æ  --- */
        .float-cart-btn { position: fixed; right: 20px; bottom: 100px; width: 50px; height: 50px; background: var(--jd-red); color: #fff; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 10px rgba(228, 57, 60, 0.4); z-index: 100; }
        .cart-count { font-size: 10px; background: #fff; color: var(--jd-red); padding: 1px 5px; border-radius: 10px; position: absolute; top: 0; right: 0; border: 1px solid var(--jd-red); }
        
        .cart-sidebar { position: fixed; top: 0; right: -320px; width: 320px; height: 100vh; background: #fff; box-shadow: -2px 0 10px rgba(0,0,0,0.1); transition: right 0.3s; z-index: 200; display: flex; flex-direction: column; }
        .cart-sidebar.open { right: 0; }
        .cart-header { padding: 15px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; background: #f8f8f8; }
        .close-cart { cursor: pointer; font-size: 20px; color: var(--text-gray); }
        .cart-body { flex: 1; overflow-y: auto; padding: 10px; }
        .cart-item { display: flex; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .cart-item img { width: 60px; height: 60px; object-fit: cover; margin-right: 10px; border: 1px solid #eee; }
        .cart-item-info { flex: 1; }
        .cart-item-title { font-size: 12px; line-height: 1.4; margin-bottom: 5px; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }
        .cart-item-attr { color: var(--text-light); font-size: 12px; margin-bottom: 5px; }
        .cart-item-price { color: var(--jd-red); font-weight: bold; font-size: 14px; display: flex; justify-content: space-between; }
        .cart-item-del { color: var(--text-light); cursor: pointer; font-size: 12px; }
        .cart-footer { padding: 15px; border-top: 1px solid #eee; background: #fff; }
        .cart-total { display: flex; justify-content: space-between; margin-bottom: 10px; font-weight: bold; font-size: 16px; }
        .btn-checkout { width: 100%; background: var(--jd-red); color: #fff; border: none; padding: 12px; border-radius: 20px; cursor: pointer; font-weight: bold; }

        /* Toast æç¤º */
        .toast { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.7); color: #fff; padding: 10px 20px; border-radius: 4px; font-size: 14px; display: none; z-index: 300; }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .preview-wrap { width: 100%; padding-right: 0; margin-bottom: 20px; }
            .product-page { padding: 10px; margin-top: 0; border-radius: 0; }
            .features-grid { grid-template-columns: 1fr 1fr; }
            .cart-sidebar { width: 85%; }
            .nav-bar .search-bar { display: none; } /* ç§»åŠ¨ç«¯ç®€åŒ–å¤´éƒ¨ */
        }
    </style>
</head>
<body>

    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="header">
        <div class="container nav-bar">
            <div class="logo">JD.SHOP</div>
            <div class="search-bar">
                <input type="text" placeholder="æœç´¢ æ–°ç–†é¦™ç“œå­...">
                <button>æœç´¢</button>
            </div>
            <div style="font-size: 12px; color: #666;">
                <span>æˆ‘çš„è®¢å•</span> | <span>æˆ‘çš„äº¬ä¸œ</span>
            </div>
        </div>
    </header>

    <!-- ä¸»è¦å†…å®¹å®¹å™¨ -->
    <main class="container">
        
        <!-- å•†å“è´­ä¹°åŒº -->
        <section class="product-page">
            <!-- å›¾ç‰‡å±•ç¤º -->
            <div class="preview-wrap">
                <img src="https://images.unsplash.com/photo-1599579181467-28414ba84011?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="æ–°ç–†é¦™ç“œå­" class="main-img" id="mainImage">
                <div class="thumb-list">
                    <img src="https://images.unsplash.com/photo-1599579181467-28414ba84011?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=60" class="active" onclick="changeImage(this)">
                    <img src="https://images.unsplash.com/photo-1620136898253-c533619d9971?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=60" onclick="changeImage(this)">
                    <img src="https://images.unsplash.com/photo-1627666821023-e74e518df743?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=60" onclick="changeImage(this)">
                </div>
            </div>

            <!-- å•†å“ä¿¡æ¯ -->
            <div class="item-info-wrap">
                <div class="sku-name">
                    <span class="tag">äº¬ä¸œè¶…å¸‚</span>æ–°ç–†åŸäº§ç‰¹çº§é¦™ç“œå­ å¤§é¢—ç²’ åŸå‘³/äº”é¦™/å¥¶æ²¹å‘³ ä¼‘é—²é›¶é£Ÿ
                </div>
                <div class="sub-title">
                    ã€é™æ—¶æŠ¢è´­ã€‘ç²¾é€‰æ–°ç–†é˜¿å‹’æ³°äº§åŒºï¼Œé¢—ç²’é¥±æ»¡ï¼Œæ‰‹å·¥ç­›é€‰ã€‚åç±½åŒ…èµ”ï¼Œæ»¡99å…ƒåŒ…é‚®ï¼
                </div>

                <div class="summary-price-wrap">
                    <div class="price-row">
                        <span class="dt">äº¬ ä¸œ ä»·</span>
                        <span class="p-price"><em>Â¥</em><span id="displayPrice">19.90</span></span>
                        <span class="market-price">Â¥<span id="marketPrice">29.90</span></span>
                    </div>
                    <div class="coupon-area">
                        <span class="dt">ä¼˜ æƒ  åˆ¸</span>
                        <span class="coupon" onclick="collectCoupon(this)">æ»¡59å‡5</span>
                        <span class="coupon" onclick="collectCoupon(this)">æ»¡99å‡10</span>
                    </div>
                    <div class="countdown-box">
                        <i style="font-style:normal">â° é™æ—¶ç§’æ€:</i>
                        <span id="timer">02:00:00</span>
                    </div>
                </div>

                <!-- è§„æ ¼é€‰æ‹©å™¨ -->
                <div class="choose-attrs">
                    <div class="li-row">
                        <div class="dt">é€‰æ‹©å£å‘³</div>
                        <div class="dd-items" id="flavorOptions">
                            <div class="item-sku selected" onclick="selectOption('flavor', 'åŸå‘³', this)">åŸå‘³ç»å…¸</div>
                            <div class="item-sku" onclick="selectOption('flavor', 'äº”é¦™', this)">äº”é¦™æµ“éƒ</div>
                            <div class="item-sku" onclick="selectOption('flavor', 'å¥¶æ²¹', this)">å¥¶æ²¹é¦™ç”œ</div>
                            <div class="item-sku" onclick="selectOption('flavor', 'æµ·ç›', this)">æµ·ç›é£å‘³</div>
                        </div>
                    </div>
                    <div class="li-row">
                        <div class="dt">åŒ…è£…è§„æ ¼</div>
                        <div class="dd-items" id="weightOptions">
                            <div class="item-sku selected" onclick="selectOption('weight', '500g', this, 1)">500g (è¢‹è£…)</div>
                            <div class="item-sku" onclick="selectOption('weight', '1kg', this, 1.8)">1kg (è¶…å€¼è£…)</div>
                            <div class="item-sku" onclick="selectOption('weight', 'ç¤¼ç›’', this, 4.5)">2kg (ç²¾ç¾ç¤¼ç›’)</div>
                        </div>
                    </div>
                    <div class="li-row">
                        <div class="dt">è´­ä¹°æ•°é‡</div>
                        <div class="count-selector">
                            <button class="count-btn" onclick="changeQty(-1)">-</button>
                            <input type="text" class="count-input" value="1" id="qtyInput" readonly>
                            <button class="count-btn" onclick="changeQty(1)">+</button>
                        </div>
                        <span class="stock-tip">åº“å­˜: <span id="stockCount">230</span>ä»¶ <span class="stock-low" id="stockWarning" style="display:none">(åº“å­˜ç´§å¼ )</span></span>
                    </div>
                </div>

                <div class="action-btns">
                    <button class="btn btn-buy" onclick="buyNow()">ç«‹å³è´­ä¹°</button>
                    <button class="btn btn-add-cart" onclick="addToCart()">åŠ å…¥è´­ç‰©è½¦</button>
                </div>
            </div>
        </section>

        <!-- è¯¦æƒ…ä»‹ç» -->
        <section class="details-section">
            <div class="section-title">å•†å“è¯¦æƒ… & å“è´¨å–ç‚¹</div>
            <div class="features-grid">
                <div class="feature-card">
                    <span class="feature-icon">ğŸŒ</span>
                    <span class="feature-title">æ–°ç–†åŸäº§</span>
                    <span class="feature-desc">æ—¥ç…§æ—¶é—´é•¿ï¼Œæ˜¼å¤œæ¸©å·®å¤§ï¼Œç“œå­æ›´é¥±æ»¡ã€‚</span>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ”</span>
                    <span class="feature-title">äººå·¥ç²¾é€‰</span>
                    <span class="feature-desc">ä¸‰é“å·¥åºç­›é€‰ï¼Œä¿è¯æ¯ä¸€é¢—éƒ½æ˜¯ç²¾å“ã€‚</span>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ¥˜</span>
                    <span class="feature-title">ä¼ ç»Ÿç‚’åˆ¶</span>
                    <span class="feature-desc">ä¿ç•™ç“œå­åŸé¦™ï¼Œå£æ„Ÿé…¥è„†ä¸è„æ‰‹ã€‚</span>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ“¦</span>
                    <span class="feature-title">é˜²æ½®åŒ…è£…</span>
                    <span class="feature-desc">é“ç®”è‡ªå°è¢‹ï¼Œå¼€è¢‹å³é£Ÿï¼Œä¾¿äºä¿å­˜ã€‚</span>
                </div>
            </div>
            <div style="margin-top:20px; text-align:center; color: #999; font-size: 14px;">
                <p>--- å·²ç»åˆ°åº•äº† ---</p>
            </div>
        </section>
    </main>

    <!-- æ‚¬æµ®è´­ç‰©è½¦æŒ‰é’® -->
    <div class="float-cart-btn" onclick="toggleCart()">
        <span>ğŸ›’</span>
        <span style="font-size:10px">è´­ç‰©è½¦</span>
        <div class="cart-count" id="cartCountBadge">0</div>
    </div>

    <!-- ä¾§è¾¹è´­ç‰©è½¦é¢æ¿ -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <span>è´­ç‰©è½¦</span>
            <span class="close-cart" onclick="toggleCart()">Ã—</span>
        </div>
        <div class="cart-body" id="cartBody">
            <!-- è´­ç‰©è½¦æ¡ç›®å°†é€šè¿‡JSæ³¨å…¥ -->
            <div style="text-align:center; margin-top:50px; color:#999">è´­ç‰©è½¦æ˜¯ç©ºçš„</div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>æ€»è®¡:</span>
                <span>Â¥<span id="cartTotal">0.00</span></span>
            </div>
            <button class="btn-checkout" onclick="checkout()">å»ç»“ç®—</button>
        </div>
    </div>

    <!-- å…¨å±€æç¤º Toast -->
    <div class="toast" id="toast">æç¤ºæ¶ˆæ¯</div>

    <script>
        // --- æ•°æ®ä¸çŠ¶æ€ ---
        const basePrice = 19.90;
        const baseMarketPrice = 29.90;
        
        // å½“å‰é€‰æ‹©çŠ¶æ€
        let currentSelection = {
            flavor: 'åŸå‘³',
            weight: '500g',
            priceMultiplier: 1,
            qty: 1,
            image: 'https://images.unsplash.com/photo-1599579181467-28414ba84011?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
        };

        // è´­ç‰©è½¦æ•°æ® (ä» LocalStorage åˆå§‹åŒ–)
        let cart = JSON.parse(localStorage.getItem('jd_melon_cart')) || [];

        // --- åˆå§‹åŒ–æ‰§è¡Œ ---
        document.addEventListener('DOMContentLoaded', () => {
            updateUI();
            updateCartUI();
            startTimer();
            simulateStock();
        });

        // --- äº¤äº’é€»è¾‘å‡½æ•° ---

        // åˆ‡æ¢ä¸»å›¾
        function changeImage(thumb) {
            document.getElementById('mainImage').src = thumb.src.replace('w=100', 'w=800');
            document.querySelectorAll('.thumb-list img').forEach(img => img.classList.remove('active'));
            thumb.classList.add('active');
            currentSelection.image = thumb.src;
        }

        // è§„æ ¼é€‰æ‹©
        function selectOption(type, value, element, multiplier) {
            // æ›´æ–°æ•°æ®
            if (type === 'flavor') {
                currentSelection.flavor = value;
                // æ¸…é™¤åŒçº§é€‰ä¸­æ ·å¼
                document.querySelectorAll('#flavorOptions .item-sku').forEach(el => el.classList.remove('selected'));
            } else if (type === 'weight') {
                currentSelection.weight = value;
                currentSelection.priceMultiplier = multiplier;
                document.querySelectorAll('#weightOptions .item-sku').forEach(el => el.classList.remove('selected'));
            }
            
            // æ·»åŠ é€‰ä¸­æ ·å¼
            element.classList.add('selected');
            
            // è§¦å‘ä»·æ ¼æ›´æ–°
            updateUI();
        }

        // æ•°é‡å˜æ›´
        function changeQty(change) {
            const newQty = currentSelection.qty + change;
            if (newQty >= 1 && newQty <= 50) {
                currentSelection.qty = newQty;
                document.getElementById('qtyInput').value = newQty;
            }
        }

        // ç•Œé¢æ›´æ–° (ä»·æ ¼è®¡ç®—)
        function updateUI() {
            const finalPrice = (basePrice * currentSelection.priceMultiplier).toFixed(2);
            const finalMarketPrice = (baseMarketPrice * currentSelection.priceMultiplier).toFixed(2);
            
            document.getElementById('displayPrice').innerText = finalPrice;
            document.getElementById('marketPrice').innerText = finalMarketPrice;
        }

        // æ¨¡æ‹Ÿåº“å­˜é€»è¾‘
        function simulateStock() {
            const stock = Math.floor(Math.random() * 50) + 5; // 5-55 éšæœº
            const stockEl = document.getElementById('stockCount');
            const warningEl = document.getElementById('stockWarning');
            
            stockEl.innerText = stock;
            if(stock < 20) {
                warningEl.style.display = 'inline';
            }
        }

        // å€’è®¡æ—¶é€»è¾‘
        function startTimer() {
            let totalSeconds = 7200; // 2å°æ—¶
            const timerEl = document.getElementById('timer');
            
            setInterval(() => {
                if (totalSeconds <= 0) return;
                totalSeconds--;
                
                const h = Math.floor(totalSeconds / 3600).toString().padStart(2, '0');
                const m = Math.floor((totalSeconds % 3600) / 60).toString().padStart(2, '0');
                const s = (totalSeconds % 60).toString().padStart(2, '0');
                
                timerEl.innerText = `${h}:${m}:${s}`;
            }, 1000);
        }

        // é¢†å–ä¼˜æƒ åˆ¸
        function collectCoupon(btn) {
            if (!btn.classList.contains('collected')) {
                btn.classList.add('collected');
                btn.innerText = 'å·²é¢†å–';
                showToast('ä¼˜æƒ åˆ¸é¢†å–æˆåŠŸï¼');
            }
        }

        // --- è´­ç‰©è½¦é€»è¾‘ ---

        function addToCart() {
            const unitPrice = (basePrice * currentSelection.priceMultiplier).toFixed(2);
            const itemId = `${currentSelection.flavor}-${currentSelection.weight}`;
            
            const existingItem = cart.find(item => item.id === itemId);
            
            if (existingItem) {
                existingItem.qty += currentSelection.qty;
            } else {
                cart.push({
                    id: itemId,
                    title: `æ–°ç–†é¦™ç“œå­ ${currentSelection.flavor} ${currentSelection.weight}`,
                    flavor: currentSelection.flavor,
                    weight: currentSelection.weight,
                    price: unitPrice,
                    qty: currentSelection.qty,
                    image: currentSelection.image
                });
            }

            saveCart();
            updateCartUI();
            showToast('å•†å“å·²åŠ å…¥è´­ç‰©è½¦');
            
            // ç®€å•åŠ¨ç”»æ•ˆæœï¼šæ‰“å¼€ä¾§è¾¹æ 
            document.getElementById('cartSidebar').classList.add('open');
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            saveCart();
            updateCartUI();
        }

        function saveCart() {
            localStorage.setItem('jd_melon_cart', JSON.stringify(cart));
        }

        function updateCartUI() {
            const cartBody = document.getElementById('cartBody');
            const cartBadge = document.getElementById('cartCountBadge');
            const cartTotalEl = document.getElementById('cartTotal');
            
            let totalQty = 0;
            let totalPrice = 0;
            
            if (cart.length === 0) {
                cartBody.innerHTML = '<div style="text-align:center; margin-top:50px; color:#999">è´­ç‰©è½¦æ˜¯ç©ºçš„<br>å¿«å»é€‰è´­å§</div>';
            } else {
                cartBody.innerHTML = '';
                cart.forEach((item, index) => {
                    totalQty += item.qty;
                    totalPrice += (parseFloat(item.price) * item.qty);
                    
                    const itemHTML = `
                        <div class="cart-item">
                            <img src="${item.image}" alt="å•†å“å›¾">
                            <div class="cart-item-info">
                                <div class="cart-item-title">${item.title}</div>
                                <div class="cart-item-attr">${item.flavor} | ${item.weight}</div>
                                <div class="cart-item-price">
                                    <span>Â¥${item.price} x ${item.qty}</span>
                                    <span class="cart-item-del" onclick="removeFromCart(${index})">åˆ é™¤</span>
                                </div>
                            </div>
                        </div>
                    `;
                    cartBody.innerHTML += itemHTML;
                });
            }

            cartBadge.innerText = totalQty;
            cartTotalEl.innerText = totalPrice.toFixed(2);
        }

        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            sidebar.classList.toggle('open');
        }

        function buyNow() {
            showToast('æ­£åœ¨è·³è½¬è‡³ç»“ç®—é¡µé¢...');
            setTimeout(() => {
                alert('æ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼(æ¨¡æ‹Ÿç»“ç®—æµç¨‹)');
            }, 1000);
        }
        
        function checkout() {
            if(cart.length === 0) {
                showToast('è´­ç‰©è½¦ä¸ºç©º');
                return;
            }
            alert(`ç»“ç®—æˆåŠŸï¼å…±æ¶ˆè´¹ Â¥${document.getElementById('cartTotal').innerText}`);
            cart = [];
            saveCart();
            updateCartUI();
            toggleCart();
        }

        // æç¤ºæ¡†å·¥å…·
        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 2000);
        }

    </script>
</body>
</html>
```

### åŠŸèƒ½ç‰¹ç‚¹è¯´æ˜ï¼š

1.  **äº¬ä¸œé£æ ¼è®¾è®¡ (UI/UX)ï¼š**
    *   ä½¿ç”¨äº¬ä¸œæ ‡å¿—æ€§çš„çº¢è‰² (`#e4393c`) ä½œä¸ºä¸»è‰²è°ƒã€‚
    *   ä»·æ ¼æ˜¾ç¤ºé‡‡ç”¨äº†å¤§å­—ä½“åŠ ç²—ï¼Œä¿ç•™äº†â€œäº¬ä¸œä»·â€çš„å¸ƒå±€ã€‚
    *   è§„æ ¼é€‰æ‹©å™¨ï¼ˆå£å‘³ã€é‡é‡ï¼‰æ¨¡ä»¿äº†ç”µå•†ç½‘ç«™å¸¸ç”¨çš„ SKU åˆ‡æ¢æ ·å¼ï¼ˆç‚¹å‡»å˜çº¢æ¡†ï¼‰ã€‚
    *   å¸ƒå±€å“åº”å¼ï¼šæ¡Œé¢ç«¯ä¸ºå·¦å³åˆ†æ ï¼Œç§»åŠ¨ç«¯ï¼ˆå®½åº¦<768pxï¼‰è‡ªåŠ¨è°ƒæ•´ä¸ºå‚ç›´å †å ã€‚

2.  **äº§å“å±•ç¤º (Xinjiang Melon Seeds)ï¼š**
    *   **å›¾ç‰‡ï¼š** åŒ…å«äº†ç¼©ç•¥å›¾åˆ‡æ¢ä¸»å›¾çš„åŠŸèƒ½ã€‚
    *   **è¯¦æƒ…ï¼š** åŠ¨æ€å±•ç¤ºäº†åŸå‘³ã€äº”é¦™ã€å¥¶æ²¹ç­‰å£å‘³ï¼Œä»¥åŠ 500gã€1kgã€ç¤¼ç›’è£…ç­‰è§„æ ¼ã€‚
    *   **å–ç‚¹ï¼š** åº•éƒ¨è®¾æœ‰ä¸“é—¨çš„åŒºåŸŸå±•ç¤ºâ€œæ–°ç–†åŸäº§â€ã€â€œäººå·¥ç²¾é€‰â€ç­‰å“è´¨å–ç‚¹ã€‚

3.  **ä»·æ ¼ä¸ä¿ƒé”€ (Logic)ï¼š**
    *   **åŠ¨æ€ä»·æ ¼ï¼š** é€‰æ‹©ä¸åŒé‡é‡ï¼ˆå¦‚1kgæˆ–ç¤¼ç›’ï¼‰ä¼šè‡ªåŠ¨æ›´æ–°æ€»ä»·ï¼ˆé€šè¿‡ `priceMultiplier` ç³»æ•°ï¼‰ã€‚
    *   **å€’è®¡æ—¶ï¼š** åªæœ‰ JavaScript å®ç°çš„é™æ—¶ç§’æ€å€’è®¡æ—¶ã€‚
    *   **åº“å­˜æé†’ï¼š** éšæœºç”Ÿæˆçš„åº“å­˜æ•°é‡ï¼Œå¦‚æœä½äº20ä»¶ä¼šæ˜¾ç¤ºâ€œåº“å­˜ç´§å¼ â€è­¦å‘Šã€‚
    *   **ä¼˜æƒ åˆ¸ï¼š** ç‚¹å‡»å¯â€œé¢†å–â€ï¼ŒçŠ¶æ€ä¼šæ”¹å˜å¹¶å˜ç°ã€‚

4.  **è´­ç‰©è½¦ç³»ç»Ÿ (Core Feature)ï¼š**
    *   **LocalStorageï¼š** ä½¿ç”¨ `localStorage` ä¿å­˜è´­ç‰©è½¦æ•°æ®ï¼Œåˆ·æ–°é¡µé¢åæ•°æ®ä¸ä¸¢å¤±ã€‚
    *   **ä¾§è¾¹æ ä½“éªŒï¼š** ç‚¹å‡»æ‚¬æµ®æŒ‰é’®æˆ–â€œåŠ å…¥è´­ç‰©è½¦â€ï¼Œä¾§è¾¹æ ä¼šæ»‘å‡ºï¼Œæ— éœ€è·³è½¬é¡µé¢å³å¯ç®¡ç†ã€‚
    *   **å¢åˆ æ”¹ï¼š** æ”¯æŒåŠ å…¥ä¸åŒ SKU çš„å•†å“ï¼Œè‡ªåŠ¨åˆå¹¶åŒç±»é¡¹æ•°é‡ï¼Œè®¡ç®—æ€»ä»·ï¼Œä»¥åŠåˆ é™¤æ¡ç›®ã€‚

5.  **æŠ€æœ¯æ ˆï¼š**
    *   çº¯ HTML5 + CSS3 + Vanilla JavaScriptã€‚
    *   æ— ä»»ä½•å¤–éƒ¨æ¡†æ¶ä¾èµ–ã€‚

æ‚¨å¯ä»¥ç›´æ¥å¤åˆ¶ä¸Šè¿°ä»£ç æŸ¥çœ‹æ•ˆæœã€‚