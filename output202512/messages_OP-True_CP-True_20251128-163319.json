{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**电商产品详情页。\n\n# Product Context\n我们需要为一款春节热销零食电商销售网页。\n\n品牌为 LYF 的新疆葵花籽（30g 小包装），售价为 10 包 16.9 元，网页销售场景。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品预览图\n     1 张大图链接“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    缩略图1“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    缩略图2“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n\n2. 优惠券与价格计算 (State Management)界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n\n4. 评论区筛选器 (DOM Manipulation)\n展示评论列表。\n\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求，明确交付的电商产品详情页为单文件 HTML，包含 HTML/CSS/JS 三部分",
              "识别需要实现的功能板块与交互，包括4P营销要素、布局结构、图片插入、倒计时系统、优惠券展示与价格计算逻辑、评论区筛选器、模态购物车弹窗",
              "将任务拆分并分配给各角色"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "将客户需求转化为结构化的PRD，包括功能模块说明、布局要求、图片资源链接、交互逻辑描述、倒计时与价格计算规则",
              "定义优惠券使用规则与边界条件",
              "明确评论区筛选器的筛选条件与展示格式",
              "描述模态框购物车的UI行为及订单信息对象格式"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "根据PRD设计页面信息架构，包括导航栏、搜索栏、产品介绍区、价格区、优惠券区、评论区、购买按钮与模态购物车弹窗",
              "规划CSS结构与样式命名方案",
              "定义JavaScript模块结构，负责倒计时、优惠券计算状态管理、评论过滤、模态框弹出与订单信息生成"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据架构与PRD输出完整的单文件HTML，包括HTML、CSS、JavaScript实现",
              "实现响应式布局与图片展示",
              "编写倒计时逻辑、优惠券价格计算、评论区筛选、模态购物车弹窗交互逻辑",
              "确保所有功能在主流浏览器中正常运行"
            ]
          }
        ]
      }
    }
  ],
  "prd": [
    {
      "topic": "prd",
      "sender": "PM",
      "content": {
        "product": "LYF 新疆葵花籽电商单品详情页，集成4P营销要素与互动功能的单文件HTML页面",
        "goals": [
          "在春节促销期间提高LYF新疆葵花籽的线上销量",
          "通过直观、完整的4P营销信息提升转化率",
          "提供流畅的商品浏览、优惠券选择与价格计算体验",
          "增加用户停留时间和互动率，如倒计时、评论筛选",
          "简化购买流程，通过模态购物车实现快速下单",
          "实现跨设备响应式布局，保证手机和PC端体验一致"
        ],
        "target_users": [
          "春节期间注重零食品质与高性价比的线上购物消费者——希望快速了解产品、对比价格、获取优惠并直接下单",
          "习惯在移动端下单的年轻用户——希望页面加载快、操作便捷、无须跳转即可完成购买",
          "对促销敏感的家庭型消费者——希望通过倒计时和优惠券获得购买紧迫感与价格优势"
        ],
        "page_sections": [
          {
            "id": "search-bar",
            "purpose": "提供全站商品搜索入口，便于用户快速找到目标零食或其他产品"
          },
          {
            "id": "nav-bar",
            "purpose": "展示商城主类目与春节活动入口，帮助用户导航至相关页面"
          },
          {
            "id": "product-gallery",
            "purpose": "显示产品大图与缩略图切换，直观呈现新疆葵花籽外观与包装"
          },
          {
            "id": "product-info",
            "purpose": "详细介绍产品规格（30g小包装）、品牌信息、核心卖点文案"
          },
          {
            "id": "price-promo",
            "purpose": "展示售价、原价对比、春节限时抢购倒计时与促销标签，制造购买紧迫感"
          },
          {
            "id": "coupon-area",
            "purpose": "展示可领取优惠券（A券满10减2元，B券满20减5元），并集成价格计算逻辑"
          },
          {
            "id": "comment-filter",
            "purpose": "展示用户评论列表，并允许按关键字或标签筛选，帮助用户做购买决策"
          },
          {
            "id": "buy-button",
            "purpose": "提供明显的“立即购买”按钮，触发模态购物车弹窗"
          },
          {
            "id": "cart-modal",
            "purpose": "弹出底部滑动的确认面板，显示已选商品、最终价格与确认支付操作，完成订单提交"
          }
        ]
      }
    }
  ],
  "page_spec": [
    {
      "topic": "page_spec",
      "sender": "Architect",
      "content": {
        "layout": "two-column",
        "colors": [
          "#C62026",
          "#FFD700",
          "#F4F4F5",
          "primary",
          "secondary"
        ],
        "components": [
          {
            "id": "search-bar",
            "html": "header",
            "children": [
              {
                "tag": "input",
                "content_hint": "搜索栏输入框，供用户搜索产品"
              },
              {
                "tag": "button",
                "content_hint": "搜索按钮"
              }
            ]
          },
          {
            "id": "nav-bar",
            "html": "nav",
            "children": [
              {
                "tag": "ul",
                "content_hint": "导航菜单列表，包含商城类目与春节活动入口"
              }
            ]
          },
          {
            "id": "product-gallery",
            "html": "section",
            "children": [
              {
                "tag": "img",
                "content_hint": "产品大图展示"
              },
              {
                "tag": "div",
                "content_hint": "缩略图列表切换区域"
              }
            ]
          },
          {
            "id": "product-info",
            "html": "section",
            "children": [
              {
                "tag": "h1",
                "content_hint": "产品标题 LYF 新疆葵花籽"
              },
              {
                "tag": "p",
                "content_hint": "规格、品牌信息及卖点文案，如30g小包装、新鲜香脆、产地新疆"
              }
            ]
          },
          {
            "id": "price-promo",
            "html": "section",
            "children": [
              {
                "tag": "p",
                "content_hint": "售价 10包 16.9元"
              },
              {
                "tag": "p",
                "content_hint": "原价对比信息，制造价格优势感"
              },
              {
                "tag": "div",
                "content_hint": "春节限时抢购倒计时显示区"
              },
              {
                "tag": "span",
                "content_hint": "促销标签，例如“限时抢购”"
              }
            ]
          },
          {
            "id": "coupon-area",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "优惠券A，满10减2元"
              },
              {
                "tag": "div",
                "content_hint": "优惠券B，满20减5元"
              },
              {
                "tag": "div",
                "content_hint": "价格计算结果显示区"
              }
            ]
          },
          {
            "id": "comment-filter",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "评论筛选器，例如按好评/差评/关键词过滤"
              },
              {
                "tag": "ul",
                "content_hint": "评论列表区域"
              }
            ]
          },
          {
            "id": "buy-button",
            "html": "div",
            "children": [
              {
                "tag": "button",
                "content_hint": "立即购买按钮，触发购物车模态弹窗"
              }
            ]
          },
          {
            "id": "cart-modal",
            "html": "aside",
            "children": [
              {
                "tag": "div",
                "content_hint": "遮罩层"
              },
              {
                "tag": "div",
                "content_hint": "确认面板，包含已选商品信息与最终价格"
              },
              {
                "tag": "button",
                "content_hint": "确认支付按钮"
              }
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 新疆葵花籽 春节热销</title>\n<style>\nbody {\n    font-family: Arial, sans-serif;\n    margin: 0;\n    background-color: #F4F4F5;\n    color: #333;\n}\nheader {\n    background-color: #C62026;\n    display: flex;\n    padding: 10px;\n}\nheader input {\n    flex: 1;\n    padding: 5px;\n    border: none;\n    border-radius: 4px 0 0 4px;\n}\nheader button {\n    background-color: #FFD700;\n    border: none;\n    padding: 6px 12px;\n    border-radius: 0 4px 4px 0;\n    cursor: pointer;\n}\nnav {\n    background-color: #FFD700;\n    padding: 10px;\n}\nnav ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    display: flex;\n}\nnav li {\n    margin-right: 20px;\n    cursor: pointer;\n}\nmain {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px;\n}\n#product-gallery, #product-info {\n    flex: 1;\n    min-width: 300px;\n    margin: 10px;\n}\n#product-gallery img {\n    width: 100%;\n    border-radius: 6px;\n}\n.thumbnail-list {\n    display: flex;\n    margin-top: 10px;\n}\n.thumbnail-list img {\n    width: 80px;\n    height: 80px;\n    margin-right: 10px;\n    cursor: pointer;\n    border: 2px solid transparent;\n}\n.thumbnail-list img.active {\n    border-color: #C62026;\n}\n#price-promo {\n    background-color: #fff;\n    padding: 10px;\n    border-radius: 6px;\n    margin: 10px 0;\n}\n#price-promo .tag {\n    background-color: #C62026;\n    color: #fff;\n    padding: 2px 6px;\n    border-radius: 4px;\n}\n#coupon-area {\n    background-color: #fff;\n    padding: 10px;\n    border-radius: 6px;\n    margin: 10px 0;\n}\n.coupon {\n    background-color: #FFD700;\n    padding: 8px;\n    margin: 6px 0;\n    cursor: pointer;\n    border-radius: 4px;\n}\n.coupon.active {\n    background-color: #C62026;\n    color: #fff;\n}\n#comment-filter {\n    background-color: #fff;\n    padding: 10px;\n    border-radius: 6px;\n    margin: 10px 0;\n}\n#buy-button {\n    text-align: center;\n    margin: 20px 0;\n}\n#buy-button button {\n    background-color: #C62026;\n    color: #fff;\n    padding: 12px 24px;\n    border: none;\n    border-radius: 6px;\n    cursor: pointer;\n}\n#cart-modal {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: -100%;\n    height: 50%;\n    background-color: #fff;\n    box-shadow: 0 -2px 6px rgba(0,0,0,0.3);\n    transition: bottom 0.3s ease;\n    z-index: 1001;\n    padding: 20px;\n}\n#cart-modal.show {\n    bottom: 0;\n}\n.modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,0.5);\n    display: none;\n    z-index: 1000;\n}\n.modal-overlay.show {\n    display: block;\n}\n</style>\n</head>\n<body>\n<header id=\"search-bar\">\n  <input type=\"text\" placeholder=\"搜索产品...\">\n  <button>搜索</button>\n</header>\n<nav id=\"nav-bar\">\n  <ul>\n    <li>首页</li>\n    <li>零食专区</li>\n    <li>春节促销</li>\n    <li>我的订单</li>\n  </ul>\n</nav>\n<main>\n<section id=\"product-gallery\">\n  <img id=\"main-image\" src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"LYF 新疆葵花籽\">\n  <div class=\"thumbnail-list\">\n    <img class=\"active\" src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\" alt=\"缩略图1\" data-src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\">\n    <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"缩略图2\" data-src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\">\n  </div>\n</section>\n<section id=\"product-info\">\n  <h1>LYF 新疆葵花籽（30g 小包装）</h1>\n  <p>优选新疆葵花籽，颗粒饱满，香脆可口，30g 独立小包装，10包礼盒，方便分享，春节必备零食！</p>\n  <section id=\"price-promo\">\n    <p><strong>现价:</strong> ￥16.9 / 10包</p>\n    <p><del>原价 ￥24.9</del></p>\n    <div>春节限时抢购倒计时：<span id=\"countdown\"></span></div>\n    <span class=\"tag\">限时抢购</span>\n  </section>\n  <section id=\"coupon-area\">\n    <div id=\"couponA\" class=\"coupon\">A券：满10减2元</div>\n    <div id=\"couponB\" class=\"coupon\">B券：满20减5元</div>\n    <div>优惠后价格：<span id=\"final-price\">16.9</span> 元</div>\n  </section>\n  <section id=\"comment-filter\">\n    <div>\n      <input type=\"text\" id=\"comment-search\" placeholder=\"搜索评论关键词...\">\n      <button id=\"filter-btn\">筛选</button>\n    </div>\n    <ul id=\"comment-list\">\n      <li>味道非常好，春节送礼佳品！</li>\n      <li>包装精美，价格实惠。</li>\n      <li>有点咸，不过很香。</li>\n    </ul>\n  </section>\n</section>\n</main>\n<div id=\"buy-button\">\n  <button id=\"buy-now\">立即购买</button>\n</div>\n<div class=\"modal-overlay\" id=\"modal-overlay\"></div>\n<aside id=\"cart-modal\">\n  <div>\n    <h2>确认订单</h2>\n    <p>商品：LYF 新疆葵花籽（10包）</p>\n    <p>最终价格：<span id=\"modal-final-price\">16.9</span> 元</p>\n    <button id=\"confirm-pay\">确认支付</button>\n  </div>\n</aside>\n<script>\nlet countdownEl = document.getElementById('countdown');\nlet countdownTarget = new Date();\ncountdownTarget.setHours(countdownTarget.getHours() + 1);\nfunction updateCountdown() {\n    let now = new Date();\n    let diff = countdownTarget - now;\n    if (diff <= 0) {\n        countdownEl.textContent = '活动已结束';\n        return;\n    }\n    let h = Math.floor(diff / (1000*60*60));\n    let m = Math.floor((diff % (1000*60*60)) / (1000*60));\n    let s = Math.floor((diff % (1000*60)) / 1000);\n    countdownEl.textContent = `${h}小时${m}分${s}秒`;\n}\nsetInterval(updateCountdown,1000);\nupdateCountdown();\n\nlet finalPrice = 16.9;\ndocument.getElementById('couponA').addEventListener('click', function() {\n    document.getElementById('couponA').classList.toggle('active');\n    document.getElementById('couponB').classList.remove('active');\n    let price = 16.9;\n    if (this.classList.contains('active') && price >= 10) price -= 2;\n    document.getElementById('final-price').textContent = price.toFixed(2);\n    document.getElementById('modal-final-price').textContent = price.toFixed(2);\n});\ndocument.getElementById('couponB').addEventListener('click', function() {\n    document.getElementById('couponB').classList.toggle('active');\n    document.getElementById('couponA').classList.remove('active');\n    let price = 16.9;\n    if (this.classList.contains('active') && price >= 20) price -= 5;\n    document.getElementById('final-price').textContent = price.toFixed(2);\n    document.getElementById('modal-final-price').textContent = price.toFixed(2);\n});\n\ndocument.querySelectorAll('.thumbnail-list img').forEach(img => {\n    img.addEventListener('click', function() {\n        document.getElementById('main-image').src = this.getAttribute('data-src');\n        document.querySelectorAll('.thumbnail-list img').forEach(t => t.classList.remove('active'));\n        this.classList.add('active');\n    });\n});\n\ndocument.getElementById('filter-btn').addEventListener('click', function() {\n    let keyword = document.getElementById('comment-search').value.trim();\n    let items = document.querySelectorAll('#comment-list li');\n    items.forEach(li => {\n        li.style.display = li.textContent.includes(keyword) ? '' : 'none';\n    });\n});\n\ndocument.getElementById('buy-now').addEventListener('click', function() {\n    document.getElementById('cart-modal').classList.add('show');\n    document.getElementById('modal-overlay').classList.add('show');\n});\ndocument.getElementById('modal-overlay').addEventListener('click', function(){\n    document.getElementById('cart-modal').classList.remove('show');\n    document.getElementById('modal-overlay').classList.remove('show');\n});\ndocument.getElementById('confirm-pay').addEventListener('click', function() {\n    let order = {\n        product: 'LYF 新疆葵花籽（10包）',\n        price: document.getElementById('modal-final-price').textContent\n    };\n    alert('订单信息：' + JSON.stringify(order));\n});\n</script>\n</body>\n</html>"
    }
  ]
}