<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 新疆原产葵花籽详情页</title>
<style>
body {margin:0;background:#f6f6f6;font-family:Arial, sans-serif;color:#333;}
header {background:#f23030;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:10px;}
header .logo {font-weight:bold;font-size:18px;}
header input {padding:5px;border:none;border-radius:4px;width:200px;}
main {display:flex;flex-wrap:wrap;max-width:1200px;margin:auto;padding:10px;}
#gallery, #product-info {background:#fff;padding:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
#gallery {flex:1 1 400px;text-align:center;}
#gallery img {width:100%;max-width:400px;transition:opacity 0.3s;}
#gallery .thumbs {display:flex;justify-content:center;margin-top:10px;}
#gallery .thumbs img {width:60px;height:60px;margin:0 5px;cursor:pointer;border:2px solid transparent;}
#gallery .thumbs img.active {border-color:#f23030;}
#product-info {flex:1 1 300px;margin-left:10px;}
#product-info h1 {font-size:20px;margin:0;}
.price {color:#f23030;font-size:24px;font-weight:bold;}
.tags span {display:inline-block;background:#ffcc00;padding:3px 6px;margin:5px; border-radius:4px;}
.countdown {color:#f23030;margin-top:5px;}
#coupon-section {background:#fff;padding:10px;margin-top:10px;display:flex;gap:10px;}
.coupon {flex:1;background:#ffecec;padding:10px;text-align:center;border:2px dashed #f23030;cursor:pointer;}
.coupon.active {background:#fff1f1;border-color:#ffcc00;}
#quantity-selector {background:#fff;padding:10px;margin-top:10px;display:flex;align-items:center;gap:10px;}
#quantity-selector button {padding:6px 10px;}
.total-price {margin-left:auto;font-weight:bold;color:#f23030;}
#action-buttons {background:#fff;padding:10px;margin-top:10px;display:flex;gap:10px;}
.btn {flex:1;padding:10px;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:16px;}
.buy-now {background:#f23030;}
.add-cart {background:#ffcc00;color:#333;}
.btn.disabled {background:gray;cursor:not-allowed;}
#tabs-detail {background:#fff;margin-top:10px;}
#tabs-detail nav {display:flex;}
#tabs-detail nav button {flex:1;padding:10px;border:none;background:#f6f6f6;cursor:pointer;font-weight:bold;}
#tabs-detail nav button.active {background:#fff;color:#f23030;}
#tabs-detail .tab-content {padding:10px;}
#reviews {background:#fff;margin-top:10px;padding:10px;}
.filter-btns {display:flex;gap:10px;margin-bottom:10px;}
.filter-btns button {flex:1;padding:6px;cursor:pointer;}
#reviews ul {list-style:none;padding:0;margin:0;}
#reviews li {border-bottom:1px solid #eee;padding:5px 0;}
#toast {position:fixed;top:20px;left:50%;transform:translateX(-50%);background:#333;color:#fff;padding:10px 20px;border-radius:4px;opacity:0;transition:opacity 0.3s;}
#toast.show {opacity:1;}
#modal-buy {position:fixed;left:0;bottom:-100%;width:100%;background:rgba(0,0,0,0.4);transition:bottom 0.3s;}
.modal-panel {background:#fff;padding:20px;border-radius:8px 8px 0 0;max-height:50%;overflow:auto;}
.modal-panel h2 {margin-top:0;}
.modal-panel button {margin-top:10px;width:100%;padding:10px;background:#f23030;color:#fff;border:none;border-radius:4px;cursor:pointer;}
@media(max-width:768px){
  main {flex-direction:column;}
  #product-info {margin-left:0;margin-top:10px;}
}
</style>
</head>
<body>
<header id="navbar">
  <div class="logo">LYF</div>
  <input type="text" placeholder="搜索商品">
</header>
<main>
  <section id="gallery">
    <img id="main-img" src="https://via.placeholder.com/400x400?text=LYF+Product" alt="主图">
    <div class="thumbs">
      <img data-src="https://via.placeholder.com/400x400/ffaaaa?text=Thumb1" class="active" alt="缩略图1">
      <img data-src="https://via.placeholder.com/400x400/aaffaa?text=Thumb2" alt="缩略图2">
    </div>
  </section>
  <section id="product-info">
    <h1>新疆原产葵花籽（30g 独立小包装，10包组合）</h1>
    <div class="price">¥16.9</div>
    <div class="tags">
      <span>春节特惠</span>
      <span>包邮</span>
    </div>
    <div class="countdown">限时抢购倒计时：<span id="timer">02:00:00</span></div>
  </section>
</main>
<section id="coupon-section">
  <div class="coupon" data-threshold="10" data-discount="2">满10减2元</div>
  <div class="coupon" data-threshold="20" data-discount="5">满20减5元</div>
</section>
<section id="quantity-selector">
  <button id="minus">-</button>
  <span id="quantity">1</span>
  <button id="plus">+</button>
  <div class="total-price">总价：¥<span id="total">16.9</span></div>
</section>
<section id="action-buttons">
  <button id="buy-now" class="btn buy-now">立即购买</button>
  <button id="add-cart" class="btn add-cart">加入购物车</button>
</section>
<section id="tabs-detail">
  <nav>
    <button class="active" data-tab="intro">商品介绍</button>
    <button data-tab="service">售后保障</button>
  </nav>
  <div class="tab-content" id="tab-content">这是商品介绍的详细内容...</div>
</section>
<section id="reviews">
  <div class="filter-btns">
    <button data-filter="all">全部</button>
    <button data-filter="good">好评</button>
    <button data-filter="average">中评</button>
  </div>
  <ul id="review-list"></ul>
</section>
<div id="toast"><p></p></div>
<div id="modal-buy">
  <div class="modal-panel">
    <h2>确认订单</h2>
    <p id="modal-info"></p>
    <button id="confirm-pay">确认支付</button>
  </div>
</div>
<script>
const unitPrice = 16.9;
let quantity = 1;
let discount = 0;
let activeCoupon = null;
const totalEl = document.getElementById('total');
const quantityEl = document.getElementById('quantity');
function updateTotal(){
  let total = unitPrice * quantity;
  if(activeCoupon){
    const threshold = parseFloat(activeCoupon.dataset.threshold);
    const dis = parseFloat(activeCoupon.dataset.discount);
    if(total >= threshold){
      discount = dis;
    }else{
      activeCoupon.classList.remove('active');
      activeCoupon = null;
      discount = 0;
    }
  }else{
    discount = 0;
  }
  total = total - discount;
  total = Math.max(total, 0);
  totalEl.textContent = total.toFixed(1);
}
document.getElementById('minus').onclick = function(){
  if(quantity>1){quantity--;quantityEl.textContent=quantity;updateTotal();}
};
document.getElementById('plus').onclick = function(){
  quantity++;quantityEl.textContent=quantity;updateTotal();
};
document.querySelectorAll('.coupon').forEach(c=>{
  c.onclick = function(){
    document.querySelectorAll('.coupon').forEach(cc=>cc.classList.remove('active'));
    this.classList.add('active');
    activeCoupon = this;
    updateTotal();
  };
});
const toast = document.getElementById('toast');
function showToast(msg){
  toast.querySelector('p').textContent = msg;
  toast.classList.add('show');
  setTimeout(()=>{toast.classList.remove('show');},2000);
}
document.getElementById('add-cart').onclick = function(){
  showToast(`已成功加入购物车：LYF葵花籽 x ${quantity}`);
};
document.querySelectorAll('.thumbs img').forEach(t=>{
  t.onclick = function(){
    document.querySelectorAll('.thumbs img').forEach(tt=>tt.classList.remove('active'));
    t.classList.add('active');
    const mainImg = document.getElementById('main-img');
    mainImg.style.opacity = 0;
    setTimeout(()=>{
      mainImg.src = this.dataset.src;
      mainImg.style.opacity = 1;
    },300);
  };
});
let timer = 2*60*60;
const timerEl = document.getElementById('timer');
const buyBtn = document.getElementById('buy-now');
function updateTimer(){
  let h = String(Math.floor(timer/3600)).padStart(2,'0');
  let m = String(Math.floor((timer%3600)/60)).padStart(2,'0');
  let s = String(timer%60).padStart(2,'0');
  timerEl.textContent = `${h}:${m}:${s}`;
  if(timer<=0){
    buyBtn.textContent = '活动已结束';
    buyBtn.classList.add('disabled');
    buyBtn.disabled = true;
    document.getElementById('add-cart').disabled = true;
    clearInterval(timerInt);
  }
  timer--;
}
const timerInt = setInterval(updateTimer,1000);
updateTimer();
const tabBtns = document.querySelectorAll('#tabs-detail nav button');
const tabContent = document.getElementById('tab-content');
tabBtns.forEach(btn=>{
  btn.onclick=function(){
    tabBtns.forEach(b=>b.classList.remove('active'));
    this.classList.add('active');
    tabContent.textContent = this.dataset.tab==='intro'?'这是商品介绍的详细内容...':'售后保障说明...';
  };
});
const productData = {reviews:[
  {type:'good',text:'好评！味道非常棒'},
  {type:'average',text:'中评，包装一般'},
  {type:'good',text:'好评！快递很快'},
]};
function renderReviews(filter='all'){
  const list = document.getElementById('review-list');
  list.innerHTML='';
  productData.reviews.filter(r=>filter==='all'||r.type===filter).forEach(r=>{
    const li=document.createElement('li');li.textContent=r.text;list.appendChild(li);
  });
}
document.querySelectorAll('.filter-btns button').forEach(btn=>{
  btn.onclick = ()=>renderReviews(btn.dataset.filter);
});
renderReviews();
const modal = document.getElementById('modal-buy');
buyBtn.onclick = function(){
  if(buyBtn.disabled) return;
  modal.style.bottom = 0;
  document.getElementById('modal-info').textContent = `LYF葵花籽 x ${quantity}，总价 ¥${totalEl.textContent}`;
};
modal.onclick = function(e){
  if(e.target===modal){modal.style.bottom='-100%';}
};
document.getElementById('confirm-pay').onclick = function(){
  const order = {product:'LYF葵花籽',quantity,total:parseFloat(totalEl.textContent)};
  alert(JSON.stringify(order));
};
</script>
</body>
</html>