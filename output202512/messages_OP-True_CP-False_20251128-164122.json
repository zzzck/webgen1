{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**电商产品详情页。\n\n# Product Context\n我们需要为一款春节热销零食电商销售网页。\n\n品牌为 LYF 的新疆葵花籽（30g 小包装），售价为 10 包 16.9 元，网页销售场景。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品预览图\n     1 张大图链接“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    缩略图1“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    缩略图2“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n\n2. 优惠券与价格计算 (State Management)界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n\n4. 评论区筛选器 (DOM Manipulation)\n展示评论列表。\n\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n6.随机优化功能\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求",
              "识别交付成果为单文件 HTML 电商产品详情页",
              "划分任务并分配给各角色"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "将客户需求转化为结构化 PRD",
              "明确功能需求（布局结构、图片资源、4P 营销要素、营销倒计时、优惠券与价格计算、评论筛选器、模态购物车、随机优化功能）",
              "制定交互流程说明"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "基于 PRD 设计页面信息架构",
              "定义页面布局区域（搜索栏、导航栏、产品介绍、交互、详情、评论、底部购买按钮）",
              "制定组件划分方案（倒计时组件、优惠券展示与计算逻辑、评论筛选器组件、模态购物车组件）",
              "规划 CSS 模块与 JavaScript 模块组织方式"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据架构与规格实现单文件 HTML 页面",
              "编写 HTML/CSS/JavaScript 实现所有功能需求",
              "集成图片资源及促销标签",
              "实现倒计时系统、优惠券计算逻辑、评论筛选功能",
              "实现模态购物车交互与最终订单 alert 输出",
              "增加随机优化功能"
            ]
          }
        ]
      }
    }
  ],
  "prd": [
    {
      "topic": "prd",
      "sender": "PM",
      "content": {
        "product": "LYF 新疆葵花籽春节热销电商产品详情页，集成搜索、导航、产品展示、价格优惠、限时促销和购物交互。",
        "goals": [
          "在春节促销期内提升新疆葵花籽的销量和转化率",
          "为用户提供清晰完整的产品信息、规格及卖点，降低购买决策成本",
          "通过限时倒计时和优惠券策略促进即时下单",
          "优化购物流程，通过模态购物车减少跳出率",
          "增加用户互动和留存，通过评论筛选与推荐功能提高用户参与度"
        ],
        "target_users": [
          "注重健康零食和节日送礼的都市白领，痛点是缺乏方便快捷的购买渠道",
          "追求性价比和促销优惠的家庭主妇/主夫，痛点是希望用更低价格购买高质量坚果零食"
        ],
        "page_sections": [
          {
            "id": "search-bar",
            "purpose": "提供全站搜索入口，方便用户快速查找零食及相关产品"
          },
          {
            "id": "navigation",
            "purpose": "展示主类目导航如坚果、瓜子零食、春节特卖，提升用户浏览效率"
          },
          {
            "id": "product-gallery",
            "purpose": "显示新疆葵花籽的主图和缩略图，支持切换预览以展示外观和包装细节"
          },
          {
            "id": "product-info",
            "purpose": "呈现产品规格、卖点文案及详细介绍，让用户了解核心购买价值"
          },
          {
            "id": "price-promo",
            "purpose": "展示现价、原价及优惠信息，并附加春节限时抢购倒计时吸引用户"
          },
          {
            "id": "coupon-center",
            "purpose": "提供优惠券选择（满10减2、满20减5），支持价格计算逻辑"
          },
          {
            "id": "comment-section",
            "purpose": "显示并筛选用户评论，帮助潜在买家参考他人购物体验"
          },
          {
            "id": "buy-modal",
            "purpose": "用户点击立即购买后弹出模态购物车确认面板，显示已选商品信息和最终价格，支持确认支付"
          },
          {
            "id": "random-optimize",
            "purpose": "基于用户浏览或点击行为随机进行界面微优化，例如改变推荐位排序或高亮优惠信息"
          }
        ]
      }
    }
  ],
  "page_spec": [
    {
      "topic": "page_spec",
      "sender": "Architect",
      "content": {
        "layout": "single-column",
        "colors": [
          "#D32F2F",
          "#FFC107",
          "#F4F4F5",
          "#4CAF50",
          "#FFFFFF"
        ],
        "components": [
          {
            "id": "header-bar",
            "html": "header",
            "children": [
              {
                "tag": "h1",
                "content_hint": "站点Logo或春节主题标语"
              },
              {
                "tag": "nav",
                "content_hint": "主类目导航：坚果、瓜子零食、春节特卖"
              }
            ]
          },
          {
            "id": "search-bar",
            "html": "section",
            "children": [
              {
                "tag": "input",
                "content_hint": "全站搜索输入框"
              },
              {
                "tag": "button",
                "content_hint": "搜索按钮"
              }
            ]
          },
          {
            "id": "product-gallery",
            "html": "section",
            "children": [
              {
                "tag": "img",
                "content_hint": "新疆葵花籽主图"
              },
              {
                "tag": "div",
                "content_hint": "缩略图列表，支持预览切换"
              }
            ]
          },
          {
            "id": "product-info",
            "html": "main",
            "children": [
              {
                "tag": "h2",
                "content_hint": "产品名称及规格"
              },
              {
                "tag": "p",
                "content_hint": "卖点文案及详细介绍"
              }
            ]
          },
          {
            "id": "price-promo",
            "html": "section",
            "children": [
              {
                "tag": "span",
                "content_hint": "现价"
              },
              {
                "tag": "span",
                "content_hint": "原价（划线）"
              },
              {
                "tag": "div",
                "content_hint": "春节限时倒计时"
              }
            ]
          },
          {
            "id": "coupon-center",
            "html": "section",
            "children": [
              {
                "tag": "button",
                "content_hint": "领取满10减2优惠券"
              },
              {
                "tag": "button",
                "content_hint": "领取满20减5优惠券"
              }
            ]
          },
          {
            "id": "comment-section",
            "html": "section",
            "children": [
              {
                "tag": "h3",
                "content_hint": "用户评论标题"
              },
              {
                "tag": "div",
                "content_hint": "评论筛选控件"
              },
              {
                "tag": "ul",
                "content_hint": "评论列表"
              }
            ]
          },
          {
            "id": "buy-modal",
            "html": "div",
            "children": [
              {
                "tag": "h4",
                "content_hint": "已选商品信息"
              },
              {
                "tag": "p",
                "content_hint": "最终价格"
              },
              {
                "tag": "button",
                "content_hint": "确认支付按钮"
              }
            ]
          },
          {
            "id": "random-optimize",
            "html": "aside",
            "children": [
              {
                "tag": "div",
                "content_hint": "动态推荐位"
              },
              {
                "tag": "span",
                "content_hint": "高亮优惠信息"
              }
            ]
          },
          {
            "id": "footer-bar",
            "html": "footer",
            "children": [
              {
                "tag": "p",
                "content_hint": "版权信息"
              },
              {
                "tag": "nav",
                "content_hint": "底部导航链接"
              }
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>春节零食商城</title>\n<style>\n  body {\n    font-family: Arial, sans-serif;\n    margin: 0;\n    background-color: #F4F4F5;\n    color: #333;\n  }\n  header {\n    background-color: #D32F2F;\n    color: #FFFFFF;\n    padding: 1rem;\n    text-align: center;\n  }\n  header h1 {\n    margin: 0;\n  }\n  nav a {\n    color: #FFFFFF;\n    margin: 0 0.5rem;\n    text-decoration: none;\n  }\n  #search-bar {\n    display: flex;\n    padding: 1rem;\n    background-color: #FFC107;\n    justify-content: center;\n    align-items: center;\n  }\n  #search-bar input {\n    padding: 0.5rem;\n    width: 60%;\n    border: none;\n    border-radius: 4px;\n    margin-right: 0.5rem;\n  }\n  #search-bar button {\n    padding: 0.5rem 1rem;\n    background-color: #4CAF50;\n    color: #FFFFFF;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  #product-gallery {\n    padding: 1rem;\n    text-align: center;\n    background-color: #FFFFFF;\n  }\n  #product-gallery img {\n    max-width: 100%;\n    margin-bottom: 1rem;\n  }\n  #product-gallery .thumbnails img {\n    width: 60px;\n    height: 60px;\n    margin: 0 5px;\n    cursor: pointer;\n    border: 1px solid #ccc;\n  }\n  #product-info {\n    padding: 1rem;\n    background-color: #FFFFFF;\n  }\n  #price-promo {\n    padding: 1rem;\n    background-color: #FFC107;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  #price-promo span {\n    font-size: 1.2rem;\n  }\n  #price-promo span.original-price {\n    text-decoration: line-through;\n    color: #888;\n  }\n  #coupon-center {\n    padding: 1rem;\n    background-color: #FFFFFF;\n    text-align: center;\n  }\n  #coupon-center button {\n    margin: 0.5rem;\n    padding: 0.5rem 1rem;\n    background-color: #4CAF50;\n    color: #FFFFFF;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  #comment-section {\n    padding: 1rem;\n    background-color: #FFFFFF;\n  }\n  #comment-section h3 {\n    margin-top: 0;\n  }\n  #comment-section ul {\n    list-style: none;\n    padding: 0;\n  }\n  #buy-modal {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: #FFFFFF;\n    padding: 1rem;\n    border: 1px solid #ccc;\n    display: none;\n    z-index: 1000;\n  }\n  #buy-modal button {\n    background-color: #D32F2F;\n    color: #FFFFFF;\n    padding: 0.5rem 1rem;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  #random-optimize {\n    padding: 1rem;\n    background-color: #FFC107;\n    margin-top: 1rem;\n  }\n  #random-optimize span {\n    color: #D32F2F;\n    font-weight: bold;\n  }\n  footer {\n    padding: 1rem;\n    background-color: #D32F2F;\n    color: #FFFFFF;\n    text-align: center;\n  }\n  footer nav a {\n    color: #FFFFFF;\n    margin: 0 0.5rem;\n    text-decoration: none;\n  }\n</style>\n</head>\n<body>\n<header id=\"header-bar\">\n  <h1>春节零食大促</h1>\n  <nav>\n    <a href=\"#\">坚果</a>\n    <a href=\"#\">瓜子零食</a>\n    <a href=\"#\">春节特卖</a>\n  </nav>\n</header>\n\n<section id=\"search-bar\">\n  <input type=\"text\" placeholder=\"搜索全站商品\">\n  <button>搜索</button>\n</section>\n\n<section id=\"product-gallery\">\n  <img src=\"sunflower-main.jpg\" alt=\"新疆葵花籽主图\">\n  <div class=\"thumbnails\">\n    <img src=\"thumb1.jpg\" alt=\"预览1\">\n    <img src=\"thumb2.jpg\" alt=\"预览2\">\n    <img src=\"thumb3.jpg\" alt=\"预览3\">\n  </div>\n</section>\n\n<main id=\"product-info\">\n  <h2>新疆葵花籽 500g</h2>\n  <p>精选新疆葵花籽，颗粒饱满，香脆可口，春节零食的不二选择。</p>\n</main>\n\n<section id=\"price-promo\">\n  <span class=\"current-price\">￥16.9</span>\n  <span class=\"original-price\">￥25.9</span>\n  <div class=\"countdown\">限时优惠倒计时：00:12:34</div>\n</section>\n\n<section id=\"coupon-center\">\n  <button>领取满10减2优惠券</button>\n  <button>领取满20减5优惠券</button>\n</section>\n\n<section id=\"comment-section\">\n  <h3>用户评论</h3>\n  <div class=\"filter\">评论筛选控件</div>\n  <ul>\n    <li>用户A：很好吃，包装精美。</li>\n    <li>用户B：味道新鲜，价格实惠。</li>\n  </ul>\n</section>\n\n<div id=\"buy-modal\">\n  <h4>已选商品：新疆葵花籽 500g</h4>\n  <p>最终价格：￥16.9</p>\n  <button>确认支付</button>\n</div>\n\n<aside id=\"random-optimize\">\n  <div>为你推荐：特价腰果</div>\n  <span>限时买一送一</span>\n</aside>\n\n<footer id=\"footer-bar\">\n  <p>© 2024 春节零食商城 版权所有</p>\n  <nav>\n    <a href=\"#\">关于我们</a>\n    <a href=\"#\">帮助中心</a>\n    <a href=\"#\">联系我们</a>\n  </nav>\n</footer>\n</body>\n</html>"
    }
  ]
}