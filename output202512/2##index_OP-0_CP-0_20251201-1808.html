<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYF 春节香瓜子零食大促</title>
    <style>
        body {
            margin: 0;
            font-family: "微软雅黑", sans-serif;
            background-color: #fff5f5;
            color: #333;
        }
        header {
            background-color: #E4393C;
            color: #fff;
            padding: 1rem;
            text-align: center;
            font-size: 1.2rem;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        main {
            max-width: 640px;
            margin: auto;
            padding: 1rem;
        }
        .product-card {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .product-image {
            width: 100%;
            display: block;
        }
        .product-info {
            padding: 1rem;
        }
        .product-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .product-spec {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        .product-selling-point {
            color: #E4393C;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .product-price {
            font-size: 1.5rem;
            color: #E4393C;
            font-weight: bold;
            margin-right: 0.5rem;
        }
        .product-old-price {
            text-decoration: line-through;
            color: #999;
            font-size: 0.9rem;
        }
        .promotion-bar {
            background-color: #fff0f0;
            padding: 0.5rem;
            margin-top: 0.5rem;
            border-radius: 4px;
            font-size: 0.85rem;
            color: #E4393C;
        }
        .countdown {
            font-weight: bold;
        }
        .stock {
            margin-top: 0.5rem;
            font-size: 0.85rem;
            color: #666;
        }
        .buy-section {
            display: flex;
            align-items: center;
            margin-top: 1rem;
        }
        .quantity-input {
            width: 50px;
            text-align: center;
            font-size: 1rem;
            margin: 0 0.5rem;
        }
        .btn {
            flex: 1;
            padding: 0.8rem;
            background-color: #E4393C;
            color: white;
            text-align: center;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
        }
        .btn:active {
            background-color: #c52722;
        }
        .cart-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #fff;
            border-top: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 1rem;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.05);
        }
        .cart-info {
            font-size: 0.9rem;
        }
        .cart-btn {
            background-color: #E4393C;
            color: #fff;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
        }
        .category-section {
            margin-top: 2rem;
        }
        .category-title {
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            border-left: 4px solid #E4393C;
            padding-left: 0.5rem;
        }
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(45%, 1fr));
            gap: 0.5rem;
        }
        .category-item {
            background: #fff;
            padding: 0.5rem;
            border-radius: 6px;
            text-align: center;
            box-shadow: 0 1px 4px rgba(0,0,0,0.05);
            font-size: 0.85rem;
        }
        @media (max-width: 480px) {
            .product-title {
                font-size: 1rem;
            }
            .product-price {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <header>LYF 春节零食大促</header>
    <main>
        <section class="product-card">
            <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="香瓜子葵花子" class="product-image">
            <div class="product-info">
                <div class="product-title">香瓜子葵花子 30g 小包装 / 10包组合装</div>
                <div class="product-spec">轻享装 | 新鲜原味 | 独立小包装，方便分享</div>
                <div class="product-selling-point">年货必备 · 热销 50000+份</div>
                <div>
                    <span class="product-price">¥16.9</span>
                    <span class="product-old-price">¥29.9</span>
                </div>
                <div class="promotion-bar">
                    限时优惠，截止倒计时：<span class="countdown" id="countdown">00:00:00</span>
                </div>
                <div class="stock" id="stock">库存充足</div>
                <div class="buy-section">
                    <button class="btn" id="minusBtn">-</button>
                    <input type="number" id="quantity" class="quantity-input" value="1" min="1">
                    <button class="btn" id="plusBtn">+</button>
                    <button class="btn" id="addCartBtn">加入购物车</button>
                </div>
            </div>
        </section>

        <section class="category-section">
            <div class="category-title">更多推荐</div>
            <div class="category-grid">
                <div class="category-item">坚果系列</div>
                <div class="category-item">糖果系列</div>
                <div class="category-item">饼干糕点</div>
                <div class="category-item">饮品茶叶</div>
            </div>
        </section>
    </main>

    <div class="cart-bar">
        <span class="cart-info">购物车：<span id="cartCount">0</span> 件 | 合计：¥<span id="cartTotal">0.00</span></span>
        <div class="cart-btn" id="checkoutBtn">去结算</div>
    </div>

    <script>
        // 初始化购物车
        let cart = JSON.parse(localStorage.getItem('cart')) || {count:0,total:0};
        const cartCountEl = document.getElementById('cartCount');
        const cartTotalEl = document.getElementById('cartTotal');
        const price = 16.9;

        function updateCartDisplay() {
            cartCountEl.textContent = cart.count;
            cartTotalEl.textContent = cart.total.toFixed(2);
        }
        updateCartDisplay();

        document.getElementById('minusBtn').addEventListener('click', () => {
            let qty = parseInt(document.getElementById('quantity').value);
            if(qty > 1) {
                document.getElementById('quantity').value = qty - 1;
            }
        });
        document.getElementById('plusBtn').addEventListener('click', () => {
            let qty = parseInt(document.getElementById('quantity').value);
            document.getElementById('quantity').value = qty + 1;
        });

        document.getElementById('addCartBtn').addEventListener('click', () => {
            let qty = parseInt(document.getElementById('quantity').value);
            cart.count += qty;
            cart.total += price * qty;
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            alert('已加入购物车');
        });

        document.getElementById('checkoutBtn').addEventListener('click', () => {
            alert(`结算 ${cart.count} 件商品，合计 ¥${cart.total.toFixed(2)}`);
        });

        // 倒计时
        function startCountdown(endTime) {
            const countdownEl = document.getElementById('countdown');
            function updateCountdown() {
                const now = new Date().getTime();
                const distance = endTime - now;
                if (distance <= 0) {
                    countdownEl.textContent = "活动已结束";
                    clearInterval(timer);
                    return;
                }
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000*60*60));
                const minutes = Math.floor((distance % (1000*60*60)) / (1000*60));
                const seconds = Math.floor((distance % (1000*60)) / 1000);
                countdownEl.textContent = `${String(hours).padStart(2,'0')}:${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;
            }
            updateCountdown();
            const timer = setInterval(updateCountdown, 1000);
        }
        const endTime = new Date();
        endTime.setHours(endTime.getHours() + 24); // 限时24小时
        startCountdown(endTime.getTime());

        // 模拟库存提醒
        const stockEl = document.getElementById('stock');
        let stockCount = 200;
        function simulateStock() {
            if(stockCount <= 20) {
                stockEl.textContent = `库存紧张，仅剩 ${stockCount} 件`;
                stockEl.style.color = '#E4393C';
            } else {
                stockEl.textContent = `库存充足`;
                stockEl.style.color = '#666';
            }
        }
        simulateStock();
    </script>
</body>
</html>