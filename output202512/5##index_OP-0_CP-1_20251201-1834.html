<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYF 春节香瓜子葵花子年货大促</title>
    <style>
        body {
            margin: 0;
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: #fff5f5;
            color: #333;
        }
        header {
            background-color: #E4393C;
            color: #fff;
            padding: 1rem;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
        }
        .container {
            max-width: 640px;
            margin: auto;
            padding: 1rem;
        }
        .product {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
            overflow: hidden;
        }
        .product-img img {
            width: 100%;
            display: block;
        }
        .product-info {
            padding: 1rem;
        }
        .product-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .product-spec {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        .sell-points {
            font-size: 0.95rem;
            color: #333;
            margin-bottom: 1rem;
        }
        .price-box {
            display: flex;
            align-items: baseline;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .price-current {
            font-size: 1.4rem;
            color: #E4393C;
            font-weight: bold;
        }
        .price-original {
            font-size: 0.9rem;
            color: #999;
            text-decoration: line-through;
        }
        .promotion {
            color: #E4393C;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        .buy-box {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .quantity {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }
        .quantity button {
            background-color: #f5f5f5;
            border: none;
            padding: 0.5rem;
            cursor: pointer;
        }
        .quantity input {
            width: 40px;
            border: none;
            text-align: center;
            font-size: 1rem;
        }
        .btn-add {
            background-color: #E4393C;
            color: #fff;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            flex: 1;
            margin-left: 0.5rem;
        }
        .stock {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 1rem;
        }
        .countdown {
            font-size: 1rem;
            font-weight: bold;
            color: #E4393C;
            margin-bottom: 1rem;
        }
        .cart {
            background-color: #fff;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }
        .cart-item button {
            background-color: transparent;
            border: none;
            color: #E4393C;
            cursor: pointer;
        }
        .checkout {
            margin-top: 1rem;
            text-align: center;
        }
        .btn-checkout {
            background-color: #E4393C;
            color: #fff;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
        }
        @media (max-width: 480px) {
            .price-current {
                font-size: 1.2rem;
            }
            .btn-add,
            .btn-checkout {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <header>LYF 春节年货大促 | 香瓜子葵花子</header>
    <div class="container">
        <section class="product">
            <div class="product-img">
                <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="LYF香瓜子葵花子">
            </div>
            <div class="product-info">
                <div class="product-title">LYF 香瓜子葵花子</div>
                <div class="product-spec">30g 小包装 × 10包组合装</div>
                <div class="sell-points">精选原味葵花子，颗粒饱满香脆，春节必备零食，送礼自食两相宜。</div>
                <div class="price-box">
                    <div class="price-current">¥16.9</div>
                    <div class="price-original">¥29.9</div>
                </div>
                <div class="promotion">限时直降 + 满50减5元优惠券</div>
                <div class="countdown" id="countdown">促销倒计时：--:--:--</div>
                <div class="stock" id="stock">库存剩余：50 件</div>
                <div class="buy-box">
                    <div class="quantity">
                        <button id="qty-minus">-</button>
                        <input type="text" id="qty" value="1" readonly>
                        <button id="qty-plus">+</button>
                    </div>
                    <button class="btn-add" id="add-to-cart">加入购物车</button>
                </div>
            </div>
        </section>
        <section class="cart">
            <h3>购物车</h3>
            <div id="cart-items"></div>
            <div class="checkout">
                <button class="btn-checkout" id="checkout">立即结算</button>
            </div>
        </section>
    </div>
    <script>
        const qtyInput = document.getElementById('qty');
        const qtyMinus = document.getElementById('qty-minus');
        const qtyPlus = document.getElementById('qty-plus');
        const addToCartBtn = document.getElementById('add-to-cart');
        const cartItemsContainer = document.getElementById('cart-items');
        const stockDisplay = document.getElementById('stock');

        let stock = 50;
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        function renderCart() {
            cartItemsContainer.innerHTML = '';
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p>购物车为空</p>';
                return;
            }
            cart.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = `
                    <span>${item.name} × ${item.qty} —— ¥${(item.qty * item.price).toFixed(2)}</span>
                    <button onclick="removeFromCart(${index})">删除</button>
                `;
                cartItemsContainer.appendChild(div);
            });
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        }

        qtyMinus.addEventListener('click', () => {
            let qty = parseInt(qtyInput.value);
            if (qty > 1) qtyInput.value = qty - 1;
        });

        qtyPlus.addEventListener('click', () => {
            let qty = parseInt(qtyInput.value);
            if (qty < stock) qtyInput.value = qty + 1;
        });

        addToCartBtn.addEventListener('click', () => {
            const qty = parseInt(qtyInput.value);
            if (qty > stock) {
                alert('库存不足');
                return;
            }
            stock -= qty;
            stockDisplay.textContent = `库存剩余：${stock} 件`;
            const item = {
                name: 'LYF 香瓜子葵花子',
                qty: qty,
                price: 16.9
            };
            cart.push(item);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });

        document.getElementById('checkout').addEventListener('click', () => {
            if (cart.length === 0) {
                alert('购物车为空');
                return;
            }
            alert('进入结算流程...');
        });

        function startCountdown(duration) {
            let timer = duration;
            const countdownEl = document.getElementById('countdown');
            setInterval(() => {
                let hours = parseInt(timer / 3600, 10);
                let minutes = parseInt((timer % 3600) / 60, 10);
                let seconds = parseInt(timer % 60, 10);
                hours = hours < 10 ? "0" + hours : hours;
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                countdownEl.textContent = `促销倒计时：${hours}:${minutes}:${seconds}`;
                if (--timer < 0) {
                    countdownEl.textContent = '促销已结束';
                }
            }, 1000);
        }

        renderCart();
        startCountdown(3600); // 1小时倒计时
    </script>
</body>
</html>