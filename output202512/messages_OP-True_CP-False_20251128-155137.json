{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**电商产品详情页。该网页必须是一个完整的、可交互的原型。\n\n# Product Context\n我们需要为一款春节热销零食制作落地页，模仿京东（JD.com）的移动端/PC端响应式布局风格。\n* **品牌**：LYF\n* **商品名称**：新疆原产葵花籽（30g 独立小包装）\n* **价格策略**：10包组合装，售价 16.9 元。\n\n# Functional Requirements (功能需求)\n1.  **布局结构**：\n    * **顶部**：简单的导航栏（包含 Logo 占位符和搜索框占位符）。\n    * **左侧/顶部（视宽度而定）**：产品主图展示区。包含 1 张大图和 2 张缩略图。点击缩略图需切换大图。\n     1 张大图链接“https://detail.1688.com/offer/988089985291.html?spm=a261b.8768355.pic-list.30.432360cd4VYDtD”\n    缩略图1“https://detail.1688.com/offer/981519203786.html?spm=a261b.8768355.pic-list.16.424760cd9rabYd”\n    缩略图2“https://detail.1688.com/offer/990628769471.html?spm=a261b.8768355.pic-list.7.667160cdECaV86”\n    * **右侧/底部（视宽度而定）**：产品信息区。包含标题、红色价格高亮、促销标签（“春节特惠”、“包邮”）。\n    * **交互区**：数量选择器（支持 +/-，且数量不能小于 1），以及“立即购买”和“加入购物车”两个按钮。\n    * **详情区**：页面底部需包含 Tab 切换功能（“商品介绍” vs “售后保障”），点击 Tab 切换显示不同文本内容。\n\n2.  **核心逻辑 (JavaScript)**：\n    * **数量联动**：默认数量为 1。点击 +/- 按钮更新数量，并实时更新“总价”（Total Price = 16.9 * 数量）。结果保留 1 位小数。\n    * **购物车反馈**：点击“加入购物车”后，弹出轻提示（Toast Notification）：\"已成功加入购物车：LYF葵花籽 x [数量]\"，2秒后自动消失。\n    * **图片切换**：鼠标悬停或点击缩略图时，主图需平滑切换。\n\n3.  **UI/Design Requirements (设计规范)**：\n    * **配色**：主色调使用京东红（#f23030 或类似），背景色为浅灰（#f6f6f6），内容区为白色。\n    * **图片处理**：由于无法访问外部图库，请使用 placeholder 图片服务（如 `https://via.placeholder.com/400x400?text=LYF+Product`）来生成不同颜色的占位图，确保页面不出现破图。\n    * **响应式**：页面需适配手机端和 PC 端（使用 Flexbox 或 Grid 布局）。\n4.营销倒计时系统 (Complex Logic)\n在价格旁显示“春节限时抢购倒计时”。\n逻辑要求：倒计时设定为 2 小时 0 分 0 秒。必须实时跳动（每秒 -1）。\n边界状态：当倒计时归零时，按钮变为灰色“活动已结束”，且不可点击。\n\n5. 优惠券与价格计算 (State Management)\n界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n\n6.交互逻辑：\n用户点击优惠券可“领取”（变为高亮状态，只能选一张）。\n数量选择器调整商品数量时，**总价（Total Price）**必须根据（单价 * 数量 - 优惠券金额）实时重新计算。\n如果总价不满足优惠券门槛，优惠券自动失效（取消高亮）。\n\n7. 评论区筛选器 (DOM Manipulation)\n展示评论列表。\n顶部有 Filter 按钮：“全部”、“好评”、“中评”。\n交互逻辑：点击不同按钮，下方评论列表必须根据 productData.reviews 数组进行实时过滤并重新渲染 DOM。\n\n8. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n\n# Technical Constraints (技术约束)\n* 所有代码（HTML, CSS, JS）必须包含在一个 HTML 文件中，CSS 放 `<style>`，JS 放 `<script>`。\n* 代码结构清晰，有注释，不依赖 React/Vue 等外部框架，使用原生 Vanilla JS。\n* CSS 需处理好按钮的 hover 状态和阴影细节，体现电商的高级感。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求",
              "识别并划分可交付成果",
              "根据功能模块拆解任务并分配给 PM、Architect、Engineer"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "整理客户需求为结构化 PRD",
              "明确功能需求与约束条件",
              "输出详细的交互流程与边界状态说明"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "基于 PRD设计页面信息架构",
              "定义布局结构（导航栏、产品展示区、信息区、详情区、评论区、模态框）",
              "组件划分与命名规范",
              "交互逻辑数据流设计（数量选择器、优惠券、倒计时、评论筛选）"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据信息架构与规格实现单文件 HTML 页面",
              "在 <style> 中实现响应式布局和京东风格配色",
              "在 <script> 中实现全部交互逻辑（数量联动、优惠券计算、倒计时、图片切换、评论筛选、模态框）",
              "实现 Toast 提示与按钮状态控制",
              "确保页面在 PC/移动端正常显示"
            ]
          }
        ]
      }
    }
  ],
  "prd": [
    {
      "topic": "prd",
      "sender": "PM",
      "content": {
        "product": "LYF春节热销零食新疆葵花籽组合装落地页原型",
        "goals": [
          "提升春节期间新疆葵花籽的线上销量",
          "通过响应式布局提升不同设备用户的浏览体验",
          "提供优惠券、促销标签等营销工具刺激下单",
          "实现倒计时促销逻辑以制造紧迫感",
          "优化交互体验（图片切换、数量选择器、评论筛选）提高转化率",
          "完善购买与加入购物车反馈机制提升用户满意度",
          "支持状态管理和价格计算确保结算逻辑准确"
        ],
        "target_users": [
          "节日期间购买零食送礼的用户：希望快速了解商品信息并享受促销价",
          "追求高性价比的电商平台用户：需要优惠券、满减促销和价格直观展示"
        ],
        "page_sections": [
          {
            "id": "top-navbar",
            "purpose": "展示品牌Logo和搜索框入口，方便用户进行商品搜索及品牌识别"
          },
          {
            "id": "product-gallery",
            "purpose": "通过大图和缩略图互动展示产品外观，支持点击/悬停切换主图"
          },
          {
            "id": "product-info",
            "purpose": "提供商品标题、价格、促销标签、倒计时等核心购买信息"
          },
          {
            "id": "quantity-selection",
            "purpose": "支持 +/- 数量调整并实时更新总价"
          },
          {
            "id": "coupon-section",
            "purpose": "展示并选择优惠券，根据满足门槛自动生效或失效，影响价格计算"
          },
          {
            "id": "purchase-actions",
            "purpose": "提供“立即购买”和“加入购物车”按钮及反馈提示，购买按钮触发底部模态框确认"
          },
          {
            "id": "product-tabs",
            "purpose": "Tab切换展示‘商品介绍’与‘售后保障’文本内容"
          },
          {
            "id": "reviews-section",
            "purpose": "展示评论列表及筛选按钮，点击筛选按钮即时过滤并渲染评论"
          },
          {
            "id": "purchase-modal",
            "purpose": "底部弹出遮罩层确认面板，显示选购信息与价格，提供确认支付按钮"
          }
        ]
      }
    }
  ],
  "page_spec": [
    {
      "topic": "page_spec",
      "sender": "Architect",
      "content": {
        "layout": "single-column",
        "colors": [
          "#D32F2F",
          "#FFD54F",
          "#F4F4F5",
          "#388E3C",
          "#FFFFFF"
        ],
        "components": [
          {
            "id": "top-navbar",
            "html": "header",
            "children": [
              {
                "tag": "h1",
                "content_hint": "品牌Logo与名称"
              },
              {
                "tag": "div",
                "content_hint": "搜索框入口区域"
              }
            ]
          },
          {
            "id": "product-gallery",
            "html": "section",
            "children": [
              {
                "tag": "img",
                "content_hint": "主展示大图"
              },
              {
                "tag": "div",
                "content_hint": "缩略图列表，可点击切换主图"
              }
            ]
          },
          {
            "id": "product-info",
            "html": "section",
            "children": [
              {
                "tag": "h2",
                "content_hint": "商品标题"
              },
              {
                "tag": "p",
                "content_hint": "促销标签，如满减或优惠价"
              },
              {
                "tag": "div",
                "content_hint": "价格展示区域"
              },
              {
                "tag": "div",
                "content_hint": "倒计时促销展示"
              }
            ]
          },
          {
            "id": "quantity-selection",
            "html": "section",
            "children": [
              {
                "tag": "button",
                "content_hint": "减少数量按钮"
              },
              {
                "tag": "input",
                "content_hint": "数量显示与输入"
              },
              {
                "tag": "button",
                "content_hint": "增加数量按钮"
              },
              {
                "tag": "div",
                "content_hint": "实时总价显示"
              }
            ]
          },
          {
            "id": "coupon-section",
            "html": "section",
            "children": [
              {
                "tag": "h3",
                "content_hint": "优惠券标题"
              },
              {
                "tag": "ul",
                "content_hint": "优惠券列表，可选择与领取"
              }
            ]
          },
          {
            "id": "purchase-actions",
            "html": "section",
            "children": [
              {
                "tag": "button",
                "content_hint": "立即购买按钮"
              },
              {
                "tag": "button",
                "content_hint": "加入购物车按钮"
              },
              {
                "tag": "div",
                "content_hint": "操作反馈提示"
              }
            ]
          },
          {
            "id": "product-tabs",
            "html": "section",
            "children": [
              {
                "tag": "nav",
                "content_hint": "商品介绍与售后保障的Tab导航"
              },
              {
                "tag": "div",
                "content_hint": "当前Tab内容区域"
              }
            ]
          },
          {
            "id": "reviews-section",
            "html": "section",
            "children": [
              {
                "tag": "h3",
                "content_hint": "评论标题"
              },
              {
                "tag": "div",
                "content_hint": "评论筛选按钮组"
              },
              {
                "tag": "ul",
                "content_hint": "评论列表"
              }
            ]
          },
          {
            "id": "purchase-modal",
            "html": "footer",
            "children": [
              {
                "tag": "h4",
                "content_hint": "选购信息标题"
              },
              {
                "tag": "div",
                "content_hint": "选购商品列表与价格"
              },
              {
                "tag": "button",
                "content_hint": "确认支付按钮"
              }
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>商品详情页</title>\n<style>\n    body {\n        margin: 0;\n        font-family: Arial, sans-serif;\n        background-color: #F4F4F5;\n        color: #333;\n    }\n    header {\n        background-color: #D32F2F;\n        color: #FFFFFF;\n        padding: 1rem;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n    }\n    header h1 {\n        margin: 0;\n        font-size: 1.5rem;\n    }\n    header .search-box {\n        flex-shrink: 0;\n    }\n    header input {\n        padding: 0.5rem;\n        border: none;\n        border-radius: 4px;\n    }\n    section {\n        padding: 1rem;\n        background-color: #FFFFFF;\n        margin-bottom: 1rem;\n    }\n    #product-gallery img {\n        width: 100%;\n        height: auto;\n        display: block;\n        margin-bottom: 0.5rem;\n    }\n    #product-gallery .thumbnails {\n        display: flex;\n        gap: 0.5rem;\n    }\n    #product-gallery .thumbnails img {\n        width: 60px;\n        height: 60px;\n        object-fit: cover;\n        cursor: pointer;\n        border: 2px solid transparent;\n    }\n    #product-gallery .thumbnails img:hover {\n        border-color: #388E3C;\n    }\n    #product-info h2 {\n        margin-top: 0;\n    }\n    #product-info .promotion {\n        color: #D32F2F;\n        font-weight: bold;\n    }\n    #product-info .price {\n        font-size: 1.5rem;\n        color: #388E3C;\n        margin: 0.5rem 0;\n    }\n    #product-info .countdown {\n        color: #FFD54F;\n        font-weight: bold;\n    }\n    #quantity-selection {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n    }\n    #quantity-selection button {\n        padding: 0.5rem 1rem;\n        border: none;\n        background-color: #FFD54F;\n        cursor: pointer;\n        font-size: 1rem;\n    }\n    #quantity-selection input {\n        width: 50px;\n        text-align: center;\n        padding: 0.5rem;\n    }\n    #quantity-selection .total-price {\n        margin-left: auto;\n        font-weight: bold;\n        color: #388E3C;\n    }\n    #coupon-section ul {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n    }\n    #coupon-section li {\n        background-color: #F4F4F5;\n        padding: 0.5rem;\n        margin-bottom: 0.5rem;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n    #coupon-section li:hover {\n        background-color: #FFD54F;\n    }\n    #purchase-actions {\n        display: flex;\n        gap: 1rem;\n        align-items: center;\n    }\n    #purchase-actions button {\n        flex: 1;\n        padding: 0.75rem;\n        font-size: 1rem;\n        border: none;\n        cursor: pointer;\n        border-radius: 4px;\n        color: #FFFFFF;\n    }\n    #purchase-actions .buy-now {\n        background-color: #D32F2F;\n    }\n    #purchase-actions .add-cart {\n        background-color: #388E3C;\n    }\n    #purchase-actions .feedback {\n        flex: 2;\n        color: #D32F2F;\n        font-weight: bold;\n    }\n    #product-tabs nav {\n        display: flex;\n        gap: 1rem;\n        border-bottom: 2px solid #F4F4F5;\n    }\n    #product-tabs nav a {\n        padding: 0.5rem 1rem;\n        text-decoration: none;\n        color: #333;\n        cursor: pointer;\n    }\n    #product-tabs nav a.active {\n        border-bottom: 2px solid #388E3C;\n        color: #388E3C;\n        font-weight: bold;\n    }\n    #reviews-section .filter-buttons {\n        display: flex;\n        gap: 0.5rem;\n        margin-bottom: 1rem;\n    }\n    #reviews-section .filter-buttons button {\n        padding: 0.5rem 1rem;\n        border: none;\n        cursor: pointer;\n        border-radius: 4px;\n        background-color: #FFD54F;\n    }\n    #reviews-section ul {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n    }\n    #reviews-section li {\n        background-color: #F4F4F5;\n        padding: 0.5rem;\n        margin-bottom: 0.5rem;\n        border-radius: 4px;\n    }\n    footer {\n        background-color: #F4F4F5;\n        padding: 1rem;\n        position: fixed;\n        bottom: 0;\n        width: 100%;\n        box-shadow: 0 -2px 5px rgba(0,0,0,0.1);\n    }\n    footer .purchase-info {\n        margin: 0.5rem 0;\n    }\n    footer button {\n        width: 100%;\n        padding: 0.75rem;\n        background-color: #D32F2F;\n        border: none;\n        color: #FFFFFF;\n        font-size: 1rem;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n</style>\n</head>\n<body>\n\n<header id=\"top-navbar\">\n    <h1>品牌名称</h1>\n    <div class=\"search-box\"><input type=\"text\" placeholder=\"搜索商品\"></div>\n</header>\n\n<section id=\"product-gallery\">\n    <img src=\"main-product.jpg\" alt=\"商品主图\">\n    <div class=\"thumbnails\">\n        <img src=\"thumb1.jpg\" alt=\"缩略图1\">\n        <img src=\"thumb2.jpg\" alt=\"缩略图2\">\n        <img src=\"thumb3.jpg\" alt=\"缩略图3\">\n    </div>\n</section>\n\n<section id=\"product-info\">\n    <h2>商品标题</h2>\n    <p class=\"promotion\">促销标签</p>\n    <div class=\"price\">￥199.00</div>\n    <div class=\"countdown\">剩余 01:23:45</div>\n</section>\n\n<section id=\"quantity-selection\">\n    <button>-</button>\n    <input type=\"number\" value=\"1\" min=\"1\">\n    <button>+</button>\n    <div class=\"total-price\">总价：￥199.00</div>\n</section>\n\n<section id=\"coupon-section\">\n    <h3>优惠券</h3>\n    <ul>\n        <li>满100减10</li>\n        <li>满200减30</li>\n    </ul>\n</section>\n\n<section id=\"purchase-actions\">\n    <button class=\"buy-now\">立即购买</button>\n    <button class=\"add-cart\">加入购物车</button>\n    <div class=\"feedback\"></div>\n</section>\n\n<section id=\"product-tabs\">\n    <nav>\n        <a href=\"#\" class=\"active\">商品介绍</a>\n        <a href=\"#\">售后保障</a>\n    </nav>\n    <div class=\"tab-content\">这里是商品介绍内容</div>\n</section>\n\n<section id=\"reviews-section\">\n    <h3>用户评论</h3>\n    <div class=\"filter-buttons\">\n        <button>全部</button>\n        <button>好评</button>\n        <button>差评</button>\n    </div>\n    <ul>\n        <li>评论内容1</li>\n        <li>评论内容2</li>\n        <li>评论内容3</li>\n    </ul>\n</section>\n\n<footer id=\"purchase-modal\">\n    <h4>选购信息</h4>\n    <div class=\"purchase-info\">商品列表与总价</div>\n    <button>确认支付</button>\n</footer>\n\n</body>\n</html>"
    }
  ]
}