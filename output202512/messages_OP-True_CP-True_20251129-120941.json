{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品展示图，可翻动：\n    图1“https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n    图2“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    图3“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    卖点文案：突出“颗粒饱满”、“独立包装不脏手”、“买多少送多少”、“五香味”\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n2. 优惠券与价格计算 界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n是否可实现点击优惠券，自动减少相应价格\n\n3.添加购买规格：包含10包、20包、30包，价格可以买的越多越优惠。\n4. 评论区筛选器：展示评论列表。\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n6.随机优化功能\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求",
              "确认交付物为单文件 HTML 电商销售网页，包含 HTML/CSS/JS",
              "明确需包含 4P 营销要素与附加交互功能"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "整理结构化 PRD，定义页面模块：搜索栏、导航栏、产品展示（图片翻动）、卖点文案、价格区块（现价、原价、优惠）、渠道入口（购买按钮与流程）、促销元素（倒计时、限购提示）",
              "明确交互功能：优惠券点击价格计算、购买规格选择、评论区筛选器、模态购物车弹出与确认支付逻辑",
              "收集并嵌入所提供的产品图片与文案"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "设计页面信息架构：顶部搜索栏与导航、主视觉图轮播组件、产品信息与规格组件、价格与促销组件、渠道入口组件（按钮）、评论模块、倒计时模块、优惠券模块、模态购物车面板",
              "规划组件之间的交互关系与数据流，确保优惠券逻辑与价格计算模块可复用",
              "定义颜色与样式基调（春节红 #E4393C），移动端京东/天猫风格布局"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据 PRD 与架构方案实现单文件 HTML（内嵌 CSS 与 JavaScript）",
              "实现轮播展示三张产品图片",
              "实现倒计时逻辑与动态更新时间显示",
              "优惠券点击事件与价格计算逻辑（A券满10减2、B券满20减5）",
              "购买规格选择（10包、20包、30包）并联动价格",
              "评论区筛选及展示",
              "底部立即购买按钮触发模态购物车弹出，显示所选商品与最终价格，确认支付按钮点击后 alert 输出订单对象",
              "整体样式与交互优化，符合春节促销氛围"
            ]
          }
        ]
      }
    }
  ],
  "prd": [
    {
      "topic": "prd",
      "sender": "PM",
      "content": {
        "product": "春节 LYF 香瓜子葵花子促销单页电商",
        "goals": [
          "在春节促销期间提升 LYF 香瓜子葵花子销量",
          "为用户提供移动端友好、京东/天猫风格的购买体验",
          "通过倒计时、优惠券和价格差异制造紧迫感与下单动力",
          "实现优惠券和购买规格的互动价格计算，提升客单价",
          "增加用户参与度与停留时间，通过评论区和筛选功能",
          "优化购买流程，使用模态购物车减少跳转流失率"
        ],
        "target_users": [
          "春节年货购买者：希望一次性购买高性价比零食，强调节日送礼与自用场景",
          "价格敏感的家庭用户：关注促销信息、优惠券、组合装更实惠",
          "喜欢移动电商便捷操作的年轻人：需要直观的图片展示、简单购买流程",
          "注重产品质量和包装的消费者：偏好独立包装、干净卫生、口味稳定"
        ],
        "page_sections": [
          {
            "id": "search-bar",
            "purpose": "提供顶部搜索入口，便于用户查找产品，提高转化率"
          },
          {
            "id": "nav-bar",
            "purpose": "展示分类导航（节日零食、坚果瓜子等），增强用户浏览与发现感"
          },
          {
            "id": "product-gallery",
            "purpose": "轮播展示三张提供的产品图片，直观呈现外观与包装"
          },
          {
            "id": "product-info",
            "purpose": "展示规格介绍（30g*10包），卖点文案突出颗粒饱满、独立包装不脏手、买多少送多少、五香味等"
          },
          {
            "id": "price-block",
            "purpose": "突出现价与原价差异，包含春节限时抢购倒计时，传递价格优势与紧迫感"
          },
          {
            "id": "coupon-section",
            "purpose": "展示两张优惠券（满10减2、满20减5），支持点击选择并自动计算最终价格"
          },
          {
            "id": "spec-selection",
            "purpose": "允许用户选择购买规格（10包、20包、30包），价格随数量变化"
          },
          {
            "id": "promotion-tag",
            "purpose": "添加促销标签、库存提醒或限购提示，增强用户下单动机"
          },
          {
            "id": "review-section",
            "purpose": "展示用户评论及筛选功能，根据好评/中评/差评进行查看"
          },
          {
            "id": "buy-button",
            "purpose": "底部突出“立即购买”按钮，触发模态购物车确认面板"
          },
          {
            "id": "modal-cart",
            "purpose": "弹出半透明遮罩与确认面板，显示已选商品信息和最终价格，提供确认支付功能"
          }
        ]
      }
    }
  ],
  "page_spec": [
    {
      "topic": "page_spec",
      "sender": "Architect",
      "content": {
        "layout": "single-column",
        "colors": [
          "#E4393C",
          "#FFD700",
          "#F4F4F5",
          "primary",
          "secondary"
        ],
        "components": [
          {
            "id": "search-bar",
            "html": "header",
            "children": [
              {
                "tag": "input",
                "content_hint": "搜索输入框"
              },
              {
                "tag": "button",
                "content_hint": "搜索按钮"
              }
            ]
          },
          {
            "id": "nav-bar",
            "html": "nav",
            "children": [
              {
                "tag": "ul",
                "content_hint": "分类导航列表"
              },
              {
                "tag": "li",
                "content_hint": "节日零食分类"
              },
              {
                "tag": "li",
                "content_hint": "坚果瓜子分类"
              }
            ]
          },
          {
            "id": "product-gallery",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "轮播组件包含三张产品图片"
              },
              {
                "tag": "img",
                "content_hint": "产品外观图"
              }
            ]
          },
          {
            "id": "product-info",
            "html": "section",
            "children": [
              {
                "tag": "h1",
                "content_hint": "产品名称：LYF 香瓜子葵花子"
              },
              {
                "tag": "p",
                "content_hint": "规格介绍：30g×10 包"
              },
              {
                "tag": "ul",
                "content_hint": "卖点列表，如颗粒饱满、独立包装不脏手、买多少送多少、五香味"
              }
            ]
          },
          {
            "id": "price-block",
            "html": "section",
            "children": [
              {
                "tag": "span",
                "content_hint": "现价"
              },
              {
                "tag": "del",
                "content_hint": "原价"
              },
              {
                "tag": "div",
                "content_hint": "春节限时抢购倒计时"
              }
            ]
          },
          {
            "id": "coupon-section",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "优惠券卡片：满10减2元"
              },
              {
                "tag": "div",
                "content_hint": "优惠券卡片：满20减5元"
              }
            ]
          },
          {
            "id": "spec-selection",
            "html": "section",
            "children": [
              {
                "tag": "label",
                "content_hint": "规格选项 10包"
              },
              {
                "tag": "label",
                "content_hint": "规格选项 20包"
              },
              {
                "tag": "label",
                "content_hint": "规格选项 30包"
              }
            ]
          },
          {
            "id": "promotion-tag",
            "html": "div",
            "children": [
              {
                "tag": "span",
                "content_hint": "促销标签，如限时、库存提醒"
              }
            ]
          },
          {
            "id": "review-section",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "评论筛选器"
              },
              {
                "tag": "ul",
                "content_hint": "评论列表"
              }
            ]
          },
          {
            "id": "buy-button",
            "html": "footer",
            "children": [
              {
                "tag": "button",
                "content_hint": "立即购买按钮"
              }
            ]
          },
          {
            "id": "modal-cart",
            "html": "aside",
            "children": [
              {
                "tag": "div",
                "content_hint": "半透明遮罩层"
              },
              {
                "tag": "div",
                "content_hint": "确认面板，显示已选商品信息"
              },
              {
                "tag": "button",
                "content_hint": "确认支付按钮"
              }
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节香瓜子葵花子促销</title>\n<style>\nbody { margin:0; font-family: Arial, sans-serif; background:#F4F4F5; color:#333; }\nheader { background:#E4393C; padding:10px; display:flex; }\nheader input { flex:1; padding:8px; border:none; border-radius:4px; }\nheader button { background:#FFD700; border:none; padding:8px 12px; margin-left:5px; border-radius:4px; }\n\nnav { background:#fff; display:flex; justify-content:space-around; padding:10px 0; border-bottom:1px solid #ddd; }\nnav ul { list-style:none; display:flex; padding:0; margin:0; }\nnav li { margin:0 10px; color:#E4393C; font-weight:bold; }\n\nsection { background:#fff; margin-bottom:10px; padding:10px; }\n\n#product-gallery { text-align:center; }\n#product-gallery img { width:100%; max-height:250px; object-fit:cover; border-radius:8px; }\n#gallery-controls { display:flex; justify-content:center; margin-top:5px;}\n#gallery-controls button { margin:0 5px; padding:5px 10px; border:none; border-radius:4px; background:#E4393C; color:#fff; }\n\n#product-info h1 { color:#E4393C; }\n#product-info ul { list-style:none; padding:0; }\n#product-info li::before { content:\"✔ \"; color:#E4393C; }\n\n#price-block { display:flex; align-items:center; justify-content:space-between; }\n#price-block .current-price { font-size:1.5em; color:#E4393C; }\n#price-block .old-price { color:#999; margin-left:10px; }\n#countdown { color:#FFD700; font-weight:bold; }\n\n#coupon-section { display:flex; justify-content:space-around; }\n.coupon { background:#FFF4E5; padding:10px; border:2px dashed #E4393C; border-radius:8px; cursor:pointer; width:45%; text-align:center; }\n.coupon.active { background:#FFD700; }\n\n#spec-selection label { margin-right:10px; cursor:pointer; }\n#spec-selection input { margin-right:5px; }\n\n#promotion-tag { background:#FFD700; padding:5px; text-align:center; color:#E4393C; font-weight:bold; }\n\n#review-section { background:#fff; }\n.review-filters button { margin-right:5px; padding:5px 10px; border:none; background:#E4393C; color:#fff; border-radius:4px; }\n.review-list { list-style:none; padding:0; }\n.review-list li { border-bottom:1px solid #eee; padding:5px 0; }\n\nfooter { position:fixed; bottom:0; left:0; width:100%; background:#E4393C; padding:10px; }\nfooter button { width:100%; padding:10px; font-size:1.2em; background:#FFD700; border:none; border-radius:4px; color:#E4393C; font-weight:bold; }\n\n.modal-overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); }\n.modal-cart { position:fixed; bottom:-100%; left:0; width:100%; background:#fff; border-top-left-radius:12px; border-top-right-radius:12px; transition:bottom 0.3s; padding:20px; }\n.modal-cart.active { bottom:0; }\n.modal-cart h2 { margin-top:0; }\n.modal-cart button { margin-top:10px; width:100%; padding:10px; background:#E4393C; color:#fff; border:none; border-radius:4px; font-size:1.2em; }\n</style>\n</head>\n<body>\n\n<header id=\"search-bar\">\n  <input type=\"text\" placeholder=\"搜索年货零食...\">\n  <button>搜索</button>\n</header>\n\n<nav id=\"nav-bar\">\n  <ul>\n    <li>节日零食</li>\n    <li>坚果瓜子</li>\n  </ul>\n</nav>\n\n<section id=\"product-gallery\">\n  <img id=\"gallery-img\" src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"产品图\">\n  <div id=\"gallery-controls\">\n    <button onclick=\"prevImg()\">上一张</button>\n    <button onclick=\"nextImg()\">下一张</button>\n  </div>\n</section>\n\n<section id=\"product-info\">\n  <h1>LYF 香瓜子葵花子</h1>\n  <p>规格：30g × 10 包</p>\n  <ul>\n    <li>颗粒饱满</li>\n    <li>独立包装不脏手</li>\n    <li>买多少送多少</li>\n    <li>五香味</li>\n  </ul>\n</section>\n\n<section id=\"price-block\">\n  <div>\n    <span class=\"current-price\" id=\"current-price\">¥16.9</span>\n    <del class=\"old-price\">¥29.9</del>\n  </div>\n  <div id=\"countdown\">剩余 00:00:00</div>\n</section>\n\n<section id=\"coupon-section\">\n  <div class=\"coupon\" data-discount=\"2\" data-min=\"10\">满10减2元</div>\n  <div class=\"coupon\" data-discount=\"5\" data-min=\"20\">满20减5元</div>\n</section>\n\n<section id=\"spec-selection\">\n  <label><input type=\"radio\" name=\"spec\" value=\"10\" checked>10包</label>\n  <label><input type=\"radio\" name=\"spec\" value=\"20\">20包</label>\n  <label><input type=\"radio\" name=\"spec\" value=\"30\">30包</label>\n</section>\n\n<div id=\"promotion-tag\">\n  限时优惠 · 库存仅剩 200 组\n</div>\n\n<section id=\"review-section\">\n  <div class=\"review-filters\">\n    <button onclick=\"filterReviews('all')\">全部</button>\n    <button onclick=\"filterReviews('good')\">好评</button>\n    <button onclick=\"filterReviews('mid')\">中评</button>\n    <button onclick=\"filterReviews('bad')\">差评</button>\n  </div>\n  <ul class=\"review-list\" id=\"review-list\">\n    <li data-type=\"good\">颗粒很饱满，味道香！</li>\n    <li data-type=\"mid\">包装不错，口味一般。</li>\n    <li data-type=\"bad\">有点潮。</li>\n    <li data-type=\"good\">春节送礼好选择！</li>\n  </ul>\n</section>\n\n<footer id=\"buy-button\">\n  <button onclick=\"openCart()\">立即购买</button>\n</footer>\n\n<div class=\"modal-overlay\" id=\"modal-overlay\" onclick=\"closeCart()\"></div>\n<div class=\"modal-cart\" id=\"modal-cart\">\n  <h2>确认订单</h2>\n  <div id=\"cart-info\"></div>\n  <button onclick=\"confirmPay()\">确认支付</button>\n</div>\n\n<script>\nconst imgs = [\n  \"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\",\n  \"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\",\n  \"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\"\n];\nlet imgIndex=0;\nfunction prevImg(){ imgIndex=(imgIndex-1+imgs.length)%imgs.length; document.getElementById('gallery-img').src=imgs[imgIndex]; }\nfunction nextImg(){ imgIndex=(imgIndex+1)%imgs.length; document.getElementById('gallery-img').src=imgs[imgIndex]; }\n\nfunction countdown(){\n  let end = new Date();\n  end.setHours(end.getHours()+2);\n  setInterval(()=>{\n    let now = new Date();\n    let diff = Math.max(0, end-now);\n    let h = String(Math.floor(diff/3600000)).padStart(2,'0');\n    let m = String(Math.floor((diff%3600000)/60000)).padStart(2,'0');\n    let s = String(Math.floor((diff%60000)/1000)).padStart(2,'0');\n    document.getElementById('countdown').textContent = `剩余 ${h}:${m}:${s}`;\n  },1000);\n}\ncountdown();\n\nlet basePrice=16.9;\nfunction calcSpecPrice(){\n  const specVal = document.querySelector('input[name=\"spec\"]:checked').value;\n  if(specVal==\"10\") basePrice=16.9; else if(specVal==\"20\") basePrice=30; else basePrice=42;\n  updatePrice();\n}\ndocument.querySelectorAll('input[name=\"spec\"]').forEach(r=>r.addEventListener('change',calcSpecPrice));\n\nlet couponDiscount=0;\ndocument.querySelectorAll('.coupon').forEach(c=>{\n  c.addEventListener('click',()=>{\n    document.querySelectorAll('.coupon').forEach(cc=>cc.classList.remove('active'));\n    c.classList.add('active');\n    let min = parseFloat(c.dataset.min);\n    if(basePrice>=min) couponDiscount=parseFloat(c.dataset.discount); else couponDiscount=0;\n    updatePrice();\n  });\n});\n\nfunction updatePrice(){\n  let final = (basePrice - couponDiscount).toFixed(2);\n  document.getElementById('current-price').textContent = `¥${final}`;\n}\nupdatePrice();\n\nfunction filterReviews(type){\n  document.querySelectorAll('#review-list li').forEach(li=>{\n    if(type=='all' || li.dataset.type==type) li.style.display='block';\n    else li.style.display='none';\n  });\n}\n\nfunction openCart(){\n  document.getElementById('modal-overlay').style.display='block';\n  document.getElementById('modal-cart').classList.add('active');\n  const specVal = document.querySelector('input[name=\"spec\"]:checked').value;\n  const finalPrice = document.getElementById('current-price').textContent;\n  document.getElementById('cart-info').innerHTML = `商品：LYF 香瓜子葵花子<br>规格：${specVal}包<br>价格：${finalPrice}`;\n}\n\nfunction closeCart(){\n  document.getElementById('modal-overlay').style.display='none';\n  document.getElementById('modal-cart').classList.remove('active');\n}\n\nfunction confirmPay(){\n  const specVal = document.querySelector('input[name=\"spec\"]:checked').value;\n  const finalPrice = document.getElementById('current-price').textContent;\n  const order = {\n    product:\"LYF 香瓜子葵花子\",\n    spec: specVal+\"包\",\n    price: finalPrice,\n    couponDiscount\n  };\n  alert(`订单信息：${JSON.stringify(order)}`);\n  closeCart();\n}\n</script>\n\n</body>\n</html>"
    }
  ]
}