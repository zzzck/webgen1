这是一个基于原生 HTML、CSS 和 JavaScript 的电商销售小部件。

**设计思路：**
1.  **视觉风格**：深度复刻京东（JD）移动端风格。主色调采用“京东红” (`#f23030`)，强调价格显示，圆角按钮设计，以及紧凑的信息布局。
2.  **功能模块**：
    *   **头部**：商品图展示 + 秒杀倒计时条。
    *   **信息区**：价格、促销标签、优惠券领取。
    *   **规格选择**：动态切换口味和重量，模拟 SKU 选择。
    *   **底部栏**：购物车图标（带角标）和“加入购物车/立即购买”按钮。
    *   **购物车弹窗**：支持增删商品，数据通过 `localStorage` 持久化。
3.  **交互细节**：点击加入购物车会有 Toast 提示，刷新页面后购物车数据不丢失，倒计时实时跳动。

您可以将以下代码保存为 `.html` 文件并在浏览器中直接打开。

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新疆香瓜子 - 京东风格特卖</title>
    <style>
        /* --- 全局重置与变量 --- */
        :root {
            --jd-red: #f23030;
            --jd-dark-red: #d91f1f;
            --jd-orange: #ff9600;
            --bg-gray: #f7f7f7;
            --text-main: #333;
            --text-sub: #888;
            --border-color: #e5e5e5;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Helvetica Neue", Arial, sans-serif; background-color: var(--bg-gray); color: var(--text-main); display: flex; justify-content: center; min-height: 100vh; }
        
        /* --- 小部件容器 --- */
        .app-container {
            width: 100%;
            max-width: 414px; /* 模拟手机宽度 */
            background: #fff;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding-bottom: 60px; /* 给底部导航留空 */
            display: flex;
            flex-direction: column;
        }

        /* --- 商品图片区 --- */
        .product-header { position: relative; width: 100%; height: 350px; overflow: hidden; background: #fff; }
        .product-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s; }
        .product-img:hover { transform: scale(1.05); }
        
        /* 促销倒计时条 */
        .flash-sale-bar {
            background: linear-gradient(90deg, var(--jd-red), #ff5d5d);
            color: white;
            padding: 8px 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
        }
        .flash-title { font-weight: bold; font-style: italic; font-size: 16px; }
        .countdown-wrap span { background: #fff; color: var(--jd-red); padding: 2px 4px; border-radius: 4px; font-weight: bold; font-size: 12px; margin: 0 2px; }

        /* --- 商品信息区 --- */
        .info-section { padding: 12px; background: #fff; margin-bottom: 10px; }
        
        .price-row { display: flex; align-items: baseline; margin-bottom: 8px; }
        .currency { font-size: 16px; color: var(--jd-red); font-weight: bold; }
        .price-main { font-size: 28px; color: var(--jd-red); font-weight: bold; }
        .price-old { font-size: 12px; color: var(--text-sub); text-decoration: line-through; margin-left: 8px; }
        .tag-hot { background: var(--jd-red); color: white; font-size: 10px; padding: 1px 4px; border-radius: 2px; margin-left: auto; }

        .product-title { font-size: 16px; font-weight: 700; line-height: 1.4; margin-bottom: 8px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .product-title span { background: var(--jd-red); color: white; font-size: 12px; padding: 0 4px; border-radius: 4px; margin-right: 4px; vertical-align: text-bottom; }
        
        .product-desc { font-size: 12px; color: var(--text-sub); line-height: 1.5; margin-bottom: 10px; }
        
        /* 优惠券 */
        .coupon-row { display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap; }
        .coupon { position: relative; background: #ffdedf; color: var(--jd-red); font-size: 10px; padding: 4px 16px 4px 8px; border-radius: 2px; cursor: pointer; border: 1px solid #fbaeb1; }
        .coupon::after { content: ''; position: absolute; right: -1px; top: 50%; transform: translateY(-50%); width: 6px; height: 6px; background: #fff; border-radius: 50%; border-left: 1px solid #fbaeb1; }

        /* --- 规格选择 --- */
        .specs-section { padding: 12px; background: #fff; margin-bottom: 10px; border-top: 10px solid var(--bg-gray); }
        .spec-group { margin-bottom: 15px; }
        .spec-title { font-size: 13px; color: var(--text-sub); margin-bottom: 8px; }
        
        .spec-options { display: flex; flex-wrap: wrap; gap: 10px; }
        .spec-btn {
            padding: 6px 16px;
            background: #f2f2f2;
            border-radius: 15px;
            font-size: 12px;
            color: var(--text-main);
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
        }
        .spec-btn.active { background: #fcedeb; color: var(--jd-red); border-color: var(--jd-red); font-weight: bold; }
        
        .stock-warning { color: var(--jd-orange); font-size: 12px; margin-top: 5px; display: none; }

        /* --- 底部栏 --- */
        .bottom-bar {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 50px;
            background: #fff; border-top: 1px solid var(--border-color);
            display: flex; align-items: center; padding: 0 10px; z-index: 100;
        }
        
        .icon-cart { 
            position: relative; width: 50px; height: 100%; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; font-size: 10px; color: var(--text-sub); cursor: pointer;
        }
        .icon-cart svg { width: 24px; height: 24px; fill: #333; }
        .cart-badge {
            position: absolute; top: 4px; right: 8px;
            background: var(--jd-red); color: white;
            font-size: 10px; padding: 0 4px; border-radius: 8px; border: 1px solid #fff;
            display: none;
        }

        .action-btns { flex: 1; display: flex; margin-left: 10px; }
        .btn { flex: 1; border: none; height: 38px; font-size: 14px; font-weight: bold; color: white; cursor: pointer; }
        .btn-add { background: linear-gradient(90deg, #ffcb00, #ff9402); border-radius: 20px 0 0 20px; }
        .btn-buy { background: linear-gradient(90deg, #ff5d5d, var(--jd-red)); border-radius: 0 20px 20px 0; }

        /* --- 购物车弹窗 --- */
        .modal-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 200; display: none;
        }
        .cart-modal {
            position: absolute; bottom: 0; left: 0; width: 100%; max-height: 70%;
            background: #fff; border-radius: 16px 16px 0 0; display: flex; flex-direction: column;
            transform: translateY(100%); transition: transform 0.3s ease-out;
        }
        .modal-overlay.open .cart-modal { transform: translateY(0); }
        
        .cart-header { padding: 15px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; }
        .cart-title { font-size: 16px; font-weight: bold; }
        .cart-clear { font-size: 12px; color: var(--text-sub); cursor: pointer; }
        
        .cart-items { overflow-y: auto; padding: 15px; flex: 1; }
        .cart-item { display: flex; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .cart-item-img { width: 60px; height: 60px; background: #eee; border-radius: 4px; margin-right: 10px; object-fit: cover; }
        .cart-item-info { flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .cart-item-title { font-size: 14px; font-weight: bold; line-height: 1.2; }
        .cart-item-spec { font-size: 12px; color: #888; background: #f7f7f7; display: inline-block; padding: 2px 5px; border-radius: 4px; margin-top: 4px; width: fit-content; }
        .cart-item-bottom { display: flex; justify-content: space-between; align-items: center; margin-top: 5px; }
        .cart-item-price { color: var(--jd-red); font-weight: bold; }
        
        .qty-control { display: flex; align-items: center; border: 1px solid #eee; border-radius: 4px; }
        .qty-btn { width: 24px; height: 24px; background: #fff; border: none; font-size: 16px; color: #333; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .qty-num { width: 30px; text-align: center; font-size: 12px; border-left: 1px solid #eee; border-right: 1px solid #eee; height: 24px; line-height: 24px; }

        .close-modal { width: 100%; padding: 15px; background: var(--jd-red); color: white; border: none; font-size: 16px; font-weight: bold; cursor: pointer; }

        /* Toast 提示 */
        .toast {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.7); color: white; padding: 10px 20px; border-radius: 8px;
            font-size: 14px; display: none; z-index: 300; animation: fadeOut 2s forwards;
        }
        @keyframes fadeOut { 0% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; display: none; } }

    </style>
</head>
<body>

<div class="app-container">
    <!-- 商品图片 -->
    <div class="product-header">
        <img src="https://img10.360buyimg.com/n1/s450x450_jfs/t1/196346/33/30569/148337/63db5572F034768e8/6047b52b9c61df2c.jpg" alt="新疆香瓜子" class="product-img" onerror="this.src='https://via.placeholder.com/450x450?text=新疆香瓜子'">
    </div>
    
    <!-- 促销倒计时 -->
    <div class="flash-sale-bar">
        <span class="flash-title">京东秒杀</span>
        <div class="countdown-wrap" id="countdown">
            距结束 <span id="h">02</span> : <span id="m">15</span> : <span id="s">45</span>
        </div>
    </div>

    <!-- 主要信息 -->
    <div class="info-section">
        <div class="price-row">
            <span class="currency">¥</span>
            <span class="price-main" id="display-price">19.90</span>
            <span class="price-old">¥29.90</span>
            <span class="tag-hot">热销 TOP1</span>
        </div>
        <div class="product-title">
            <span>自营</span>新疆特产大颗粒香瓜子 当季新货 手工精选 饱满酥脆
        </div>
        <div class="product-desc">
            源自新疆核心产区，日照充足，皮薄仁大。真空锁鲜包装，追剧必备零食。
        </div>
        
        <div class="coupon-row">
            <div class="coupon" onclick="claimCoupon(this)">满99减10</div>
            <div class="coupon" onclick="claimCoupon(this)">新客9.5折</div>
        </div>
    </div>

    <!-- 规格选择 -->
    <div class="specs-section">
        <div class="spec-group">
            <div class="spec-title">口味</div>
            <div class="spec-options" id="flavor-options">
                <button class="spec-btn active" data-val="原味">经典原味</button>
                <button class="spec-btn" data-val="五香">秘制五香</button>
                <button class="spec-btn" data-val="焦糖">网红焦糖</button>
            </div>
        </div>
        <div class="spec-group">
            <div class="spec-title">净含量</div>
            <div class="spec-options" id="weight-options">
                <button class="spec-btn active" data-val="500g" data-price="19.90">500g/袋</button>
                <button class="spec-btn" data-val="1kg" data-price="36.90">1kg/量贩装</button>
            </div>
            <div class="stock-warning" id="stock-warning">仅剩 5 件，手慢无！</div>
        </div>
    </div>

    <!-- 底部操作栏 -->
    <div class="bottom-bar">
        <div class="icon-cart" onclick="toggleCart()">
            <svg viewBox="0 0 1024 1024"><path d="M362.43 801.68a59.06 59.06 0 1 0 59.06 59.06 59.06 59.06 0 0 0-59.06-59.06z m407.75 0a59.06 59.06 0 1 0 59.06 59.06 59.06 59.06 0 0 0-59.06-59.06zM944.26 226.84H235.38l-11.24-65.29a23.62 23.62 0 0 0-23.24-19.67H86.63a23.62 23.62 0 0 0 0 47.25h96l58.7 340.92a104.74 104.74 0 0 0 26.29 55.52L205.18 668a47.25 47.25 0 0 0 40.44 70.88h595.51a23.62 23.62 0 0 0 0-47.25H245.62a1.11 1.11 0 0 1-0.35 0l46.56-61.82h448.28a70.87 70.87 0 0 0 64.14-43.32l98.61-277.4a70.87 70.87 0 0 0-66.35-94.48z"></path></svg>
            <span>购物车</span>
            <div class="cart-badge" id="cart-badge">0</div>
        </div>
        <div class="action-btns">
            <button class="btn btn-add" onclick="addToCart()">加入购物车</button>
            <button class="btn btn-buy" onclick="alert('跳转至结算页...')">立即购买</button>
        </div>
    </div>

    <!-- 购物车弹窗 -->
    <div class="modal-overlay" id="cart-modal-overlay">
        <div class="cart-modal">
            <div class="cart-header">
                <span class="cart-title">已选商品</span>
                <span class="cart-clear" onclick="clearCart()">清空购物车</span>
            </div>
            <div class="cart-items" id="cart-list">
                <!-- 动态插入 JS -->
            </div>
            <button class="close-modal" onclick="toggleCart()">关闭</button>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">已加入购物车</div>
</div>

<script>
    /* --- 状态管理 --- */
    const state = {
        currentPrice: 19.90,
        flavor: '原味',
        weight: '500g',
        cart: JSON.parse(localStorage.getItem('jd_melon_cart')) || []
    };

    /* --- DOM 元素 --- */
    const els = {
        price: document.getElementById('display-price'),
        flavors: document.getElementById('flavor-options').children,
        weights: document.getElementById('weight-options').children,
        stockWarn: document.getElementById('stock-warning'),
        badge: document.getElementById('cart-badge'),
        modal: document.getElementById('cart-modal-overlay'),
        cartList: document.getElementById('cart-list'),
        toast: document.getElementById('toast')
    };

    /* --- 初始化 --- */
    function init() {
        updateCartBadge();
        startTimer();
        bindEvents();
    }

    /* --- 事件绑定 --- */
    function bindEvents() {
        // 口味选择
        Array.from(els.flavors).forEach(btn => {
            btn.addEventListener('click', () => {
                Array.from(els.flavors).forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.flavor = btn.dataset.val;
            });
        });

        // 重量选择 (影响价格)
        Array.from(els.weights).forEach(btn => {
            btn.addEventListener('click', () => {
                Array.from(els.weights).forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                state.weight = btn.dataset.val;
                state.currentPrice = parseFloat(btn.dataset.price);
                els.price.innerText = state.currentPrice.toFixed(2);
                
                // 模拟库存逻辑
                if (state.weight === '1kg') {
                    els.stockWarn.style.display = 'block';
                } else {
                    els.stockWarn.style.display = 'none';
                }
            });
        });
        
        // 点击遮罩关闭购物车
        els.modal.addEventListener('click', (e) => {
            if(e.target === els.modal) toggleCart();
        });
    }

    /* --- 核心逻辑 --- */

    // 加入购物车
    function addToCart() {
        const itemId = `${state.flavor}-${state.weight}`;
        const existingItem = state.cart.find(item => item.id === itemId);

        if (existingItem) {
            existingItem.qty += 1;
        } else {
            state.cart.push({
                id: itemId,
                title: '新疆特产大颗粒香瓜子',
                flavor: state.flavor,
                weight: state.weight,
                price: state.currentPrice,
                qty: 1
            });
        }
        
        saveCart();
        showToast('商品已加入购物车');
        updateCartBadge();
    }

    // 更新购物车 UI
    function renderCart() {
        els.cartList.innerHTML = '';
        if (state.cart.length === 0) {
            els.cartList.innerHTML = '<div style="text-align:center;color:#999;padding:20px;">购物车是空的</div>';
            return;
        }

        state.cart.forEach(item => {
            const itemHtml = `
                <div class="cart-item">
                    <img src="https://img10.360buyimg.com/n1/s450x450_jfs/t1/196346/33/30569/148337/63db5572F034768e8/6047b52b9c61df2c.jpg" class="cart-item-img" onerror="this.src='https://via.placeholder.com/60'">
                    <div class="cart-item-info">
                        <div>
                            <div class="cart-item-title">${item.title}</div>
                            <span class="cart-item-spec">${item.flavor}, ${item.weight}</span>
                        </div>
                        <div class="cart-item-bottom">
                            <span class="cart-item-price">¥${item.price}</span>
                            <div class="qty-control">
                                <button class="qty-btn" onclick="changeQty('${item.id}', -1)">-</button>
                                <span class="qty-num">${item.qty}</span>
                                <button class="qty-btn" onclick="changeQty('${item.id}', 1)">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            els.cartList.innerHTML += itemHtml;
        });
    }

    // 修改数量
    window.changeQty = function(id, delta) {
        const itemIndex = state.cart.findIndex(i => i.id === id);
        if (itemIndex > -1) {
            state.cart[itemIndex].qty += delta;
            if (state.cart[itemIndex].qty <= 0) {
                state.cart.splice(itemIndex, 1);
            }
            saveCart();
            renderCart();
            updateCartBadge();
        }
    }

    // 清空购物车
    window.clearCart = function() {
        if(confirm('确定清空购物车吗？')) {
            state.cart = [];
            saveCart();
            renderCart();
            updateCartBadge();
        }
    }

    // 领取优惠券
    window.claimCoupon = function(el) {
        if (!el.classList.contains('claimed')) {
            el.innerText = '已领取';
            el.style.background = '#ccc';
            el.style.borderColor = '#ccc';
            el.style.color = '#fff';
            el.classList.add('claimed');
            showToast('优惠券领取成功');
        }
    }

    // 工具函数
    function saveCart() {
        localStorage.setItem('jd_melon_cart', JSON.stringify(state.cart));
    }

    function updateCartBadge() {
        const totalQty = state.cart.reduce((acc, item) => acc + item.qty, 0);
        els.badge.innerText = totalQty;
        els.badge.style.display = totalQty > 0 ? 'block' : 'none';
    }

    window.toggleCart = function() {
        const isOpen = els.modal.style.display === 'block';
        if (isOpen) {
            els.modal.classList.remove('open');
            setTimeout(() => els.modal.style.display = 'none', 300);
        } else {
            renderCart();
            els.modal.style.display = 'block';
            // 触发重绘以启动动画
            setTimeout(() => els.modal.classList.add('open'), 10);
        }
    }

    function showToast(msg) {
        els.toast.innerText = msg;
        els.toast.style.display = 'block';
        // 简单的重新触发动画 Hack
        els.toast.style.animation = 'none';
        els.toast.offsetHeight; /* trigger reflow */
        els.toast.style.animation = 'fadeOut 2s forwards';
    }

    function startTimer() {
        let time = 7200 + 945; // 2小时15分45秒
        setInterval(() => {
            time--;
            if(time < 0) time = 7200;
            
            const h = Math.floor(time / 3600);
            const m = Math.floor((time % 3600) / 60);
            const s = time % 60;
            
            document.getElementById('h').innerText = h.toString().padStart(2, '0');
            document.getElementById('m').innerText = m.toString().padStart(2, '0');
            document.getElementById('s').innerText = s.toString().padStart(2, '0');
        }, 1000);
    }

    // 启动
    init();

</script>
</body>
</html>
```

### 功能与实现说明：

1.  **响应式布局 (CSS)**：
    *   使用 `.app-container` 限制最大宽度，模拟手机 App 界面。
    *   使用 Flexbox 实现底部导航栏的固定和内部元素的对齐。
    *   复刻了 JD 的胶囊按钮样式、价格字体大小对比以及标签风格。

2.  **商品逻辑 (JavaScript)**：
    *   **规格联动**：点击“口味”仅改变状态，点击“净含量”会同时改变显示价格（500g 为 19.90元，1kg 为 36.90元）。
    *   **库存模拟**：当选择“1kg/量贩装”时，会触发显示“仅剩 5 件”的橙色库存警告。

3.  **购物车系统 (LocalStorage)**：
    *   **数据结构**：购物车数组存储在 `state.cart` 中，包含 ID（由口味+重量生成的唯一键）、数量、单价等。
    *   **持久化**：每次 `addToCart` 或 `changeQty` 时，都会调用 `localStorage.setItem`。页面刷新（`init`）时会读取数据，确保购物车红点和内容不丢失。
    *   **管理**：点击左下角购物车图标弹出“抽屉式”模态框，可在其中增加、减少数量或清空购物车。

4.  **促销元素**：
    *   **秒杀倒计时**：JavaScript 定时器每秒更新小时、分钟、秒。
    *   **优惠券**：点击后按钮变灰并提示“已领取”，增加了互动性。
    *   **Toast 反馈**：自定义了一个简单的淡出提示框，在用户操作时给予即时反馈。

这个小部件完全自包含，不依赖任何第三方库，直接复制即可运行，完美符合您的需求。