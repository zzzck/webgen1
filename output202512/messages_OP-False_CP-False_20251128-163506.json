{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**电商产品详情页。\n\n# Product Context\n我们需要为一款春节热销零食电商销售网页。\n\n品牌为 LYF 的新疆葵花籽（30g 小包装），售价为 10 包 16.9 元，网页销售场景。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品预览图\n     1 张大图链接“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    缩略图1“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    缩略图2“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n\n2. 优惠券与价格计算 (State Management)界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n\n4. 评论区筛选器 (DOM Manipulation)\n展示评论列表。\n\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求",
              "划分交付物",
              "明确产品详情页需要包含：搜索栏、导航栏、产品介绍（含大图与两个缩略图）、价格信息（现价、对比价、优惠信息）、购买入口和流程说明、促销信息（标签、库存或限时促销激励）",
              "额外功能拆解：春节限时抢购倒计时逻辑；两张优惠券界面的价格计算逻辑；评论区筛选器；半透明遮罩层购物车模态交互及订单确认输出"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据规格实现单 HTML 文件，集成 HTML/CSS/JS 内容",
              "实现合理的页面布局结构：搜索栏、导航栏、产品展示区、详情介绍区、评论区、底部购买按钮",
              "加载并显示指定的大图和两张缩略图",
              "实现价格展示区（现价、对比价、优惠信息）",
              "加入春节限时抢购倒计时功能（JS 逻辑）",
              "实现优惠券组件和价格计算功能",
              "实现评论区筛选 DOM 操作",
              "实现底部“立即购买”按钮点击弹出模态购物车面板，显示已选商品信息和最终价格",
              "在模态面板中实现确认支付按钮点击后 alert 输出订单对象"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 新疆葵花籽 产品详情页</title>\n<style>\nbody {\n    margin: 0;\n    font-family: Arial, sans-serif;\n    background-color: #fff8f0;\n    color: #333;\n}\nheader {\n    background-color: #d93025;\n    color: white;\n    padding: 10px 20px;\n}\nheader h1 {\n    margin: 0;\n    font-size: 1.5rem;\n}\n.navbar {\n    background-color: #fff4e5;\n    display: flex;\n    justify-content: space-around;\n    padding: 10px;\n    border-bottom: 1px solid #eee;\n}\n.navbar a {\n    color: #d93025;\n    text-decoration: none;\n}\n.search-bar {\n    padding: 10px;\n    text-align: center;\n}\n.search-bar input {\n    width: 70%;\n    padding: 6px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n}\nmain {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px;\n}\n.product-images {\n    flex: 1 1 40%;\n    max-width: 400px;\n    margin-right: 20px;\n}\n.product-images img {\n    width: 100%;\n    display: block;\n    margin-bottom: 10px;\n}\n.thumbnail-container {\n    display: flex;\n    gap: 10px;\n}\n.thumbnail-container img {\n    width: 60px;\n    height: 60px;\n    object-fit: cover;\n    cursor: pointer;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n}\n.product-info {\n    flex: 1 1 50%;\n}\n.product-info h2 {\n    margin-top: 0;\n}\n.price-section {\n    margin: 10px 0;\n    font-size: 1.2rem;\n}\n.price-current {\n    color: #d93025;\n    font-weight: bold;\n    font-size: 1.5rem;\n}\n.price-original {\n    text-decoration: line-through;\n    margin-left: 10px;\n    color: #777;\n}\n.countdown {\n    color: #d93025;\n    margin-top: 5px;\n}\n.coupons {\n    margin-top: 15px;\n}\n.coupon {\n    display: inline-block;\n    background-color: #ffe0b2;\n    padding: 5px 10px;\n    margin-right: 10px;\n    border-radius: 4px;\n    cursor: pointer;\n}\n.details {\n    margin-top: 20px;\n}\n.details h3 {\n    border-bottom: 1px solid #ddd;\n    padding-bottom: 5px;\n}\n.comments {\n    margin-top: 20px;\n}\n.comments h3 {\n    border-bottom: 1px solid #ddd;\n    padding-bottom: 5px;\n}\n.comment-filter {\n    margin-bottom: 10px;\n}\n.comment-list {\n    list-style: none;\n    padding: 0;\n}\n.comment-list li {\n    border-bottom: 1px solid #eee;\n    padding: 8px 0;\n}\nfooter {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: #d93025;\n    color: white;\n    padding: 10px;\n    text-align: center;\n}\nfooter button {\n    background-color: #fff4e5;\n    border: none;\n    padding: 10px 20px;\n    font-size: 1rem;\n    cursor: pointer;\n    border-radius: 4px;\n    color: #d93025;\n    font-weight: bold;\n}\n.modal-overlay {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n    background-color: rgba(0,0,0,0.5);\n    display: none;\n}\n.modal {\n    position: fixed;\n    bottom: -300px;\n    left: 0;\n    right: 0;\n    background-color: white;\n    padding: 20px;\n    border-radius: 10px 10px 0 0;\n    transition: bottom 0.3s ease-out;\n}\n.modal.show {\n    bottom: 0;\n}\n.modal h3 {\n    margin-top: 0;\n}\n.modal button {\n    background-color: #d93025;\n    color: white;\n    border: none;\n    padding: 10px 20px;\n    font-size: 1rem;\n    cursor: pointer;\n    border-radius: 4px;\n}\n</style>\n</head>\n<body>\n<header>\n    <h1>LYF 新疆葵花籽春节热销</h1>\n</header>\n<nav class=\"navbar\">\n    <a href=\"#\">首页</a>\n    <a href=\"#\">零食专区</a>\n    <a href=\"#\">促销</a>\n    <a href=\"#\">我的订单</a>\n</nav>\n<div class=\"search-bar\">\n    <input type=\"text\" placeholder=\"搜索商品\">\n</div>\n<main>\n    <div class=\"product-images\">\n        <img id=\"main-image\" src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"新疆葵花籽\">\n        <div class=\"thumbnail-container\">\n            <img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\" alt=\"缩略图1\" onclick=\"changeImage(this)\">\n            <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"缩略图2\" onclick=\"changeImage(this)\">\n        </div>\n    </div>\n    <div class=\"product-info\">\n        <h2>LYF 新疆葵花籽 30g (10包)</h2>\n        <p>粒粒饱满，香味浓郁，精选新疆优质原料，健康休闲之选。</p>\n        <div class=\"price-section\">\n            <span class=\"price-current\">¥16.9</span>\n            <span class=\"price-original\">¥22.9</span>\n            <div class=\"countdown\">春节限时抢购倒计时：<span id=\"countdown\"></span></div>\n        </div>\n        <div class=\"coupons\">\n            <div class=\"coupon\" onclick=\"applyCoupon(2,10)\">A券：满10减2</div>\n            <div class=\"coupon\" onclick=\"applyCoupon(5,20)\">B券：满20减5</div>\n        </div>\n        <div class=\"details\">\n            <h3>产品详情</h3>\n            <p>规格：30g 小包装，10包组合</p>\n            <p>产地：新疆</p>\n            <p>保质期：12个月</p>\n        </div>\n        <div class=\"comments\">\n            <h3>用户评价</h3>\n            <div class=\"comment-filter\">\n                <select onchange=\"filterComments(this.value)\">\n                    <option value=\"all\">全部</option>\n                    <option value=\"good\">好评</option>\n                    <option value=\"bad\">差评</option>\n                </select>\n            </div>\n            <ul class=\"comment-list\" id=\"comment-list\">\n                <li data-type=\"good\">很好吃，包装精美。</li>\n                <li data-type=\"bad\">有点咸。</li>\n                <li data-type=\"good\">葵花籽很新鲜，物流很快。</li>\n            </ul>\n        </div>\n    </div>\n</main>\n<footer>\n    <button onclick=\"openModal()\">立即购买</button>\n</footer>\n<div class=\"modal-overlay\" id=\"modal-overlay\" onclick=\"closeModal()\">\n    <div class=\"modal\" id=\"modal\" onclick=\"event.stopPropagation()\">\n        <h3>确认订单</h3>\n        <p>商品：LYF 新疆葵花籽 (10包)</p>\n        <p>数量：1</p>\n        <p>最终价格：<span id=\"final-price\">¥16.9</span></p>\n        <button onclick=\"confirmOrder()\">确认支付</button>\n    </div>\n</div>\n<script>\nlet countdownTarget = new Date();\ncountdownTarget.setHours(countdownTarget.getHours() + 1);\nfunction updateCountdown() {\n    let now = new Date();\n    let diff = countdownTarget - now;\n    if (diff <= 0) {\n        document.getElementById('countdown').textContent = '活动已结束';\n        return;\n    }\n    let h = Math.floor(diff / (1000 * 60 * 60));\n    let m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n    let s = Math.floor((diff % (1000 * 60)) / 1000);\n    document.getElementById('countdown').textContent = `${h}时${m}分${s}秒`;\n}\nsetInterval(updateCountdown, 1000);\n\nlet basePrice = 16.9;\nlet discount = 0;\nfunction applyCoupon(amount, minSpend) {\n    if (basePrice >= minSpend) {\n        discount = amount;\n        updateFinalPrice();\n        alert(`已使用优惠券：满${minSpend}减${amount}元`);\n    } else {\n        alert('未满足优惠券使用条件');\n    }\n}\nfunction updateFinalPrice() {\n    document.getElementById('final-price').textContent = `¥${(basePrice - discount).toFixed(2)}`;\n}\n\nfunction changeImage(imgElement) {\n    document.getElementById('main-image').src = imgElement.src;\n}\n\nfunction filterComments(type) {\n    const comments = document.querySelectorAll('#comment-list li');\n    comments.forEach(c => {\n        if (type === 'all') {\n            c.style.display = '';\n        } else {\n            c.style.display = c.dataset.type === type ? '' : 'none';\n        }\n    });\n}\n\nfunction openModal() {\n    document.getElementById('modal-overlay').style.display = 'block';\n    document.getElementById('modal').classList.add('show');\n}\n\nfunction closeModal() {\n    document.getElementById('modal-overlay').style.display = 'none';\n    document.getElementById('modal').classList.remove('show');\n}\n\nfunction confirmOrder() {\n    const order = {\n        product: 'LYF 新疆葵花籽 (10包)',\n        quantity: 1,\n        finalPrice: (basePrice - discount).toFixed(2)\n    };\n    alert(`订单信息：${JSON.stringify(order)}`);\n    closeModal();\n}\n</script>\n</body>\n</html>"
    }
  ]
}