{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品展示图，可翻动：\n    图1“https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n    图2“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    图3“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    卖点文案：突出“颗粒饱满”、“独立包装不脏手”、“买多少送多少”、“五香味”\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n2. 优惠券与价格计算 界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n是否可实现点击优惠券，自动减少相应价格\n\n3.添加购买规格：包含10包、20包、30包，价格可以买的越多越优惠。\n4. 评论区筛选器：展示评论列表。\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n6.随机优化功能\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "Engineer",
          "PM"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求，明确网页需为单文件（包含HTML、CSS、JavaScript）",
              "识别4P营销要素并确保在页面结构中体现：产品、价格、渠道、促销",
              "列出功能模块：搜索栏、导航栏、产品图片轮播、卖点文案、规格选择、价格展示与对比、限时抢购倒计时、优惠券点击触发价格计算、评论区筛选器、模态购物车交互",
              "明确主色调为春节红（#E4393C 或类似），整体风格参考京东/天猫移动端",
              "将所有可交付内容分配给Engineer实现"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "编写单HTML文件，内含嵌入式CSS和JavaScript",
              "实现搜索栏与导航栏布局",
              "实现产品图片轮播显示指定3张图片",
              "呈现卖点文案（颗粒饱满、独立包装不脏手、买多少送多少、五香味）",
              "实现现价与对比价格展示，以及促销标签和库存/限时购买激励",
              "实现春节限时抢购倒计时逻辑",
              "实现优惠券组件（满10减2、满20减5），点击可自动更新价格",
              "实现购买规格选择功能（10包、20包、30包），价格随规格调整",
              "实现评论区列表及筛选功能",
              "实现底部“立即购买”按钮触发的Slide-up Modal购物车界面，显示已选商品信息及最终价格",
              "实现模态购物车“确认支付”按钮点击后alert订单信息对象",
              "加入随机优化功能（如动画优化、加载速度调整等）"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "无任务（当前仅需TeamLeader拆解需求并由Engineer直接实现，无需项目进度协调）"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节零食大促</title>\n<style>\nbody {\n    margin: 0;\n    font-family: Arial, sans-serif;\n    background-color: #fff;\n    color: #333;\n}\nheader {\n    background-color: #E4393C;\n    color: #fff;\n    padding: 10px;\n    text-align: center;\n}\nheader input {\n    width: 80%;\n    padding: 5px;\n    border-radius: 4px;\n    border: none;\n}\nnav {\n    display: flex;\n    justify-content: space-around;\n    background-color: #f9f9f9;\n    padding: 10px 0;\n    border-bottom: 1px solid #ddd;\n}\nnav a {\n    color: #333;\n    text-decoration: none;\n    font-size: 14px;\n}\n.carousel {\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    height: 250px;\n}\n.carousel img {\n    width: 100%;\n    height: 250px;\n    object-fit: cover;\n    display: none;\n}\n.carousel img.active {\n    display: block;\n}\n.product-info {\n    padding: 15px;\n}\n.product-info h2 {\n    margin: 0;\n    color: #E4393C;\n}\n.price {\n    font-size: 20px;\n    color: #E4393C;\n}\n.old-price {\n    text-decoration: line-through;\n    color: #888;\n    margin-left: 10px;\n}\n.countdown {\n    font-size: 14px;\n    color: #E4393C;\n    margin-top: 5px;\n}\n.coupons {\n    display: flex;\n    justify-content: space-around;\n    padding: 10px;\n}\n.coupon {\n    background-color: #ffeaea;\n    border: 1px solid #E4393C;\n    border-radius: 6px;\n    padding: 5px 10px;\n    cursor: pointer;\n    font-size: 14px;\n}\n.specs {\n    display: flex;\n    justify-content: space-around;\n    margin-top: 10px;\n}\n.spec {\n    padding: 5px 10px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    cursor: pointer;\n}\n.spec.active {\n    border-color: #E4393C;\n    background-color: #ffeaea;\n}\n.selling-points {\n    margin-top: 10px;\n    padding: 10px;\n    background-color: #fff8f8;\n    border: 1px solid #E4393C;\n    border-radius: 8px;\n}\n.selling-points ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n}\n.selling-points li {\n    margin: 5px 0;\n}\n.comments {\n    margin-top: 20px;\n    padding: 10px;\n}\n.comment-filter {\n    margin-bottom: 10px;\n}\n.comment {\n    border-bottom: 1px solid #ddd;\n    padding: 5px 0;\n}\nfooter {\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    display: flex;\n    background-color: #fff;\n    border-top: 1px solid #ddd;\n}\nfooter button {\n    flex: 1;\n    padding: 15px;\n    background-color: #E4393C;\n    border: none;\n    color: #fff;\n    font-size: 16px;\n    cursor: pointer;\n}\n.modal-overlay {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n    background: rgba(0, 0, 0, 0.5);\n    display: none;\n    justify-content: flex-end;\n}\n.modal {\n    background: #fff;\n    width: 100%;\n    max-height: 50%;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n    padding: 20px;\n}\n.modal h3 {\n    margin-top: 0;\n}\n.modal button {\n    background-color: #E4393C;\n    color: #fff;\n    padding: 10px;\n    border: none;\n    width: 100%;\n    font-size: 16px;\n}\n</style>\n</head>\n<body>\n<header>\n    <input type=\"text\" placeholder=\"搜索零食/商品\">\n</header>\n<nav>\n    <a href=\"#\">首页</a>\n    <a href=\"#\">分类</a>\n    <a href=\"#\">购物车</a>\n    <a href=\"#\">我的</a>\n</nav>\n<div class=\"carousel\" id=\"carousel\">\n    <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" class=\"active\">\n    <img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\">\n    <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\">\n</div>\n<div class=\"product-info\">\n    <h2>LYF 香瓜子葵花子 30g x 10包</h2>\n    <div>\n        <span class=\"price\">¥<span id=\"currentPrice\">16.9</span></span>\n        <span class=\"old-price\">¥29.9</span>\n    </div>\n    <div class=\"countdown\" id=\"countdownTimer\">春节限时抢购倒计时: </div>\n    <div class=\"coupons\">\n        <div class=\"coupon\" data-discount=\"2\" data-min=\"10\">满10减2元</div>\n        <div class=\"coupon\" data-discount=\"5\" data-min=\"20\">满20减5元</div>\n    </div>\n    <div class=\"specs\">\n        <div class=\"spec active\" data-count=\"10\" data-price=\"16.9\">10包</div>\n        <div class=\"spec\" data-count=\"20\" data-price=\"29.0\">20包</div>\n        <div class=\"spec\" data-count=\"30\" data-price=\"40.0\">30包</div>\n    </div>\n    <div class=\"selling-points\">\n        <ul>\n            <li>颗粒饱满</li>\n            <li>独立包装不脏手</li>\n            <li>买多少送多少</li>\n            <li>五香味</li>\n        </ul>\n    </div>\n</div>\n<div class=\"comments\">\n    <div class=\"comment-filter\">\n        <select id=\"commentFilter\">\n            <option value=\"all\">全部评论</option>\n            <option value=\"good\">好评</option>\n            <option value=\"neutral\">中评</option>\n            <option value=\"bad\">差评</option>\n        </select>\n    </div>\n    <div id=\"commentList\">\n        <div class=\"comment\" data-type=\"good\">味道很好，买来过年送亲友。</div>\n        <div class=\"comment\" data-type=\"neutral\">包装不错，但稍微有点咸。</div>\n        <div class=\"comment\" data-type=\"bad\">物流慢了些，味道一般。</div>\n    </div>\n</div>\n<footer>\n    <button id=\"buyBtn\">立即购买</button>\n</footer>\n<div class=\"modal-overlay\" id=\"modalOverlay\">\n    <div class=\"modal\">\n        <h3>确认订单</h3>\n        <p id=\"orderInfo\"></p>\n        <button id=\"confirmPay\">确认支付</button>\n    </div>\n</div>\n<script>\nlet images = document.querySelectorAll('#carousel img');\nlet index = 0;\nsetInterval(() => {\n    images[index].classList.remove('active');\n    index = (index + 1) % images.length;\n    images[index].classList.add('active');\n}, 3000);\n\nlet countdownTarget = new Date();\ncountdownTarget.setHours(countdownTarget.getHours() + 1);\nfunction updateCountdown() {\n    let now = new Date();\n    let diff = countdownTarget - now;\n    if (diff <= 0) {\n        document.getElementById('countdownTimer').innerText = '活动结束';\n        return;\n    }\n    let h = Math.floor(diff / 1000 / 3600);\n    let m = Math.floor((diff / 1000 % 3600) / 60);\n    let s = Math.floor(diff / 1000 % 60);\n    document.getElementById('countdownTimer').innerText = `春节限时抢购倒计时: ${h}时${m}分${s}秒`;\n}\nsetInterval(updateCountdown, 1000);\nupdateCountdown();\n\nlet currentPrice = 16.9;\nlet selectedSpec = document.querySelector('.spec.active');\ndocument.querySelectorAll('.spec').forEach(spec => {\n    spec.addEventListener('click', () => {\n        document.querySelectorAll('.spec').forEach(s => s.classList.remove('active'));\n        spec.classList.add('active');\n        selectedSpec = spec;\n        currentPrice = parseFloat(spec.dataset.price);\n        document.getElementById('currentPrice').innerText = currentPrice.toFixed(2);\n    });\n});\n\ndocument.querySelectorAll('.coupon').forEach(coupon => {\n    coupon.addEventListener('click', () => {\n        let min = parseFloat(coupon.dataset.min);\n        let discount = parseFloat(coupon.dataset.discount);\n        let count = parseInt(selectedSpec.dataset.count);\n        if (currentPrice >= min) {\n            currentPrice -= discount;\n            document.getElementById('currentPrice').innerText = currentPrice.toFixed(2);\n        } else {\n            alert('未满足优惠券使用条件');\n        }\n    });\n});\n\ndocument.getElementById('commentFilter').addEventListener('change', function() {\n    let value = this.value;\n    document.querySelectorAll('#commentList .comment').forEach(comment => {\n        if (value === 'all' || comment.dataset.type === value) {\n            comment.style.display = 'block';\n        } else {\n            comment.style.display = 'none';\n        }\n    });\n});\n\ndocument.getElementById('buyBtn').addEventListener('click', () => {\n    let count = parseInt(selectedSpec.dataset.count);\n    let price = parseFloat(document.getElementById('currentPrice').innerText);\n    document.getElementById('orderInfo').innerText = `LYF 香瓜子葵花子 ${count}包，价格: ¥${price.toFixed(2)}`;\n    document.getElementById('modalOverlay').style.display = 'flex';\n});\ndocument.getElementById('modalOverlay').addEventListener('click', e => {\n    if (e.target === e.currentTarget) {\n        e.currentTarget.style.display = 'none';\n    }\n});\ndocument.getElementById('confirmPay').addEventListener('click', () => {\n    let order = {\n        product: 'LYF 香瓜子葵花子',\n        spec: selectedSpec.dataset.count + '包',\n        price: parseFloat(document.getElementById('currentPrice').innerText)\n    };\n    alert(JSON.stringify(order));\n    document.getElementById('modalOverlay').style.display = 'none';\n});\n</script>\n</body>\n</html>"
    }
  ]
}