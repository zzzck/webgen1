{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品展示图，在价格、购买信息的左侧，可手动翻动：\n    图1“https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n    图2“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    图3“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    卖点文案：突出“颗粒饱满”、“独立包装不脏手”、“买多少送多少”、“五香味”\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n2. 优惠券与价格计算 界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n是否可实现点击优惠券，自动减少相应价格\n\n3.添加购买规格：包含10包、20包、30包，价格可以买的越多越优惠。\n4. 评论区功能设计：展示评论内容、具有筛选功能、具有评论功能（这个功能可以自由发挥）。\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n6.随机优化添加几个功能\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求，包括春节零食电商网页的4P营销要素和额外功能要求",
              "明确交付物为单文件HTML包含CSS和JS",
              "拆解功能模块：布局结构、图片轮播、卖点文案区、价格与倒计时、优惠券系统、购买规格选择、评论区、购物车模态框、附加优化功能",
              "分配实现任务给Engineer"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "实现HTML页面结构：搜索栏目、导航栏、产品介绍区、价格和促销信息区、购买入口和流程说明",
              "插入产品图片并实现手动轮播切换",
              "编写卖点文案区：包含“颗粒饱满”、“独立包装不脏手”、“买多少送多少”、“五香味”",
              "实现价格显示：现价¥16.9、原价¥29.9、促销标签",
              "实现春节限时抢购倒计时功能",
              "编写优惠券功能：A券满10减2元、B券满20减5元，点击后自动更新价格",
              "实现购买规格选择（10包、20包、30包）并动态计算价格",
              "创建评论区：展示评论、筛选功能、发表评论功能",
              "实现‘立即购买’按钮触发模态框购物车，显示已选商品信息及计算后的价格",
              "在模态框内实现确认支付按钮，点击后alert订单信息对象",
              "添加若干优化功能提升用户体验"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<!DOCTYPE html>\n<html lang=\"zh\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节香瓜子葵花子年货大促</title>\n<style>\n    body{margin:0;font-family:\"Microsoft YaHei\",sans-serif;background:#fff;color:#333;}\n    header{background:#E4393C;padding:10px;color:#fff;display:flex;align-items:center;}\n    header input[type=\"text\"]{flex:1;padding:8px;border:none;border-radius:4px;}\n    header button{background:#fff;color:#E4393C;border:none;padding:8px 12px;margin-left:8px;border-radius:4px;}\n    nav{display:flex;background:#f8f8f8;padding:8px;justify-content:space-around;border-bottom:1px solid #ddd;}\n    nav a{text-decoration:none;color:#333;font-size:14px;}\n    .container{padding:10px;}\n    .product{display:flex;flex-wrap:wrap;}\n    .images{flex:1;min-width:250px;}\n    .images img{width:100%;border-radius:8px;}\n    .thumbs{display:flex;justify-content:center;margin-top:8px;}\n    .thumbs img{width:60px;height:60px;object-fit:cover;margin:0 4px;cursor:pointer;border:2px solid transparent;border-radius:4px;}\n    .thumbs img.active{border-color:#E4393C;}\n    .info{flex:1;min-width:250px;padding-left:10px;}\n    .info h1{font-size:20px;margin:0;}\n    .price{color:#E4393C;font-size:24px;margin:8px 0;}\n    .old-price{text-decoration:line-through;color:#999;margin-left:8px;}\n    .countdown{color:#fff;background:#E4393C;padding:4px 8px;border-radius:4px;display:inline-block;}\n    .selling-points{margin:10px 0;}\n    .selling-points span{display:inline-block;background:#fff4e5;color:#E4393C;border:1px solid #E4393C;padding:4px 8px;margin:4px;border-radius:4px;font-size:12px;}\n    .coupons{margin:10px 0;}\n    .coupon{background:#E4393C;color:#fff;padding:6px 10px;border-radius:4px;margin-right:8px;cursor:pointer;display:inline-block;}\n    .specs{margin:10px 0;}\n    .spec{display:inline-block;padding:6px 12px;border:1px solid #ddd;border-radius:4px;margin-right:8px;cursor:pointer;}\n    .spec.active{border-color:#E4393C;color:#E4393C;}\n    .buy-btn{position:fixed;bottom:0;left:0;right:0;background:#E4393C;color:#fff;padding:15px;text-align:center;font-size:18px;cursor:pointer;}\n    /* Modal */\n    .modal{position:fixed;top:0;left:0;width:100%;height:100%;display:none;background:rgba(0,0,0,0.5);}\n    .modal-content{position:absolute;bottom:0;left:0;width:100%;background:#fff;border-top-left-radius:12px;border-top-right-radius:12px;padding:20px;}\n    .modal-content h2{margin-top:0;}\n    .close{position:absolute;top:10px;right:20px;cursor:pointer;color:#999;}\n    .confirm-btn{background:#E4393C;color:#fff;border:none;padding:10px;width:100%;border-radius:4px;font-size:16px;}\n    /* 评论区 */\n    .comments{margin-top:20px;}\n    .comments h3{margin:0 0 10px;}\n    .filter{margin-bottom:8px;}\n    .filter button{padding:4px 8px;margin-right:5px;}\n    .comment{border-bottom:1px solid #eee;padding:8px 0;}\n    .add-comment{margin-top:10px;}\n    .add-comment textarea{width:100%;height:60px;}\n    .add-comment button{margin-top:5px;padding:8px 12px;background:#E4393C;color:#fff;border:none;border-radius:4px;}\n</style>\n</head>\n<body>\n\n<header>\n    <input type=\"text\" placeholder=\"搜索年货零食...\">\n    <button>搜索</button>\n</header>\n\n<nav>\n    <a href=\"#\">首页</a>\n    <a href=\"#\">分类</a>\n    <a href=\"#\">促销</a>\n    <a href=\"#\">我的</a>\n</nav>\n\n<div class=\"container\">\n    <div class=\"product\">\n        <div class=\"images\">\n            <img id=\"mainImg\" src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"香瓜子葵花子\">\n            <div class=\"thumbs\">\n                <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" class=\"active\">\n                <img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\">\n                <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\">\n            </div>\n        </div>\n        <div class=\"info\">\n            <h1>LYF 香瓜子葵花子 30g*10包组合装</h1>\n            <div>\n                <span class=\"price\" id=\"currentPrice\">¥16.9</span>\n                <span class=\"old-price\">¥29.9</span>\n            </div>\n            <div class=\"countdown\" id=\"countdown\">春节限时抢购倒计时：00:00:00</div>\n            <div class=\"selling-points\">\n                <span>颗粒饱满</span>\n                <span>独立包装不脏手</span>\n                <span>买多少送多少</span>\n                <span>五香味</span>\n            </div>\n            <div class=\"coupons\">\n                <div class=\"coupon\" data-discount=\"2\" data-min=\"10\">满10减2元</div>\n                <div class=\"coupon\" data-discount=\"5\" data-min=\"20\">满20减5元</div>\n            </div>\n            <div class=\"specs\">\n                <div class=\"spec active\" data-qty=\"10\" data-price=\"16.9\">10包</div>\n                <div class=\"spec\" data-qty=\"20\" data-price=\"30\">20包</div>\n                <div class=\"spec\" data-qty=\"30\" data-price=\"42\">30包</div>\n            </div>\n        </div>\n    </div>\n\n    <!-- 评论区 -->\n    <div class=\"comments\">\n        <h3>用户评论</h3>\n        <div class=\"filter\">\n            <button data-filter=\"all\">全部</button>\n            <button data-filter=\"good\">好评</button>\n            <button data-filter=\"bad\">差评</button>\n        </div>\n        <div id=\"commentList\">\n            <div class=\"comment\" data-type=\"good\">好评：瓜子很香，包装方便！</div>\n            <div class=\"comment\" data-type=\"bad\">差评：味道偏淡。</div>\n            <div class=\"comment\" data-type=\"good\">好评：送的袋子很喜庆！</div>\n        </div>\n        <div class=\"add-comment\">\n            <textarea id=\"newComment\" placeholder=\"发表你的评论...\"></textarea>\n            <button id=\"submitComment\">发表评论</button>\n        </div>\n    </div>\n</div>\n\n<div class=\"buy-btn\" id=\"buyBtn\">立即购买</div>\n\n<!-- 模态购物车 -->\n<div class=\"modal\" id=\"cartModal\">\n    <div class=\"modal-content\">\n        <span class=\"close\" id=\"closeModal\">×</span>\n        <h2>确认订单</h2>\n        <p id=\"orderInfo\"></p>\n        <button class=\"confirm-btn\" id=\"confirmPay\">确认支付</button>\n    </div>\n</div>\n\n<script>\n    // 图片切换\n    document.querySelectorAll('.thumbs img').forEach(img=>{\n        img.addEventListener('click',()=>{\n            document.querySelectorAll('.thumbs img').forEach(i=>i.classList.remove('active'));\n            img.classList.add('active');\n            document.getElementById('mainImg').src=img.src;\n        });\n    });\n\n    // 倒计时\n    function startCountdown(duration){\n        let timer=duration;\n        setInterval(()=>{\n            let hours=Math.floor(timer/3600);\n            let minutes=Math.floor((timer%3600)/60);\n            let seconds=timer%60;\n            document.getElementById('countdown').textContent=`春节限时抢购倒计时：${String(hours).padStart(2,'0')}:${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;\n            if(timer>0) timer--; \n        },1000);\n    }\n    startCountdown(3*3600); // 倒计时3小时\n\n    let selectedPrice=16.9;\n    let selectedQty=10;\n    let discount=0;\n\n    // 优惠券\n    document.querySelectorAll('.coupon').forEach(cp=>{\n        cp.addEventListener('click',()=>{\n            let min=Number(cp.dataset.min);\n            let dis=Number(cp.dataset.discount);\n            if(selectedPrice>=min){\n                discount=dis;\n                alert('已使用优惠券：'+cp.textContent);\n                updatePrice();\n            }else{\n                alert('金额未满足使用条件');\n            }\n        });\n    });\n\n    // 规格选择\n    document.querySelectorAll('.spec').forEach(sp=>{\n        sp.addEventListener('click',()=>{\n            document.querySelectorAll('.spec').forEach(s=>s.classList.remove('active'));\n            sp.classList.add('active');\n            selectedQty=Number(sp.dataset.qty);\n            selectedPrice=Number(sp.dataset.price);\n            discount=0;\n            updatePrice();\n        });\n    });\n\n    function updatePrice(){\n        document.getElementById('currentPrice').textContent='¥'+(selectedPrice-discount).toFixed(2);\n    }\n\n    // 评论筛选\n    document.querySelectorAll('.filter button').forEach(btn=>{\n        btn.addEventListener('click',()=>{\n            let filter=btn.dataset.filter;\n            document.querySelectorAll('#commentList .comment').forEach(c=>{\n                if(filter==='all' || c.dataset.type===filter){\n                    c.style.display='block';\n                }else{\n                    c.style.display='none';\n                }\n            });\n        });\n    });\n\n    // 添加评论\n    document.getElementById('submitComment').addEventListener('click',()=>{\n        let text=document.getElementById('newComment').value.trim();\n        if(text){\n            let div=document.createElement('div');\n            div.className='comment';\n            div.dataset.type='good';\n            div.textContent=text;\n            document.getElementById('commentList').appendChild(div);\n            document.getElementById('newComment').value='';\n        }\n    });\n\n    // 购买模态框\n    document.getElementById('buyBtn').addEventListener('click',()=>{\n        let order={product:'LYF 香瓜子葵花子',qty:selectedQty,price:(selectedPrice-discount).toFixed(2)};\n        document.getElementById('orderInfo').textContent=`商品：${order.product} | 数量：${order.qty}包 | 价格：¥${order.price}`;\n        document.getElementById('cartModal').style.display='block';\n    });\n    document.getElementById('closeModal').addEventListener('click',()=>{\n        document.getElementById('cartModal').style.display='none';\n    });\n    document.getElementById('confirmPay').addEventListener('click',()=>{\n        let order={product:'LYF 香瓜子葵花子',qty:selectedQty,price:(selectedPrice-discount).toFixed(2)};\n        alert('订单信息：'+JSON.stringify(order));\n        document.getElementById('cartModal').style.display='none';\n    });\n</script>\n</body>\n</html>"
    }
  ]
}