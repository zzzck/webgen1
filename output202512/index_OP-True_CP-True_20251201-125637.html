è¿™æ˜¯ä¸€ä¸ªå•æ–‡ä»¶è§£å†³æ–¹æ¡ˆï¼Œæ•´åˆäº† HTMLã€CSS å’Œ JavaScriptã€‚å®ƒå®Œå…¨æ¨¡æ‹Ÿäº†äº¬ä¸œï¼ˆJDï¼‰çš„ç§»åŠ¨ç«¯/æ¡Œé¢ç«¯å“åº”å¼é£æ ¼ï¼ŒåŒ…å«äº†å•†å“è¯¦æƒ…ã€SKUåˆ‡æ¢ã€ä¿ƒé”€å€’è®¡æ—¶ã€ä¼˜æƒ åˆ¸é¢†å–ä»¥åŠåŸºäº LocalStorage çš„å®Œæ•´è´­ç‰©è½¦åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½äº®ç‚¹ï¼š
1.  **ä»¿äº¬ä¸œ UI**ï¼šä½¿ç”¨ç»å…¸çš„äº¬ä¸œçº¢ï¼ˆ#E1251Bï¼‰é…è‰²ï¼Œå¸ƒå±€ç´§å‡‘ï¼Œå­—ä½“å±‚çº§æ¸…æ™°ã€‚
2.  **å“åº”å¼è®¾è®¡**ï¼šåœ¨æ¡Œé¢ç«¯ä¸ºåŒæ å¸ƒå±€ï¼Œç§»åŠ¨ç«¯è‡ªåŠ¨åˆ‡æ¢ä¸ºå•æ æµå¼å¸ƒå±€+åº•éƒ¨å›ºå®šæ“ä½œæ ã€‚
3.  **SKU äº¤äº’**ï¼šåˆ‡æ¢å£å‘³/è§„æ ¼æ—¶ï¼Œä»·æ ¼å’Œåº“å­˜çŠ¶æ€ä¼šè‡ªåŠ¨æ›´æ–°ã€‚
4.  **ä¿ƒé”€å…ƒç´ **ï¼šåŒ…å«å€’è®¡æ—¶ã€é™æ—¶æŠ¢è´­è¿›åº¦æ¡ã€ä¼˜æƒ åˆ¸é¢†å–äº¤äº’ã€‚
5.  **è´­ç‰©è½¦é€»è¾‘**ï¼šæ•°æ®æŒä¹…åŒ–ä¿å­˜è‡³æµè§ˆå™¨ LocalStorageï¼Œæ”¯æŒåŠ å‡æ•°é‡ã€åˆ é™¤å•†å“ã€è‡ªåŠ¨è®¡ç®—æ€»ä»·ã€‚

æ‚¨å¯ä»¥å°†ä»¥ä¸‹ä»£ç ä¿å­˜ä¸º `.html` æ–‡ä»¶å¹¶åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ‰“å¼€ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°ç–†åŸäº§å¤§é¢—ç²’é¦™ç“œå­ - äº¬ä¸œè‡ªè¥</title>
    <style>
        /* --- å…¨å±€å˜é‡ä¸é‡ç½® --- */
        :root {
            --jd-red: #e1251b;
            --jd-dark-red: #c81623;
            --text-primary: #333;
            --text-secondary: #999;
            --bg-color: #f2f2f2;
            --border-color: #eee;
            --orange: #ff9600;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Helvetica Neue", Arial, sans-serif; background-color: var(--bg-color); color: var(--text-primary); padding-top: 50px; padding-bottom: 60px; }
        ul { list-style: none; }
        a { text-decoration: none; color: inherit; }
        button { border: none; cursor: pointer; font-family: inherit; }

        /* --- é¡¶éƒ¨å¯¼èˆª (Sticky Header) --- */
        .jd-header { position: fixed; top: 0; left: 0; width: 100%; height: 50px; background: #fff; z-index: 100; display: flex; align-items: center; padding: 0 15px; box-shadow: 0 1px 5px rgba(0,0,0,0.05); }
        .logo { color: var(--jd-red); font-weight: 900; font-size: 20px; margin-right: 15px; }
        .search-bar { flex: 1; background: #f7f7f7; border-radius: 20px; height: 30px; display: flex; align-items: center; padding: 0 15px; color: #999; font-size: 12px; }
        .header-cart-btn { margin-left: 15px; position: relative; font-size: 24px; cursor: pointer; }
        .cart-badge { position: absolute; top: -5px; right: -8px; background: var(--jd-red); color: #fff; font-size: 10px; border-radius: 10px; padding: 1px 5px; border: 1px solid #fff; }

        /* --- ä¸»å®¹å™¨ --- */
        .container { max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; gap: 20px; padding: 20px 10px; }
        
        /* --- å·¦ä¾§ï¼šå›¾ç‰‡å±•ç¤º --- */
        .product-gallery { flex: 1; min-width: 300px; background: #fff; padding: 20px; border-radius: 8px; }
        .main-img-box { width: 100%; padding-bottom: 100%; position: relative; overflow: hidden; border-radius: 4px; border: 1px solid #f0f0f0; }
        .main-img-box img { position: absolute; width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s; }
        .main-img-box:hover img { transform: scale(1.05); }
        .thumb-list { display: flex; gap: 10px; margin-top: 15px; overflow-x: auto; }
        .thumb-item { width: 60px; height: 60px; border: 2px solid transparent; cursor: pointer; border-radius: 4px; }
        .thumb-item.active { border-color: var(--jd-red); }
        .thumb-item img { width: 100%; height: 100%; object-fit: cover; }

        /* --- å³ä¾§ï¼šå•†å“ä¿¡æ¯ --- */
        .product-info { flex: 1.2; min-width: 300px; background: #fff; padding: 20px; border-radius: 8px; }
        
        /* æ ‡é¢˜åŒº */
        .title-section h1 { font-size: 20px; line-height: 1.4; font-weight: 700; margin-bottom: 8px; }
        .title-section .subtitle { color: var(--jd-red); font-size: 14px; margin-bottom: 15px; }
        .tags { display: flex; gap: 5px; margin-bottom: 10px; }
        .tag { font-size: 10px; padding: 2px 6px; border-radius: 2px; }
        .tag-hot { background: var(--jd-red); color: #fff; }
        .tag-promo { border: 1px solid var(--jd-red); color: var(--jd-red); }

        /* ä»·æ ¼ä¸å€’è®¡æ—¶åŒº */
        .price-promo-box { background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxIiBoZWlnaHQ9IjEiPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNlMTI1MWIiLz48L3N2Zz4='); background-size: cover; color: #fff; padding: 10px 15px; border-radius: 4px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .price-container { display: flex; align-items: baseline; }
        .currency { font-size: 16px; font-weight: bold; }
        .big-price { font-size: 30px; font-weight: bold; margin-right: 10px; }
        .old-price { text-decoration: line-through; font-size: 12px; opacity: 0.8; }
        .countdown-box { text-align: right; }
        .countdown-text { font-size: 12px; margin-bottom: 2px; }
        .timer span { background: #fff; color: var(--jd-red); padding: 1px 3px; border-radius: 2px; font-weight: bold; font-size: 12px; }

        /* ä¼˜æƒ åˆ¸ */
        .coupon-section { margin-bottom: 20px; padding: 10px; background: #fff4f4; border-radius: 4px; display: flex; align-items: center; gap: 10px; }
        .coupon-label { color: var(--text-secondary); font-size: 12px; }
        .coupon-ticket { position: relative; background: var(--jd-red); color: #fff; font-size: 12px; padding: 2px 10px; border-radius: 2px; cursor: pointer; }
        .coupon-ticket::before, .coupon-ticket::after { content: ''; position: absolute; top: 50%; width: 6px; height: 6px; background: #fff4f4; border-radius: 50%; transform: translateY(-50%); }
        .coupon-ticket::before { left: -3px; }
        .coupon-ticket::after { right: -3px; }

        /* SKU é€‰æ‹© */
        .sku-group { margin-bottom: 15px; }
        .sku-title { font-size: 13px; color: var(--text-secondary); margin-bottom: 8px; }
        .sku-options { display: flex; flex-wrap: wrap; gap: 10px; }
        .sku-btn { padding: 6px 15px; border: 1px solid #ddd; background: #fff; color: #333; border-radius: 4px; font-size: 13px; transition: all 0.2s; }
        .sku-btn:hover { border-color: var(--jd-red); color: var(--jd-red); }
        .sku-btn.selected { border-color: var(--jd-red); color: var(--jd-red); background: #fff4f4; border-width: 1px; position: relative; }
        .sku-btn.selected::after { content: 'âœ“'; position: absolute; bottom: 0; right: 0; font-size: 10px; background: var(--jd-red); color: #fff; padding: 0 2px; border-top-left-radius: 4px; }

        /* æ•°é‡ä¸æ“ä½œ */
        .action-area { display: flex; align-items: center; gap: 20px; margin-top: 25px; }
        .qty-box { display: flex; border: 1px solid #ddd; border-radius: 4px; }
        .qty-btn { width: 30px; height: 30px; background: #f7f7f7; font-size: 16px; color: #333; display: flex; align-items: center; justify-content: center; }
        .qty-input { width: 40px; text-align: center; border: none; border-left: 1px solid #ddd; border-right: 1px solid #ddd; font-size: 14px; }
        
        .stock-tip { font-size: 12px; color: var(--orange); margin-left: 10px; }

        .desktop-btns { display: flex; gap: 10px; flex: 1; }
        .btn { flex: 1; height: 40px; border-radius: 20px; font-weight: bold; font-size: 16px; display: flex; align-items: center; justify-content: center; transition: opacity 0.2s; }
        .btn:active { opacity: 0.8; }
        .btn-cart { background: linear-gradient(to right, #ffba0d, #ff9302); color: #fff; }
        .btn-buy { background: linear-gradient(to right, #f02b2b, #e1251b); color: #fff; }

        /* --- è¯¦æƒ… Tab --- */
        .detail-tabs { max-width: 1200px; margin: 20px auto; background: #fff; border-radius: 8px; min-height: 400px; }
        .tab-header { display: flex; border-bottom: 1px solid #eee; }
        .tab-item { padding: 15px 25px; cursor: pointer; font-size: 14px; border-bottom: 2px solid transparent; }
        .tab-item.active { color: var(--jd-red); border-bottom-color: var(--jd-red); font-weight: bold; }
        .tab-content { padding: 20px; font-size: 14px; line-height: 1.6; color: #666; }
        .tab-content img { max-width: 100%; display: block; margin: 10px 0; }

        /* --- è´­ç‰©è½¦æŠ½å±‰ (Drawer) --- */
        .cart-drawer-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999; display: none; opacity: 0; transition: opacity 0.3s; }
        .cart-drawer-overlay.open { display: block; opacity: 1; }
        
        .cart-drawer { position: fixed; top: 0; right: -400px; width: 350px; max-width: 90%; height: 100%; background: #fff; z-index: 1000; transition: right 0.3s ease; display: flex; flex-direction: column; box-shadow: -2px 0 10px rgba(0,0,0,0.1); }
        .cart-drawer.open { right: 0; }
        
        .cart-header { padding: 15px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; background: #f7f7f7; }
        .cart-header h3 { font-size: 16px; }
        .close-cart { cursor: pointer; font-size: 20px; color: #999; }
        
        .cart-list { flex: 1; overflow-y: auto; padding: 15px; }
        .cart-item { display: flex; gap: 10px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .cart-item-img { width: 60px; height: 60px; border-radius: 4px; background: #f0f0f0; object-fit: cover; }
        .cart-item-info { flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .cart-item-title { font-size: 12px; line-height: 1.3; margin-bottom: 4px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;}
        .cart-item-sku { font-size: 12px; color: #999; }
        .cart-item-bottom { display: flex; justify-content: space-between; align-items: center; }
        .cart-item-price { color: var(--jd-red); font-weight: bold; font-size: 14px; }
        .cart-qty-ctrl { display: flex; border: 1px solid #eee; border-radius: 2px; }
        .cart-qty-ctrl button { width: 20px; height: 20px; background: #fff; font-size: 12px; }
        .cart-qty-ctrl span { width: 25px; text-align: center; font-size: 12px; line-height: 20px; }
        .delete-item { font-size: 12px; color: #999; cursor: pointer; text-decoration: underline; margin-left: 5px; }
        
        .cart-footer { padding: 15px; border-top: 1px solid #eee; background: #fff; }
        .cart-total { display: flex; justify-content: space-between; margin-bottom: 10px; font-weight: bold; }
        .cart-total-price { color: var(--jd-red); font-size: 18px; }
        .checkout-btn { width: 100%; background: var(--jd-red); color: #fff; height: 40px; border-radius: 20px; font-size: 16px; }

        /* --- ç§»åŠ¨ç«¯åº•éƒ¨æ“ä½œæ  --- */
        .mobile-action-bar { display: none; position: fixed; bottom: 0; left: 0; width: 100%; height: 50px; background: #fff; border-top: 1px solid #eee; z-index: 90; padding: 0 10px; align-items: center; }
        .mobile-icon { width: 50px; text-align: center; font-size: 10px; color: #666; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; }
        .mobile-icon i { font-size: 18px; margin-bottom: 2px; }
        .mobile-btns { flex: 1; display: flex; gap: 5px; margin-left: 10px; }
        .mobile-btn { flex: 1; height: 36px; border-radius: 18px; font-size: 14px; color: #fff; display: flex; align-items: center; justify-content: center; }

        /* --- æç¤º Toast --- */
        .toast { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.7); color: #fff; padding: 10px 20px; border-radius: 5px; font-size: 14px; z-index: 2000; display: none; animation: fadeIn 0.3s; }

        /* --- å“åº”å¼è°ƒæ•´ --- */
        @media (max-width: 768px) {
            body { padding-top: 44px; }
            .jd-header { height: 44px; }
            .container { flex-direction: column; padding: 0; gap: 0; }
            .product-gallery, .product-info { border-radius: 0; }
            .product-gallery { padding: 0; }
            .thumb-list { display: none; } /* ç§»åŠ¨ç«¯ç®€åŒ– */
            .main-img-box { border: none; border-bottom: 1px solid #eee; }
            .desktop-btns { display: none; } /* éšè—æ¡Œé¢æŒ‰é’® */
            .mobile-action-bar { display: flex; }
            .cart-drawer { width: 80%; }
            .detail-tabs { margin: 10px 0; border-radius: 0; }
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="jd-header">
        <div class="logo">JD</div>
        <div class="search-bar">ğŸ” æ–°ç–†é¦™ç“œå­</div>
        <div class="header-cart-btn" onclick="cart.toggle()">
            ğŸ›’
            <span class="cart-badge" id="cartBadge">0</span>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="container">
        
        <!-- å·¦ä¾§å›¾ç‰‡ -->
        <section class="product-gallery">
            <div class="main-img-box">
                <!-- ä½¿ç”¨å ä½å›¾ï¼Œå®é™…å¼€å‘æ›¿æ¢ä¸ºäº§å“å›¾ -->
                <img id="mainImage" src="https://via.placeholder.com/800x800/FF9600/FFFFFF?text=Xinjiang+Melon+Seeds" alt="æ–°ç–†é¦™ç“œå­">
            </div>
            <div class="thumb-list" id="thumbList">
                <div class="thumb-item active" onclick="product.switchImage(this, 'https://via.placeholder.com/800x800/FF9600/FFFFFF?text=Xinjiang+Melon+Seeds')">
                    <img src="https://via.placeholder.com/100x100/FF9600/FFFFFF?text=Main" alt="ä¸»å›¾">
                </div>
                <div class="thumb-item" onclick="product.switchImage(this, 'https://via.placeholder.com/800x800/E1251B/FFFFFF?text=Details')">
                    <img src="https://via.placeholder.com/100x100/E1251B/FFFFFF?text=Detail" alt="ç»†èŠ‚">
                </div>
                <div class="thumb-item" onclick="product.switchImage(this, 'https://via.placeholder.com/800x800/333333/FFFFFF?text=Package')">
                    <img src="https://via.placeholder.com/100x100/333333/FFFFFF?text=Pack" alt="åŒ…è£…">
                </div>
            </div>
        </section>

        <!-- å³ä¾§ä¿¡æ¯ -->
        <section class="product-info">
            <!-- ä¿ƒé”€æ¨ªå¹… -->
            <div class="price-promo-box">
                <div class="price-container">
                    <span class="currency">Â¥</span>
                    <span class="big-price" id="displayPrice">19.90</span>
                    <span class="old-price" id="oldPrice">Â¥29.90</span>
                </div>
                <div class="countdown-box">
                    <div class="countdown-text">è·ç»“æŸè¿˜å‰©</div>
                    <div class="timer" id="countdown">
                        <span>12</span> : <span>30</span> : <span>45</span>
                    </div>
                </div>
            </div>

            <!-- æ ‡é¢˜ -->
            <div class="title-section">
                <div class="tags">
                    <span class="tag tag-hot">çƒ­é”€TOP1</span>
                    <span class="tag tag-promo">äº¬ä¸œè‡ªè¥</span>
                </div>
                <h1>æ–°ç–†åŸäº§å¤§é¢—ç²’é¦™ç“œå­ 500g/è¢‹ é¢—ç²’é¥±æ»¡ äººå·¥æ‰‹é€‰</h1>
                <p class="subtitle">ã€é™æ—¶ç‰¹æƒ ã€‘æºè‡ªæ–°ç–†æ—¥ç…§å……è¶³äº§åŒºï¼Œçš®è–„ä»å¤§ï¼Œåç±½ç‡ä½ï¼Œå¤šç§å£å‘³å¯é€‰ï¼æ»¡99å‡20ï¼</p>
            </div>

            <!-- ä¼˜æƒ åˆ¸ -->
            <div class="coupon-section">
                <span class="coupon-label">ä¼˜æƒ </span>
                <div class="coupon-ticket" onclick="product.collectCoupon(this)">æ»¡99å‡20</div>
                <div class="coupon-ticket" onclick="product.collectCoupon(this)">æ–°å®¢ç«‹å‡5å…ƒ</div>
            </div>

            <!-- SKU é€‰æ‹© -->
            <div class="sku-group">
                <div class="sku-title">å£å‘³</div>
                <div class="sku-options" id="flavorOptions">
                    <button class="sku-btn selected" onclick="product.selectSku('flavor', 'åŸå‘³', this)">åŸå‘³</button>
                    <button class="sku-btn" onclick="product.selectSku('flavor', 'äº”é¦™', this)">äº”é¦™</button>
                    <button class="sku-btn" onclick="product.selectSku('flavor', 'ç„¦ç³–', this)">ç„¦ç³–</button>
                </div>
            </div>
            <div class="sku-group">
                <div class="sku-title">åŒ…è£…</div>
                <div class="sku-options" id="weightOptions">
                    <button class="sku-btn selected" onclick="product.selectSku('weight', '500g', this)">500gè¢‹è£…</button>
                    <button class="sku-btn" onclick="product.selectSku('weight', '1kg', this)">1kgé‡è´©è£…</button>
                </div>
            </div>

            <!-- æ•°é‡ä¸è´­ä¹° -->
            <div class="action-area">
                <div class="qty-box">
                    <button class="qty-btn" onclick="product.changeQty(-1)">-</button>
                    <input type="text" class="qty-input" id="qtyInput" value="1" readonly>
                    <button class="qty-btn" onclick="product.changeQty(1)">+</button>
                </div>
                <span class="stock-tip">ä»…å‰© <span id="stockCount">158</span> ä»¶</span>
                
                <!-- æ¡Œé¢ç«¯æŒ‰é’® -->
                <div class="desktop-btns">
                    <button class="btn btn-cart" onclick="cart.addItem()">åŠ å…¥è´­ç‰©è½¦</button>
                    <button class="btn btn-buy" onclick="product.buyNow()">ç«‹å³è´­ä¹°</button>
                </div>
            </div>
        </section>
    </main>

    <!-- è¯¦æƒ…é€‰é¡¹å¡ -->
    <section class="detail-tabs">
        <div class="tab-header">
            <div class="tab-item active" onclick="product.switchTab(0)">å•†å“ä»‹ç»</div>
            <div class="tab-item" onclick="product.switchTab(1)">è§„æ ¼å‚æ•°</div>
            <div class="tab-item" onclick="product.switchTab(2)">å”®åä¿éšœ</div>
        </div>
        <div class="tab-content" id="tabContent">
            <h3>æºè‡ªæ–°ç–†ï¼Œè‡ªç„¶é¦ˆèµ </h3>
            <p>æˆ‘ä»¬çš„é¦™ç“œå­äº§è‡ªæ–°ç–†åŒ—çº¬42åº¦é»„é‡‘äº§åŒºï¼Œæ—¥ç…§æ—¶é—´é•¿ï¼Œæ˜¼å¤œæ¸©å·®å¤§ï¼Œåˆ©äºç“œå­ç§¯ç´¯è¥å…»ï¼Œé¢—ç²’æ›´åŠ é¥±æ»¡ã€‚</p>
            <img src="https://via.placeholder.com/800x400/f7f7f7/999999?text=Xinjiang+Origin+Photo" alt="äº§åœ°å›¾ç‰‡">
            <h3>ä¸‰é“ç­›é€‰ï¼Œå“è´¨ä¿è¯</h3>
            <p>ç»è¿‡é£é€‰ã€æ¯”é‡ç­›é€‰ã€è‰²é€‰ä¸‰é“å·¥åºï¼Œå‰”é™¤ç©ºå£³ã€ç˜ªç±½ï¼Œç¡®ä¿æ¯ä¸€é¢—éƒ½å€¼å¾—å—‘ã€‚</p>
        </div>
    </section>

    <!-- ç§»åŠ¨ç«¯åº•éƒ¨æ  -->
    <div class="mobile-action-bar">
        <div class="mobile-icon">
            <i>ğŸ¬</i>
            <span>åº—é“º</span>
        </div>
        <div class="mobile-icon" onclick="cart.toggle()">
            <i style="position:relative">ğŸ›’<span class="cart-badge" style="top:-5px; right:-5px" id="mobileCartBadge">0</span></i>
            <span>è´­ç‰©è½¦</span>
        </div>
        <div class="mobile-btns">
            <div class="mobile-btn btn-cart" style="background:#ffba0d" onclick="cart.addItem()">åŠ å…¥è´­ç‰©è½¦</div>
            <div class="mobile-btn btn-buy" style="background:#e1251b" onclick="product.buyNow()">ç«‹å³è´­ä¹°</div>
        </div>
    </div>

    <!-- è´­ç‰©è½¦ä¾§è¾¹æŠ½å±‰ -->
    <div class="cart-drawer-overlay" id="cartOverlay" onclick="cart.toggle()"></div>
    <aside class="cart-drawer" id="cartDrawer">
        <div class="cart-header">
            <h3>è´­ç‰©è½¦</h3>
            <span class="close-cart" onclick="cart.toggle()">âœ•</span>
        </div>
        <div class="cart-list" id="cartList">
            <!-- åŠ¨æ€ç”Ÿæˆè´­ç‰©è½¦é¡¹ç›® -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>åˆè®¡ï¼š</span>
                <span class="cart-total-price" id="cartTotal">Â¥0.00</span>
            </div>
            <button class="checkout-btn" onclick="alert('è·³è½¬è‡³ç»“ç®—é¡µ...')">å»ç»“ç®—</button>
        </div>
    </aside>

    <!-- æç¤ºæ¡† -->
    <div class="toast" id="toast">å·²åŠ å…¥è´­ç‰©è½¦</div>

    <script>
        /**
         * æ¨¡æ‹Ÿäº§å“æ•°æ®é€»è¾‘
         */
        const productData = {
            basePrice: 19.9, // 500g base price
            variants: {
                "åŸå‘³": 1.0,
                "äº”é¦™": 1.1, // è´µ10%
                "ç„¦ç³–": 1.1
            },
            weights: {
                "500g": 1.0,
                "1kg": 1.8 // ä¹°1kgæ›´åˆ’ç®—
            }
        };

        // å½“å‰çŠ¶æ€
        const state = {
            flavor: "åŸå‘³",
            weight: "500g",
            qty: 1,
            currentPrice: 19.9,
            stock: 158
        };

        // å•†å“ç®¡ç†å¯¹è±¡
        const product = {
            init: function() {
                this.updatePrice();
                this.startCountdown();
                this.renderStock();
            },

            // åˆ‡æ¢å›¾ç‰‡
            switchImage: function(el, src) {
                document.getElementById('mainImage').src = src;
                document.querySelectorAll('.thumb-item').forEach(item => item.classList.remove('active'));
                el.classList.add('active');
            },

            // é€‰æ‹© SKU
            selectSku: function(type, value, el) {
                state[type] = value;
                
                // æ›´æ–° UI é€‰ä¸­çŠ¶æ€
                let containerId = type === 'flavor' ? 'flavorOptions' : 'weightOptions';
                document.getElementById(containerId).querySelectorAll('.sku-btn').forEach(btn => btn.classList.remove('selected'));
                el.classList.add('selected');

                this.updatePrice();
            },

            // è®¡ç®—å¹¶æ›´æ–°ä»·æ ¼
            updatePrice: function() {
                const flavorMod = productData.variants[state.flavor];
                const weightMod = productData.weights[state.weight];
                
                // è®¡ç®—ä»·æ ¼å¹¶ä¿ç•™2ä½å°æ•°
                let price = (productData.basePrice * flavorMod * weightMod).toFixed(2);
                
                // å¦‚æœæ˜¯1kgï¼Œä»·æ ¼å–æ•´å¥½çœ‹ç‚¹
                if(state.weight === '1kg') price = (Math.ceil(price * 10) / 10).toFixed(2);

                state.currentPrice = price;
                
                // æ›´æ–°DOM
                document.getElementById('displayPrice').innerText = price;
                document.getElementById('oldPrice').innerText = 'Â¥' + (price * 1.3).toFixed(2); // æ¨¡æ‹Ÿåˆ’çº¿ä»·
            },

            // æ•°é‡å¢å‡
            changeQty: function(delta) {
                let newQty = state.qty + delta;
                if (newQty < 1) newQty = 1;
                if (newQty > 10) {
                    showToast('é™è´­10ä»¶å“¦');
                    newQty = 10;
                }
                state.qty = newQty;
                document.getElementById('qtyInput').value = newQty;
            },

            // å€’è®¡æ—¶é€»è¾‘
            startCountdown: function() {
                // è®¾ç½®ä¸€ä¸ªå€’è®¡æ—¶ç»ˆç‚¹ï¼ˆä¾‹å¦‚æ˜å¤©ï¼‰
                const endTime = new Date().getTime() + 12 * 60 * 60 * 1000; 
                
                setInterval(() => {
                    const now = new Date().getTime();
                    const distance = endTime - now;

                    if (distance < 0) return;

                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    const dom = document.getElementById('countdown');
                    dom.innerHTML = `<span>${hours.toString().padStart(2, '0')}</span> : <span>${minutes.toString().padStart(2, '0')}</span> : <span>${seconds.toString().padStart(2, '0')}</span>`;
                }, 1000);
            },

            renderStock: function() {
                // ç®€å•æ¨¡æ‹Ÿåº“å­˜å‡å°‘
                setInterval(() => {
                    if(Math.random() > 0.7 && state.stock > 10) {
                        state.stock--;
                        document.getElementById('stockCount').innerText = state.stock;
                    }
                }, 5000);
            },

            collectCoupon: function(el) {
                if (el.innerText === 'å·²é¢†å–') return;
                el.innerText = 'å·²é¢†å–';
                el.style.background = '#ccc';
                showToast('ä¼˜æƒ åˆ¸é¢†å–æˆåŠŸï¼');
            },

            switchTab: function(index) {
                const contents = [
                    `<h3>æºè‡ªæ–°ç–†ï¼Œè‡ªç„¶é¦ˆèµ </h3><p>æˆ‘ä»¬çš„é¦™ç“œå­äº§è‡ªæ–°ç–†åŒ—çº¬42åº¦é»„é‡‘äº§åŒº...</p><img src="https://via.placeholder.com/800x400/f7f7f7/999999?text=Details" style="width:100%">`,
                    `<h3>äº§å“å‚æ•°</h3><p>å“ç‰Œï¼šäº¬ä¸œä¸¥é€‰<br>äº§åœ°ï¼šæ–°ç–†<br>å‡€å«é‡ï¼š500g/1kg<br>ä¿è´¨æœŸï¼š180å¤©<br>å‚¨å­˜æ–¹æ³•ï¼šé˜´å‡‰å¹²ç‡¥å¤„</p>`,
                    `<h3>å”®åä¿éšœ</h3><p>æœ¬äº§å“æ”¯æŒ7å¤©æ— ç†ç”±é€€è´§ï¼ˆæ‹†å°åé™¤å¤–ï¼‰ã€‚<br>å¦‚æœ‰è´¨é‡é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœæé€Ÿå¤„ç†ã€‚</p>`
                ];
                
                document.querySelectorAll('.tab-item').forEach((t, i) => {
                    if(i === index) t.classList.add('active');
                    else t.classList.remove('active');
                });
                document.getElementById('tabContent').innerHTML = contents[index];
            },

            buyNow: function() {
                cart.addItem();
                cart.toggle(true); // æ‰“å¼€è´­ç‰©è½¦
            }
        };

        // è´­ç‰©è½¦ç®¡ç†å¯¹è±¡
        const cart = {
            items: [],
            storageKey: 'jd_fake_cart',

            init: function() {
                const stored = localStorage.getItem(this.storageKey);
                if (stored) {
                    this.items = JSON.parse(stored);
                }
                this.updateBadge();
            },

            save: function() {
                localStorage.setItem(this.storageKey, JSON.stringify(this.items));
                this.updateBadge();
                this.render();
            },

            addItem: function() {
                // ç”Ÿæˆå”¯ä¸€ID
                const skuId = `${state.flavor}-${state.weight}`;
                const existingItem = this.items.find(item => item.id === skuId);

                if (existingItem) {
                    existingItem.qty += state.qty;
                } else {
                    this.items.push({
                        id: skuId,
                        title: "æ–°ç–†åŸäº§å¤§é¢—ç²’é¦™ç“œå­",
                        sku: `${state.flavor} / ${state.weight}`,
                        price: parseFloat(state.currentPrice),
                        qty: state.qty,
                        img: "https://via.placeholder.com/100x100/FF9600/FFFFFF?text=Seeds"
                    });
                }

                this.save();
                showToast('å•†å“å·²åŠ å…¥è´­ç‰©è½¦');
                
                // ç®€å•çš„æŠ›ç‰©çº¿åŠ¨ç”»æ•ˆæœæ¨¡æ‹Ÿï¼ˆæ— éœ€å¤æ‚åº“ï¼‰
                // æ­¤å¤„ä»…æ›´æ–°å¾½æ ‡
            },

            updateItemQty: function(id, delta) {
                const item = this.items.find(i => i.id === id);
                if(!item) return;
                
                item.qty += delta;
                if (item.qty < 1) item.qty = 1;
                this.save();
            },

            removeItem: function(id) {
                this.items = this.items.filter(i => i.id !== id);
                this.save();
            },

            toggle: function(forceOpen = false) {
                const drawer = document.getElementById('cartDrawer');
                const overlay = document.getElementById('cartOverlay');
                const isOpen = drawer.classList.contains('open');

                if (isOpen && !forceOpen) {
                    drawer.classList.remove('open');
                    overlay.classList.remove('open');
                } else {
                    this.render(); // æ‰“å¼€å‰é‡æ–°æ¸²æŸ“
                    drawer.classList.add('open');
                    overlay.classList.add('open');
                }
            },

            updateBadge: function() {
                const totalCount = this.items.reduce((acc, item) => acc + item.qty, 0);
                document.getElementById('cartBadge').innerText = totalCount;
                document.getElementById('mobileCartBadge').innerText = totalCount;
            },

            render: function() {
                const list = document.getElementById('cartList');
                list.innerHTML = '';
                let totalMoney = 0;

                if (this.items.length === 0) {
                    list.innerHTML = '<div style="text-align:center; padding:50px 0; color:#999">è´­ç‰©è½¦ç©ºç©ºå¦‚ä¹Ÿ</div>';
                } else {
                    this.items.forEach(item => {
                        totalMoney += item.price * item.qty;
                        const div = document.createElement('div');
                        div.className = 'cart-item';
                        div.innerHTML = `
                            <img src="${item.img}" class="cart-item-img">
                            <div class="cart-item-info">
                                <div>
                                    <div class="cart-item-title">${item.title}</div>
                                    <div class="cart-item-sku">${item.sku}</div>
                                </div>
                                <div class="cart-item-bottom">
                                    <div class="cart-item-price">Â¥${item.price}</div>
                                    <div style="display:flex; align-items:center">
                                        <div class="cart-qty-ctrl">
                                            <button onclick="cart.updateItemQty('${item.id}', -1)">-</button>
                                            <span>${item.qty}</span>
                                            <button onclick="cart.updateItemQty('${item.id}', 1)">+</button>
                                        </div>
                                        <span class="delete-item" onclick="cart.removeItem('${item.id}')">åˆ é™¤</span>
                                    </div>
                                </div>
                            </div>
                        `;
                        list.appendChild(div);
                    });
                }
                document.getElementById('cartTotal').innerText = 'Â¥' + totalMoney.toFixed(2);
            }
        };

        // Toast æç¤ºå·¥å…·
        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 2000);
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            product.init();
            cart.init();
        });

    </script>
</body>
</html>
```