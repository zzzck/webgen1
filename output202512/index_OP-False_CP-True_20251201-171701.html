<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 春节香瓜子葵花子年货大促</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        background-color: #fff5f5;
        color: #333;
    }
    header {
        background-color: #E4393C;
        color: #fff;
        text-align: center;
        padding: 1em;
    }
    header h1 {
        margin: 0;
        font-size: 1.5em;
    }
    .product {
        background-color: #fff;
        padding: 1em;
        margin: 1em;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .product-images {
        display: flex;
        overflow-x: auto;
    }
    .product-images img {
        max-height: 200px;
        margin-right: 0.5em;
        border-radius: 5px;
    }
    .price {
        margin: 1em 0;
    }
    .price .current {
        color: #E4393C;
        font-size: 1.5em;
        font-weight: bold;
    }
    .price .original {
        text-decoration: line-through;
        color: #999;
        margin-left: 0.5em;
    }
    .promo {
        color: #fff;
        background-color: #E4393C;
        padding: 0.3em 0.5em;
        border-radius: 5px;
        display: inline-block;
        margin-right: 0.5em;
    }
    .countdown, .stock {
        margin: 0.5em 0;
        font-weight: bold;
        color: #E4393C;
    }
    .buy-section {
        display: flex;
        align-items: center;
    }
    .buy-section input {
        width: 50px;
        text-align: center;
        margin-right: 1em;
    }
    .buy-section button {
        background-color: #E4393C;
        color: #fff;
        border: none;
        padding: 0.5em 1em;
        border-radius: 5px;
        cursor: pointer;
    }
    .cart {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: #fff;
        border-top: 1px solid #ccc;
        padding: 0.5em;
    }
    .cart h2 {
        margin: 0 0 0.5em 0;
    }
    .cart-items {
        max-height: 150px;
        overflow-y: auto;
    }
    .cart-item {
        display: flex;
        justify-content: space-between;
        margin: 0.3em 0;
    }
    .cart-item button {
        background-color: transparent;
        border: none;
        color: #E4393C;
        cursor: pointer;
    }
</style>
</head>
<body>

<header>
    <h1>LYF 春节香瓜子葵花子年货大促</h1>
    <div class="promo">热销爆款</div>
    <div class="promo">限时优惠</div>
    <div class="promo">满减券可用</div>
</header>

<section class="product">
    <div class="product-images">
        <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="香瓜子图片1">
        <img src="https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b" alt="香瓜子图片2">
        <img src="https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg" alt="香瓜子图片3">
    </div>
    <div class="spec">
        <p>品牌：LYF</p>
        <p>规格：30g 小包装 / 10包组合装</p>
        <p>卖点：精选优质葵花籽，原味香脆，春节送礼佳品</p>
    </div>
    <div class="price">
        <span class="current">¥16.9</span>
        <span class="original">¥29.9</span>
    </div>
    <div class="countdown">限时抢购倒计时：<span id="timer"></span></div>
    <div class="stock">库存：<span id="stock">50</span> 件</div>
    <div class="buy-section">
        <input type="number" id="quantity" value="1" min="1">
        <button id="addCartBtn">加入购物车</button>
    </div>
</section>

<section class="cart">
    <h2>购物车</h2>
    <div class="cart-items" id="cartItems"></div>
</section>

<script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let stock = 50;
    const stockElement = document.getElementById('stock');
    const cartItemsElement = document.getElementById('cartItems');
    const quantityInput = document.getElementById('quantity');
    const addCartBtn = document.getElementById('addCartBtn');

    function renderCart() {
        cartItemsElement.innerHTML = '';
        cart.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'cart-item';
            div.innerHTML = `
                <span>${item.name} x ${item.quantity}</span>
                <button onclick="removeFromCart(${index})">删除</button>
            `;
            cartItemsElement.appendChild(div);
        });
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    function removeFromCart(index) {
        stock += cart[index].quantity;
        cart.splice(index, 1);
        stockElement.textContent = stock;
        renderCart();
    }

    addCartBtn.addEventListener('click', () => {
        const quantity = parseInt(quantityInput.value);
        if (quantity > 0 && quantity <= stock) {
            cart.push({
                name: '香瓜子葵花子组合装',
                quantity: quantity
            });
            stock -= quantity;
            stockElement.textContent = stock;
            renderCart();
        } else {
            alert('库存不足或数量非法');
        }
    });

    // 倒计时功能
    function startCountdown(duration) {
        let timer = duration, minutes, seconds;
        const timerElement = document.getElementById('timer');
        setInterval(() => {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            timerElement.textContent = minutes + ":" + seconds;

            if (--timer < 0) {
                timerElement.textContent = "活动结束";
            }
        }, 1000);
    }
    startCountdown(3600); // 设定1小时倒计时

    renderCart();
</script>

</body>
</html>