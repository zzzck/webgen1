{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的**单文件（Single HTML File）**一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n\n# Functional Requirements (功能需求)\n1.  实现合理的布局结构：尽量包含搜索栏目、导航栏、产品介绍、交互、详情信息等\n    可插入如下图片作为产品展示图，在价格、购买信息的左侧，可手动翻动：\n    图1“https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n    图2“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n    图3“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n    卖点文案：突出“颗粒饱满”、“独立包装不脏手”、“买多少送多少”、“五香味”\n额外功能：\n1.营销倒计时系统 (Complex Logic)：在价格旁显示“春节限时抢购倒计时”。\n2. 优惠券与价格计算 界面中间需展示两张优惠券：\nA券：满 10 减 2 元\nB券：满 20 减 5 元\n是否可实现点击优惠券，自动减少相应价格\n\n3.添加购买规格：包含10包、20包、30包，价格可以买的越多越优惠。\n4. 评论区筛选器：展示评论列表。\n5. 模态框购物车 (UI Interaction)\n点击底部的“立即购买”按钮，不跳转，而是从底部弹出一个半透明遮罩层 + 确认面板（Slide-up Modal）。\n面板内显示：已选商品信息、最终计算后的价格。\n包含“确认支付”按钮，点击后 alert 输出最终订单信息对象。\n6.随机优化功能\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理客户需求，明确网页需为单文件包含HTML/CSS/JS",
              "提取4P营销要素并转化为具体页面模块（产品、价格、渠道、促销）",
              "确定页面设计风格：春节红主色调、参考京东/天猫移动端布局",
              "明确功能实现清单：搜索栏、导航栏、产品展示轮播、产品规格介绍与卖点文案、现价原价优惠显示",
              "定义营销倒计时系统逻辑与显示位置",
              "设定优惠券系统（A券满10减2、B券满20减5）点击实现实时价格变更",
              "设计购买规格选择（10包、20包、30包），按规格设置差异价格",
              "制定评论区筛选器功能",
              "定义模态购物车弹出交互设计（Slide-up Modal），包含已选信息、计算价格、“确认支付”按钮逻辑",
              "加入随机优化功能（如动态促销标签或库存提示）"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据TeamLeader规格编写单文件HTML，内嵌CSS和JavaScript",
              "实现春节红主色调的页面全局样式及移动端响应式布局",
              "开发顶部搜索栏与导航栏",
              "编写产品展示轮播组件，加载指定三张图片",
              "在价格区域实现现价/原价显示、优惠信息、倒计时功能",
              "实现优惠券点击逻辑，自动计算并更新价格显示",
              "实现购买规格选择功能，根据选择更新价格",
              "编写评论区与筛选器逻辑，显示不同评论类型",
              "实现底部“立即购买”按钮弹出模态购物车交互，完成信息展示与最终价格计算，点击确认支付输出订单对象",
              "添加随机优化功能，例如随机促销标签或库存提示"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "<html lang=\"zh-CN\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<title>LYF 春节香瓜子葵花子年货大促</title>\n<style>\nbody {\n    margin: 0;\n    font-family: Arial, sans-serif;\n    background-color: #fff5f5;\n}\nheader {\n    background-color: #E4393C;\n    color: white;\n    padding: 10px;\n    text-align: center;\n}\nheader input {\n    width: 80%;\n    padding: 8px;\n    border: none;\n    border-radius: 4px;\n}\nnav {\n    background-color: #E4393C;\n    display: flex;\n    justify-content: space-around;\n    padding: 10px 0;\n}\nnav a {\n    color: white;\n    text-decoration: none;\n    font-size: 14px;\n}\n.container {\n    padding: 10px;\n}\n.product-gallery {\n    display: flex;\n    overflow-x: auto;\n}\n.product-gallery img {\n    max-width: 100%;\n    margin-right: 5px;\n    border-radius: 8px;\n}\n.product-info {\n    background-color: white;\n    padding: 10px;\n    border-radius: 8px;\n    margin-top: 10px;\n}\n.product-info h2 {\n    color: #E4393C;\n}\n.price {\n    display: flex;\n    align-items: baseline;\n    gap: 10px;\n    margin: 10px 0;\n}\n.price .current {\n    color: #E4393C;\n    font-size: 24px;\n    font-weight: bold;\n}\n.price .original {\n    color: #777;\n    text-decoration: line-through;\n}\n.countdown {\n    color: #E4393C;\n    font-size: 14px;\n}\n.coupons {\n    display: flex;\n    gap: 10px;\n    margin: 10px 0;\n}\n.coupon {\n    flex: 1;\n    background-color: #fff0f0;\n    border: 1px dashed #E4393C;\n    padding: 10px;\n    text-align: center;\n    border-radius: 6px;\n    cursor: pointer;\n}\n.specs {\n    margin: 10px 0;\n}\n.spec-option {\n    display: inline-block;\n    border: 1px solid #E4393C;\n    padding: 6px 12px;\n    border-radius: 6px;\n    margin-right: 5px;\n    cursor: pointer;\n}\n.spec-option.active {\n    background-color: #E4393C;\n    color: white;\n}\n.buy-btn {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: #E4393C;\n    color: white;\n    padding: 15px;\n    text-align: center;\n    font-size: 18px;\n    cursor: pointer;\n}\n.modal-overlay {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n    background: rgba(0,0,0,0.5);\n    display: none;\n    align-items: flex-end;\n}\n.modal {\n    background: white;\n    width: 100%;\n    padding: 15px;\n    border-top-left-radius: 12px;\n    border-top-right-radius: 12px;\n}\n.modal h3 {\n    margin-top: 0;\n}\n.modal .confirm-btn {\n    background-color: #E4393C;\n    color: white;\n    padding: 10px;\n    text-align: center;\n    border-radius: 6px;\n    cursor: pointer;\n}\n.comments {\n    background: white;\n    padding: 10px;\n    border-radius: 8px;\n    margin-top: 10px;\n}\n.comment-filter {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 10px;\n}\n.comment-filter button {\n    flex: 1;\n    padding: 6px;\n    border: none;\n    background: #fff0f0;\n    color: #E4393C;\n    border-radius: 4px;\n    cursor: pointer;\n}\n.comment {\n    border-bottom: 1px solid #eee;\n    padding: 5px 0;\n}\n</style>\n</head>\n<body>\n<header>\n    <input type=\"text\" placeholder=\"搜索您要的年货零食...\">\n</header>\n<nav>\n    <a href=\"#\">首页</a>\n    <a href=\"#\">零食</a>\n    <a href=\"#\">促销</a>\n    <a href=\"#\">购物车</a>\n</nav>\n<div class=\"container\">\n    <div class=\"product-gallery\">\n        <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" alt=\"图1\">\n        <img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\" alt=\"图2\">\n        <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"图3\">\n    </div>\n    <div class=\"product-info\">\n        <h2>LYF 五香香瓜子葵花子 (30g*10包组合装)</h2>\n        <ul>\n            <li>颗粒饱满</li>\n            <li>独立包装不脏手</li>\n            <li>买多少送多少</li>\n            <li>五香味</li>\n        </ul>\n        <div class=\"price\">\n            <span class=\"current\">¥16.9</span>\n            <span class=\"original\">¥29.9</span>\n        </div>\n        <div class=\"countdown\">春节限时抢购倒计时：<span id=\"countdown\"></span></div>\n        <div class=\"coupons\">\n            <div class=\"coupon\" data-discount=\"2\" data-min=\"10\">满10减2</div>\n            <div class=\"coupon\" data-discount=\"5\" data-min=\"20\">满20减5</div>\n        </div>\n        <div class=\"specs\">\n            <div class=\"spec-option active\" data-price=\"16.9\" data-pack=\"10\">10包</div>\n            <div class=\"spec-option\" data-price=\"32\" data-pack=\"20\">20包</div>\n            <div class=\"spec-option\" data-price=\"45\" data-pack=\"30\">30包</div>\n        </div>\n    </div>\n    <div class=\"comments\">\n        <div class=\"comment-filter\">\n            <button data-filter=\"all\">全部</button>\n            <button data-filter=\"good\">好评</button>\n            <button data-filter=\"bad\">差评</button>\n        </div>\n        <div class=\"comment\" data-type=\"good\">非常好吃，包装精致</div>\n        <div class=\"comment\" data-type=\"good\">颗粒饱满，味道好</div>\n        <div class=\"comment\" data-type=\"bad\">有点偏咸</div>\n    </div>\n</div>\n<div class=\"buy-btn\">立即购买</div>\n<div class=\"modal-overlay\" id=\"modalOverlay\">\n    <div class=\"modal\">\n        <h3>确认订单</h3>\n        <div id=\"orderInfo\"></div>\n        <div class=\"confirm-btn\" id=\"confirmPay\">确认支付</div>\n    </div>\n</div>\n<script>\nlet countdownTime = new Date();\ncountdownTime.setHours(countdownTime.getHours() + 5);\nfunction updateCountdown(){\n    let now = new Date();\n    let diff = countdownTime - now;\n    if(diff <= 0){\n        document.getElementById('countdown').textContent = \"抢购已结束\";\n        return;\n    }\n    let hours = Math.floor(diff/1000/60/60);\n    let minutes = Math.floor((diff/1000/60)%60);\n    let seconds = Math.floor((diff/1000)%60);\n    document.getElementById('countdown').textContent = `${hours}小时${minutes}分${seconds}秒`;\n}\nsetInterval(updateCountdown,1000);\n\nlet selectedPrice = 16.9;\nlet selectedPack = 10;\nlet discount = 0;\n\ndocument.querySelectorAll('.spec-option').forEach(el=>{\n    el.addEventListener('click',()=>{\n        document.querySelectorAll('.spec-option').forEach(s=>s.classList.remove('active'));\n        el.classList.add('active');\n        selectedPrice = parseFloat(el.dataset.price);\n        selectedPack = el.dataset.pack;\n        discount = 0;\n    });\n});\ndocument.querySelectorAll('.coupon').forEach(c=>{\n    c.addEventListener('click',()=>{\n        let min = parseFloat(c.dataset.min);\n        if(selectedPrice >= min){\n            discount = parseFloat(c.dataset.discount);\n            alert(\"已使用优惠券，减免\"+discount+\"元\");\n        } else {\n            alert(\"金额未满足优惠券条件\");\n        }\n    });\n});\n\ndocument.querySelectorAll('.comment-filter button').forEach(btn=>{\n    btn.addEventListener('click',()=>{\n        let filter = btn.dataset.filter;\n        document.querySelectorAll('.comment').forEach(com=>{\n            if(filter===\"all\" || com.dataset.type === filter){\n                com.style.display = 'block';\n            } else {\n                com.style.display = 'none';\n            }\n        });\n    });\n});\n\ndocument.querySelector('.buy-btn').addEventListener('click',()=>{\n    document.getElementById('modalOverlay').style.display = 'flex';\n    document.getElementById('orderInfo').innerHTML = \n        `商品：LYF 五香香瓜子葵花子<br>\n        规格：${selectedPack}包<br>\n        原价：¥${selectedPrice}<br>\n        优惠：¥${discount}<br>\n        最终支付：¥${(selectedPrice-discount).toFixed(2)}`;\n});\ndocument.getElementById('confirmPay').addEventListener('click',()=>{\n    let order = {\n        product:\"LYF 五香香瓜子葵花子\",\n        pack:selectedPack,\n        price:selectedPrice,\n        discount:discount,\n        final:(selectedPrice-discount).toFixed(2)\n    };\n    alert(\"订单已支付: \"+JSON.stringify(order));\n    document.getElementById('modalOverlay').style.display = 'none';\n});\ndocument.getElementById('modalOverlay').addEventListener('click',(e)=>{\n    if(e.target.id==='modalOverlay'){\n        document.getElementById('modalOverlay').style.display = 'none';\n    }\n});\nupdateCountdown();\n</script>\n</body>\n</html>"
    }
  ]
}