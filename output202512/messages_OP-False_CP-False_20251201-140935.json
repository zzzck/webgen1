{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\nä¸ºç½‘ç«™åˆ›å»ºä¸€ä¸ªå“åº”å¼ä¸”è§†è§‰æ•ˆæœå¸å¼•äººçš„ç”µå•†é”€å”®é¡µé¢å°éƒ¨ä»¶ï¼Œç•Œé¢é£æ ¼æ¨¡ä»¿äº¬ä¸œã€‚å•†å“ä¸ºæ–°ç–†é¦™ç“œå­ï¼ˆäº§å“ï¼‰ï¼Œéœ€å±•ç¤ºåŒ…è£…è§„æ ¼ã€å“è´¨å–ç‚¹å’Œå£å‘³ä¿¡æ¯ã€‚\nç”¨æˆ·åº”èƒ½å¤ŸæŸ¥çœ‹ä»·æ ¼ä¸ä¼˜æƒ ï¼ˆä»·æ ¼ï¼‰ï¼Œå¹¶é€‰æ‹©æ•°é‡åŠ å…¥è´­ç‰©è½¦ï¼Œä¹Ÿå¯ç®¡ç†è´­ç‰©è½¦å†…å®¹ã€‚\né¡µé¢æ”¯æŒå•†å“åˆ†ç±»å±•ç¤ºä¸åœ¨çº¿è´­ä¹°æµç¨‹ï¼ˆæ¸ é“ï¼‰ã€‚æ‚¨è¿˜å¯ä»¥åŠ å…¥ä¿ƒé”€å…ƒç´ ï¼Œå¦‚é™æ—¶å€’è®¡æ—¶ã€åº“å­˜æé†’ã€çƒ­é”€æ ‡ç­¾å’Œä¼˜æƒ å·ï¼ˆä¿ƒé”€ï¼‰ï¼Œè¿›ä¸€æ­¥æå‡è´­ç‰©ä½“éªŒä¸è¶£å‘³æ€§ã€‚\nä»…ä½¿ç”¨ HTMLã€CSS å’Œ JavaScript â€” ä¸è¦ä½¿ç”¨ Vueã€React æˆ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“ã€‚\nä½¿ç”¨ localStorage ä¿å­˜è´­ç‰©è½¦ç­‰æ•°æ®ï¼Œç¡®ä¿ä¿¡æ¯åœ¨åˆ·æ–°åä¿ç•™ã€‚ä¿æŒæ•´ä½“è®¾è®¡ç®€æ´ã€ç”¨æˆ·å‹å¥½ä¸”å¯Œæœ‰å¸å¼•åŠ›ã€‚\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "æ¢³ç†éœ€æ±‚ï¼šå¼€å‘ä»¿äº¬ä¸œé£æ ¼çš„ç”µå•†é”€å”®é¡µå°éƒ¨ä»¶ï¼Œå•†å“ä¸ºæ–°ç–†é¦™ç“œå­",
              "åˆ¶å®šæŠ€æœ¯è§„èŒƒï¼šä»…ä½¿ç”¨åŸç”Ÿ HTML/CSS/JSï¼Œå¿…é¡»ä½¿ç”¨ localStorage å®ç°æ•°æ®æŒä¹…åŒ–",
              "è§„åˆ’åŠŸèƒ½æ¨¡å—ï¼šå•†å“è§„æ ¼å±•ç¤ºã€è´­ç‰©è½¦ç®¡ç†ç³»ç»Ÿã€ä¿ƒé”€äº’åŠ¨å…ƒç´ ï¼ˆå€’è®¡æ—¶ã€ä¼˜æƒ åˆ¸ã€åº“å­˜æé†’ï¼‰"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "æ„å»º HTML éª¨æ¶ï¼šåŒ…å«å•†å“è¯¦æƒ…ã€è§„æ ¼é€‰æ‹©å™¨ã€è´­ç‰©è½¦ä¾§è¾¹æ /å¼¹çª—åŠä¿ƒé”€æ¨ªå¹…",
              "å®ç° CSS æ ·å¼ï¼šè®¾è®¡å“åº”å¼å¸ƒå±€ï¼Œå¤åˆ»äº¬ä¸œè§†è§‰é£æ ¼ï¼ˆé…è‰²ã€æ’ç‰ˆã€æ ‡ç­¾ï¼‰ï¼Œç¡®ä¿ç¾è§‚ç®€æ´",
              "å¼€å‘ JS é€»è¾‘ï¼šå®ç°å•†å“åŠ å…¥/ç§»é™¤è´­ç‰©è½¦ã€æ•°é‡å¢å‡ã€ä»·æ ¼è®¡ç®—ã€localStorage æ•°æ®åŒæ­¥åŠå€’è®¡æ—¶/ä¼˜æƒ åˆ¸äº¤äº’é€»è¾‘"
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ä½¿ç”¨åŸç”Ÿ HTMLã€CSS å’Œ JavaScript ç¼–å†™çš„ç”µå•†é”€å”®é¡µé¢ã€‚\n\n**è®¾è®¡ç†å¿µï¼š**\n1.  **è§†è§‰é£æ ¼**ï¼šæ¨¡ä»¿äº¬ä¸œï¼ˆJD Appï¼‰çš„ç§»åŠ¨ç«¯é£æ ¼ï¼Œä¸»è‰²è°ƒä¸ºâ€œäº¬ä¸œçº¢â€ï¼ˆ#F2270Cï¼‰ï¼Œå¼ºè°ƒä»·æ ¼å’Œè´­ä¹°æŒ‰é’®ã€‚\n2.  **å“åº”å¼**ï¼šåœ¨æ‰‹æœºä¸Šæ˜¯å…¨å± App ä½“éªŒï¼Œåœ¨ç”µè„‘ä¸Šæ˜¯ä¸€ä¸ªå±…ä¸­çš„ç§»åŠ¨ç«¯æ¨¡æ‹Ÿçª—å£ã€‚\n3.  **åŠŸèƒ½å®Œå¤‡**ï¼šåŒ…å«å€’è®¡æ—¶ã€SKUé€‰æ‹©ï¼ˆå£å‘³/é‡é‡ï¼‰ã€åº“å­˜æ¡ã€ä¼˜æƒ åˆ¸é¢†å–ã€è´­ç‰©è½¦é€»è¾‘ï¼ˆLocalStorage æŒä¹…åŒ–ï¼‰ä»¥åŠ Toast æç¤ºã€‚\n\næ‚¨å¯ä»¥ç›´æ¥å°†ä»¥ä¸‹ä»£ç ä¿å­˜ä¸º `.html` æ–‡ä»¶å¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚\n\n```html\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n    <title>æ–°ç–†ç²¾é€‰é¦™ç“œå­ - ç‰¹å–</title>\n    <style>\n        /* --- CSS Reset & Variables --- */\n        :root {\n            --jd-red: #f2270c;\n            --jd-dark-red: #d91e0a;\n            --jd-yellow: #ffc300;\n            --text-main: #262626;\n            --text-sub: #8c8c8c;\n            --bg-gray: #f7f7f7;\n            --border-color: #e5e5e5;\n        }\n\n        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }\n        body { font-family: -apple-system, \"Helvetica Neue\", Helvetica, Arial, \"PingFang SC\", \"Microsoft YaHei\", sans-serif; background-color: var(--bg-gray); color: var(--text-main); max-width: 600px; margin: 0 auto; padding-bottom: 60px; border-left: 1px solid #eee; border-right: 1px solid #eee; min-height: 100vh; position: relative; }\n\n        /* --- Header --- */\n        header { background: #fff; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; border-bottom: 1px solid var(--border-color); }\n        .back-btn { font-size: 20px; color: #333; cursor: pointer; }\n        .header-title { font-weight: bold; font-size: 16px; }\n        .header-icons { position: relative; cursor: pointer; }\n        .cart-badge { position: absolute; top: -5px; right: -8px; background: var(--jd-red); color: #fff; font-size: 10px; padding: 1px 5px; border-radius: 10px; border: 1px solid #fff; display: none; }\n\n        /* --- Product Image --- */\n        .product-gallery { background: #fff; height: 350px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }\n        .product-img-placeholder { width: 100%; height: 100%; background: linear-gradient(to bottom right, #f8f8f8, #e0e0e0); display: flex; flex-direction: column; align-items: center; justify-content: center; color: #999; }\n        .product-img-placeholder svg { width: 80px; height: 80px; fill: #ccc; margin-bottom: 10px; }\n        .promo-overlay { position: absolute; bottom: 0; left: 0; right: 0; height: 50px; background: linear-gradient(90deg, var(--jd-red), #ff5c38); color: #fff; display: flex; justify-content: space-between; align-items: center; padding: 0 15px; }\n        .promo-price-area { display: flex; align-items: baseline; }\n        .currency { font-size: 14px; }\n        .big-price { font-size: 28px; font-weight: bold; }\n        .old-price { font-size: 12px; text-decoration: line-through; opacity: 0.8; margin-left: 5px; }\n        .countdown-area { text-align: right; font-size: 12px; }\n        .countdown-timer { font-weight: bold; background: #fff; color: var(--jd-red); padding: 2px 4px; border-radius: 4px; margin-left: 2px; }\n\n        /* --- Product Info --- */\n        .section { background: #fff; padding: 15px; margin-bottom: 10px; border-radius: 0 0 12px 12px; }\n        .section + .section { border-radius: 12px; }\n        \n        .product-title { font-size: 16px; font-weight: 700; line-height: 1.4; margin-bottom: 8px; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }\n        .tag { background: var(--jd-red); color: #fff; font-size: 10px; padding: 1px 4px; border-radius: 2px; margin-right: 5px; vertical-align: middle; }\n        .sub-title { font-size: 13px; color: var(--text-sub); margin-bottom: 10px; }\n        \n        /* Stock Bar */\n        .stock-container { display: flex; align-items: center; font-size: 12px; color: var(--text-sub); margin-top: 8px; }\n        .progress-bg { width: 100px; height: 6px; background: #eee; border-radius: 3px; margin: 0 8px; overflow: hidden; }\n        .progress-bar { height: 100%; background: #ff9600; width: 85%; border-radius: 3px; }\n\n        /* --- Coupons --- */\n        .coupon-row { display: flex; align-items: center; gap: 10px; overflow-x: auto; padding-bottom: 5px; scrollbar-width: none; }\n        .coupon { background: #fff4f4; border: 1px solid #ffcace; color: var(--jd-red); padding: 4px 8px; border-radius: 4px; font-size: 12px; white-space: nowrap; cursor: pointer; position: relative; }\n        .coupon::before, .coupon::after { content: ''; position: absolute; top: 50%; width: 6px; height: 6px; background: #fff; border-radius: 50%; border: 1px solid #ffcace; transform: translateY(-50%); }\n        .coupon::before { left: -4px; border-right-color: transparent; border-top-color: transparent; border-bottom-color: transparent; }\n        .coupon::after { right: -4px; border-left-color: transparent; border-top-color: transparent; border-bottom-color: transparent; }\n\n        /* --- SKU Selector --- */\n        .sku-section { padding-bottom: 5px; }\n        .sku-group { margin-bottom: 15px; }\n        .sku-label { font-size: 14px; font-weight: bold; margin-bottom: 8px; display: block; }\n        .sku-options { display: flex; flex-wrap: wrap; gap: 10px; }\n        .sku-btn { border: 1px solid #f2f2f2; background: #f2f2f2; padding: 6px 15px; border-radius: 15px; font-size: 13px; color: #333; cursor: pointer; transition: all 0.2s; }\n        .sku-btn.selected { background: #fcedeb; border-color: var(--jd-red); color: var(--jd-red); font-weight: bold; }\n        \n        .qty-control { display: flex; align-items: center; justify-content: space-between; margin-top: 10px; }\n        .stepper { display: flex; border: 1px solid #ddd; border-radius: 4px; }\n        .stepper button { width: 30px; height: 30px; border: none; background: #fff; font-size: 16px; cursor: pointer; outline: none; }\n        .stepper input { width: 40px; height: 30px; text-align: center; border: none; border-left: 1px solid #ddd; border-right: 1px solid #ddd; font-size: 14px; }\n\n        /* --- Quality Points --- */\n        .quality-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: center; margin-top: 10px; }\n        .quality-item { background: #fcfcfc; padding: 10px 5px; border-radius: 8px; border: 1px solid #f0f0f0; }\n        .q-icon { font-size: 20px; display: block; margin-bottom: 5px; }\n        .q-text { font-size: 12px; color: #666; }\n\n        /* --- Footer Action --- */\n        .footer-nav { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; padding: 8px 10px; display: flex; align-items: center; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); max-width: 600px; margin: 0 auto; z-index: 90; }\n        .nav-icons { display: flex; gap: 15px; margin-right: 15px; }\n        .nav-item { display: flex; flex-direction: column; align-items: center; font-size: 10px; color: #666; cursor: pointer; position: relative; }\n        .nav-item svg { width: 20px; height: 20px; fill: #666; margin-bottom: 2px; }\n        \n        .action-btns { flex: 1; display: flex; border-radius: 20px; overflow: hidden; height: 38px; }\n        .btn-cart { flex: 1; background: linear-gradient(90deg, #ffba0d, #ffc30d); color: #fff; border: none; font-size: 14px; font-weight: bold; cursor: pointer; }\n        .btn-buy { flex: 1; background: linear-gradient(90deg, #f2140c, #f2270c); color: #fff; border: none; font-size: 14px; font-weight: bold; cursor: pointer; }\n\n        /* --- Modal (Cart) --- */\n        .modal-backdrop { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 200; display: none; }\n        .cart-modal { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; border-radius: 16px 16px 0 0; padding: 20px; max-width: 600px; margin: 0 auto; transform: translateY(100%); transition: transform 0.3s ease; z-index: 201; max-height: 70vh; display: flex; flex-direction: column; }\n        .modal-active .modal-backdrop { display: block; }\n        .modal-active .cart-modal { transform: translateY(0); }\n        \n        .cart-header { display: flex; justify-content: space-between; margin-bottom: 15px; font-weight: bold; }\n        .cart-list { overflow-y: auto; flex: 1; margin-bottom: 15px; }\n        .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee; }\n        .cart-item-info h4 { font-size: 14px; margin-bottom: 4px; }\n        .cart-item-info p { font-size: 12px; color: #999; }\n        .cart-item-price { font-weight: bold; color: var(--jd-red); }\n        .delete-btn { color: #999; font-size: 12px; margin-left: 10px; cursor: pointer; }\n\n        /* --- Toast --- */\n        .toast { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.7); color: #fff; padding: 10px 20px; border-radius: 4px; font-size: 14px; z-index: 300; display: none; opacity: 0; transition: opacity 0.3s; }\n\n    </style>\n</head>\n<body>\n\n    <!-- Header -->\n    <header>\n        <div class=\"back-btn\">â®</div>\n        <div class=\"header-title\">å•†å“è¯¦æƒ…</div>\n        <div class=\"header-icons\" onclick=\"toggleCart()\">\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"#333\"><path d=\"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\"/></svg>\n            <span class=\"cart-badge\" id=\"cartCount\">0</span>\n        </div>\n    </header>\n\n    <!-- Gallery -->\n    <div class=\"product-gallery\">\n        <div class=\"product-img-placeholder\">\n            <svg viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/></svg>\n            <div>æ–°ç–†ç²¾é€‰å¤§ç‰‡é¦™ç“œå­</div>\n            <div style=\"font-size: 12px; margin-top:5px;\">ç‚¹å‡»æŸ¥çœ‹é«˜æ¸…å¤§å›¾</div>\n        </div>\n        <div class=\"promo-overlay\">\n            <div class=\"promo-price-area\">\n                <span class=\"currency\">Â¥</span>\n                <span class=\"big-price\" id=\"displayPrice\">19.90</span>\n                <span class=\"old-price\">Â¥29.90</span>\n            </div>\n            <div class=\"countdown-area\">\n                <div>è·ç§’æ€ç»“æŸä»…å‰©</div>\n                <div id=\"timer\">\n                    <span class=\"countdown-timer\" id=\"h\">02</span> :\n                    <span class=\"countdown-timer\" id=\"m\">45</span> :\n                    <span class=\"countdown-timer\" id=\"s\">30</span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Info Section -->\n    <div class=\"section\">\n        <div class=\"product-title\">\n            <span class=\"tag\">è‡ªè¥</span><span class=\"tag\" style=\"background:#ff9600\">çƒ­é”€</span>æ–°ç–†åŸäº§åœ°å¤§é¢—ç²’é¦™ç“œå­ 500g/è¢‹ é¥±æ»¡é…¥è„† ä¼‘é—²é›¶é£Ÿåšæœç‚’è´§\n        </div>\n        <div class=\"sub-title\">\n            ã€é™æ—¶æŠ¢è´­ã€‘æºè‡ªæ–°ç–†æ—¥ç…§å……è¶³äº§åŒºï¼Œäººå·¥æ‰‹é€‰ï¼Œç²’ç²’é¥±æ»¡ï¼Œåç±½åŒ…èµ”ï¼\n        </div>\n        <div class=\"coupon-row\">\n            <div class=\"coupon\" onclick=\"claimCoupon(this)\">æ»¡39å‡5</div>\n            <div class=\"coupon\" onclick=\"claimCoupon(this)\">æ»¡99å‡20</div>\n            <div class=\"coupon\" onclick=\"claimCoupon(this)\">æ–°å®¢95æŠ˜</div>\n        </div>\n        <div class=\"stock-container\">\n            <span>å·²æŠ¢ 85%</span>\n            <div class=\"progress-bg\"><div class=\"progress-bar\"></div></div>\n            <span>ä»…å‰© 124 ä»¶</span>\n        </div>\n    </div>\n\n    <!-- Specs Section -->\n    <div class=\"section sku-section\">\n        <div class=\"sku-group\">\n            <span class=\"sku-label\">å£å‘³é€‰æ‹©</span>\n            <div class=\"sku-options\" id=\"flavorOptions\">\n                <button class=\"sku-btn selected\" onclick=\"selectSku('flavor', 'original', this)\">åŸå‘³é†‡é¦™</button>\n                <button class=\"sku-btn\" onclick=\"selectSku('flavor', 'spiced', this)\">äº”é¦™æµ“éƒ</button>\n                <button class=\"sku-btn\" onclick=\"selectSku('flavor', 'caramel', this)\">ç„¦ç³–ç”œå¿ƒ</button>\n            </div>\n        </div>\n        <div class=\"sku-group\">\n            <span class=\"sku-label\">åŒ…è£…è§„æ ¼</span>\n            <div class=\"sku-options\" id=\"weightOptions\">\n                <button class=\"sku-btn selected\" onclick=\"selectSku('weight', '500', this)\">500g (å°é²œè£…)</button>\n                <button class=\"sku-btn\" onclick=\"selectSku('weight', '1000', this)\">1kg (å®¶åº­è£…)</button>\n            </div>\n        </div>\n        \n        <div class=\"qty-control\">\n            <span class=\"sku-label\" style=\"margin:0\">è´­ä¹°æ•°é‡</span>\n            <div class=\"stepper\">\n                <button onclick=\"updateQty(-1)\">-</button>\n                <input type=\"number\" id=\"qtyInput\" value=\"1\" readonly>\n                <button onclick=\"updateQty(1)\">+</button>\n            </div>\n        </div>\n    </div>\n\n    <!-- Quality Details -->\n    <div class=\"section\">\n        <span class=\"sku-label\">å“è´¨ä¿éšœ</span>\n        <div class=\"quality-grid\">\n            <div class=\"quality-item\">\n                <span class=\"q-icon\">â˜€ï¸</span>\n                <span class=\"q-text\">3000hæ—¥ç…§</span>\n            </div>\n            <div class=\"quality-item\">\n                <span class=\"q-icon\">ğŸ”ï¸</span>\n                <span class=\"q-text\">å¤©å±±é›ªæ°´çŒæº‰</span>\n            </div>\n            <div class=\"quality-item\">\n                <span class=\"q-icon\">ğŸ”</span>\n                <span class=\"q-text\">äººå·¥æ‰‹é€‰</span>\n            </div>\n        </div>\n    </div>\n\n    <!-- Footer -->\n    <nav class=\"footer-nav\">\n        <div class=\"nav-icons\">\n            <div class=\"nav-item\">\n                <svg viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"/></svg>\n                <span>å®¢æœ</span>\n            </div>\n            <div class=\"nav-item\" onclick=\"toggleCart()\">\n                <svg viewBox=\"0 0 24 24\"><path d=\"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\"/></svg>\n                <span>è´­ç‰©è½¦</span>\n            </div>\n        </div>\n        <div class=\"action-btns\">\n            <button class=\"btn-cart\" onclick=\"addToCart()\">åŠ å…¥è´­ç‰©è½¦</button>\n            <button class=\"btn-buy\" onclick=\"buyNow()\">ç«‹å³è´­ä¹°</button>\n        </div>\n    </nav>\n\n    <!-- Cart Modal -->\n    <div id=\"modalBackdrop\" class=\"modal-backdrop\" onclick=\"toggleCart()\"></div>\n    <div id=\"cartModal\" class=\"cart-modal\">\n        <div class=\"cart-header\">\n            <span>è´­ç‰©è½¦</span>\n            <span style=\"font-size:12px; color:#999; font-weight:normal; cursor:pointer\" onclick=\"toggleCart()\">å…³é—­</span>\n        </div>\n        <div class=\"cart-list\" id=\"cartListContainer\">\n            <!-- Cart items injected via JS -->\n            <div style=\"text-align:center; color:#999; margin-top:20px;\">è´­ç‰©è½¦æ˜¯ç©ºçš„</div>\n        </div>\n        <button class=\"btn-buy\" style=\"border-radius: 20px; width: 100%; padding: 12px;\" onclick=\"alert('è·³è½¬ç»“ç®—é¡µ...')\">å»ç»“ç®—</button>\n    </div>\n\n    <!-- Toast -->\n    <div id=\"toast\" class=\"toast\">åŠ å…¥æˆåŠŸ</div>\n\n    <script>\n        /* --- Data & State --- */\n        const productBase = {\n            name: \"æ–°ç–†åŸäº§åœ°å¤§é¢—ç²’é¦™ç“œå­\",\n            basePrice: 19.90,\n            originalPrice: 29.90\n        };\n\n        let currentState = {\n            flavor: 'original', // original, spiced, caramel\n            flavorName: 'åŸå‘³é†‡é¦™',\n            weight: '500', // 500, 1000\n            weightName: '500g',\n            price: 19.90,\n            qty: 1\n        };\n\n        // --- Initialization ---\n        document.addEventListener('DOMContentLoaded', () => {\n            startCountdown();\n            loadCart();\n            updatePrice();\n        });\n\n        /* --- Countdown Logic --- */\n        function startCountdown() {\n            let duration = 2 * 3600 + 45 * 60 + 30; // 2h 45m 30s\n            const hEl = document.getElementById('h');\n            const mEl = document.getElementById('m');\n            const sEl = document.getElementById('s');\n\n            setInterval(() => {\n                if (duration <= 0) return;\n                duration--;\n                const h = Math.floor(duration / 3600);\n                const m = Math.floor((duration % 3600) / 60);\n                const s = duration % 60;\n                \n                hEl.textContent = h.toString().padStart(2, '0');\n                mEl.textContent = m.toString().padStart(2, '0');\n                sEl.textContent = s.toString().padStart(2, '0');\n            }, 1000);\n        }\n\n        /* --- Selection Logic --- */\n        function selectSku(type, value, btn) {\n            // Update visual state\n            const parent = btn.parentNode;\n            parent.querySelectorAll('.sku-btn').forEach(b => b.classList.remove('selected'));\n            btn.classList.add('selected');\n\n            // Update data state\n            if (type === 'flavor') {\n                currentState.flavor = value;\n                currentState.flavorName = btn.textContent;\n            } else if (type === 'weight') {\n                currentState.weight = value;\n                // Extract text like \"500g\" from button text\n                currentState.weightName = btn.textContent.split(' ')[0]; \n            }\n\n            updatePrice();\n        }\n\n        function updateQty(change) {\n            let newQty = currentState.qty + change;\n            if (newQty < 1) newQty = 1;\n            if (newQty > 99) newQty = 99;\n            currentState.qty = newQty;\n            document.getElementById('qtyInput').value = newQty;\n        }\n\n        function updatePrice() {\n            let price = productBase.basePrice;\n            if (currentState.weight === '1000') {\n                price = 36.90; // Special price for 1kg\n            }\n            currentState.price = price;\n            document.getElementById('displayPrice').textContent = price.toFixed(2);\n        }\n\n        /* --- Cart Management (LocalStorage) --- */\n        function getCart() {\n            const cart = localStorage.getItem('jd_demo_cart');\n            return cart ? JSON.parse(cart) : [];\n        }\n\n        function saveCart(cart) {\n            localStorage.setItem('jd_demo_cart', JSON.stringify(cart));\n            updateCartBadge(cart);\n        }\n\n        function addToCart() {\n            const cart = getCart();\n            // Check if same SKU exists\n            const existingItemIndex = cart.findIndex(item => \n                item.flavor === currentState.flavor && item.weight === currentState.weight\n            );\n\n            if (existingItemIndex > -1) {\n                cart[existingItemIndex].qty += currentState.qty;\n            } else {\n                cart.push({\n                    id: Date.now(),\n                    name: productBase.name,\n                    flavor: currentState.flavor,\n                    flavorName: currentState.flavorName,\n                    weight: currentState.weight,\n                    weightName: currentState.weightName,\n                    price: currentState.price,\n                    qty: currentState.qty\n                });\n            }\n\n            saveCart(cart);\n            showToast(\"å•†å“å·²åŠ å…¥è´­ç‰©è½¦\");\n            \n            // Reset qty\n            currentState.qty = 1;\n            document.getElementById('qtyInput').value = 1;\n        }\n\n        function removeFromCart(id) {\n            let cart = getCart();\n            cart = cart.filter(item => item.id !== id);\n            saveCart(cart);\n            renderCartItems(cart);\n        }\n\n        function loadCart() {\n            const cart = getCart();\n            updateCartBadge(cart);\n        }\n\n        function updateCartBadge(cart) {\n            const count = cart.reduce((acc, item) => acc + item.qty, 0);\n            const badge = document.getElementById('cartCount');\n            badge.textContent = count;\n            badge.style.display = count > 0 ? 'block' : 'none';\n        }\n\n        /* --- UI Interactions --- */\n        function toggleCart() {\n            const body = document.body;\n            const modal = document.getElementById('cartModal');\n            const backdrop = document.getElementById('modalBackdrop');\n            \n            if (body.classList.contains('modal-active')) {\n                body.classList.remove('modal-active');\n            } else {\n                renderCartItems(getCart());\n                body.classList.add('modal-active');\n            }\n        }\n\n        function renderCartItems(cart) {\n            const container = document.getElementById('cartListContainer');\n            if (cart.length === 0) {\n                container.innerHTML = '<div style=\"text-align:center; color:#999; margin-top:40px;\">è´­ç‰©è½¦ç©ºç©ºå¦‚ä¹Ÿ<br>å¿«å»é€‰è´­å§~</div>';\n                return;\n            }\n\n            let html = '';\n            cart.forEach(item => {\n                html += `\n                <div class=\"cart-item\">\n                    <div class=\"cart-item-info\">\n                        <h4>${item.name}</h4>\n                        <p>${item.flavorName} / ${item.weightName} x ${item.qty}</p>\n                    </div>\n                    <div style=\"display:flex; align-items:center;\">\n                        <div class=\"cart-item-price\">Â¥${(item.price * item.qty).toFixed(2)}</div>\n                        <div class=\"delete-btn\" onclick=\"removeFromCart(${item.id})\">åˆ é™¤</div>\n                    </div>\n                </div>\n                `;\n            });\n            container.innerHTML = html;\n        }\n\n        function showToast(msg) {\n            const toast = document.getElementById('toast');\n            toast.textContent = msg;\n            toast.style.display = 'block';\n            \n            // Trigger reflow for transition\n            void toast.offsetWidth; \n            toast.style.opacity = 1;\n\n            setTimeout(() => {\n                toast.style.opacity = 0;\n                setTimeout(() => { toast.style.display = 'none'; }, 300);\n            }, 2000);\n        }\n\n        function claimCoupon(el) {\n            if (el.style.backgroundColor !== 'rgb(221, 221, 221)') {\n                el.style.background = '#ddd';\n                el.style.borderColor = '#ccc';\n                el.style.color = '#666';\n                el.textContent = 'å·²é¢†å–';\n                showToast('ä¼˜æƒ åˆ¸é¢†å–æˆåŠŸ');\n            }\n        }\n\n        function buyNow() {\n            showToast('æ­£åœ¨è·³è½¬æ”¯ä»˜...');\n            // Simulate checkout flow\n        }\n    </script>\n</body>\n</html>\n```"
    }
  ]
}