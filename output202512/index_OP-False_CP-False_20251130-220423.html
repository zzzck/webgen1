<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF æ˜¥èŠ‚é¦™ç“œå­è‘µèŠ±å­å¤§ä¿ƒ</title>
<style>
body {
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background-color: #fff5f5;
}
header {
    background-color: #E4393C;
    color: #fff;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
header nav a {
    color: #fff;
    margin: 0 5px;
    text-decoration: none;
}
.logo {
    font-weight: bold;
    font-size: 20px;
}
.cart {
    position: relative;
    cursor: pointer;
}
.cart-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #FFD700;
    color: #000;
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 12px;
}
.main {
    padding: 10px;
}
.product-carousel {
    position: relative;
    max-width: 600px;
    margin: 0 auto;
}
.product-carousel img {
    width: 100%;
    max-height: 300px;
    object-fit: cover;
    border-radius: 8px;
}
.carousel-controls {
    text-align: center;
    margin-top: 5px;
}
.carousel-controls button {
    margin:0 2px;
    background: #E4393C;
    color: #fff;
    border: none;
    padding: 5px 8px;
    border-radius: 4px;
    cursor: pointer;
}
.product-info {
    background: #fff;
    padding: 10px;
    margin-top: 10px;
    border-radius: 8px;
}
.product-title {
    font-size: 18px;
    font-weight: bold;
}
.product-subtitle {
    font-size: 14px;
    color: #666;
}
.price {
    margin: 10px 0;
}
.price-now {
    font-size: 20px;
    color: #E4393C;
    font-weight: bold;
}
.price-old {
    text-decoration: line-through;
    color: #999;
    margin-left: 10px;
}
.promos {
    font-size: 14px;
    color: #E4393C;
}
.stock-warning {
    color: #E4393C;
    font-weight: bold;
}
.specs {
    margin: 10px 0;
}
.specs select {
    padding:5px;
    margin-right: 5px;
}
.qty-control {
    display: inline-flex;
    align-items: center;
}
.qty-control button {
    background: #E4393C;
    color: #fff;
    border: none;
    padding: 5px 8px;
    cursor: pointer;
}
.qty-control input {
    width: 40px;
    text-align: center;
    margin: 0 5px;
}
.buy-buttons {
    margin-top: 10px;
}
.buy-buttons button {
    background: #FFD700;
    color: #000;
    border: none;
    padding: 8px 12px;
    margin: 0 5px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}
#cart-sidebar {
    position: fixed;
    right: -300px;
    top:0;
    width: 300px;
    height: 100%;
    background: #fff;
    box-shadow: -2px 0 5px rgba(0,0,0,0.2);
    transition: right 0.3s;
    padding: 10px;
    overflow-y: auto;
    z-index: 999;
}
#cart-sidebar.active {
    right: 0;
}
.cart-item {
    border-bottom: 1px solid #eee;
    padding: 5px 0;
}
.cart-item img {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 4px;
}
.cart-item-details {
    display: inline-block;
    vertical-align: top;
    margin-left: 5px;
    width: 200px;
}
.cart-total {
    font-weight: bold;
    margin-top: 10px;
}
.cart-actions button {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    background: #E4393C;
    color: #fff;
    border: none;
    cursor: pointer;
}
.comment-section {
    margin-top: 20px;
    background: #fff;
    border-radius: 8px;
    padding: 10px;
}
.comment {
    border-bottom: 1px solid #eee;
    padding: 5px 0;
}
.comment .stars {
    color: gold;
}
.comment-form input, .comment-form textarea, .comment-form select {
    width: 100%;
    padding:5px;
    margin: 5px 0;
}
.comment-form button {
    padding: 8px;
    background: #E4393C;
    color: #fff;
    border: none;
    cursor: pointer;
}
.recommend-section {
    margin-top: 20px;
    padding: 10px;
    background: #fff;
    border-radius: 8px;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
}
.recommend-card {
    width: 48%;
    background: #f9f9f9;
    margin-bottom: 10px;
    border-radius: 6px;
    padding: 5px;
    cursor: pointer;
}
.recommend-card img {
    width: 100%;
    border-radius: 4px;
}
.recommend-title {
    font-size: 14px;
    font-weight: bold;
}
.notify {
    position: fixed;
    top:20px;
    right:20px;
    background: #FFD700;
    padding: 10px;
    border-radius: 4px;
    display: none;
    z-index: 1000;
}
.countdown {
    margin-top:5px;
    font-weight: bold;
    color:#E4393C;
}
@media(max-width:600px){
    .recommend-card{ width:100%; }
}
</style>
</head>
<body>
<header>
    <div class="logo">LYF é›¶é£Ÿ</div>
    <nav>
        <a href="#">é¦–é¡µ</a> / 
        <a href="#">äº§å“</a> / 
        <a href="#">è”ç³»æˆ‘ä»¬</a>
    </nav>
    <div class="cart" onclick="toggleCart()">
        ğŸ›’
        <span class="cart-count" id="cart-count">0</span>
    </div>
</header>
<div class="main">
    <div class="product-carousel">
        <img id="carousel-image" src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="é¦™ç“œå­è‘µèŠ±å­">
        <div class="carousel-controls">
            <button onclick="prevImage()">â—€</button>
            <button onclick="nextImage()">â–¶</button>
        </div>
    </div>
    <div class="product-info">
        <div class="product-title">LYF é¦™ç“œå­è‘µèŠ±å­</div>
        <div class="product-subtitle">30g å°åŒ…è£… / 10åŒ…ç»„åˆè£…</div>
        <div class="price">
            <span class="price-now">ï¿¥16.9</span>
            <span class="price-old">ï¿¥29.9</span>
        </div>
        <div class="promos">é™æ—¶8æŠ˜ | æ»¡99å‡10 | ä»Šæ—¥ç‰¹æƒ </div>
        <div class="stock-warning" id="stock-warning"></div>
        <div class="countdown" id="countdown">é™æ—¶æŠ¢è´­ï¼š00:15:00</div>
        <div class="specs">
            è§„æ ¼ï¼š<select id="spec-select" onchange="changeSpec()">
                <option value="10åŒ…ç»„åˆè£…" data-price="16.9" data-stock="12">10åŒ…ç»„åˆè£…</option>
                <option value="5åŒ…ç»„åˆè£…" data-price="9.9" data-stock="5">5åŒ…ç»„åˆè£…</option>
            </select>
        </div>
        <div class="qty-control">
            <button onclick="changeQty(-1)">-</button>
            <input type="number" id="buy-qty" value="1" min="1">
            <button onclick="changeQty(1)">+</button>
        </div>
        <div class="buy-buttons">
            <button onclick="addToCart()">åŠ å…¥è´­ç‰©è½¦</button>
            <button onclick="buyNow()">ç«‹å³è´­ä¹°</button>
        </div>
        <div>
            <h4>äº§å“å–ç‚¹ï¼š</h4>
            <ul>
                <li>æºè‡ªæ–°ç–†ä¼˜è´¨ç“œå­</li>
                <li>ç‹¬ç«‹å°åŒ…è£…ï¼Œæ–¹ä¾¿æºå¸¦</li>
                <li>é€‚åˆåŠå…¬ã€ä¼‘é—²æ—¶äº«ç”¨</li>
                <li>æ˜¥èŠ‚å¹´è´§å¿…å¤‡</li>
            </ul>
        </div>
        <div>
            <h4>äº§å“å‚æ•°ï¼š</h4>
            <ul>
                <li>å‡€å«é‡ï¼š300g</li>
                <li>ä¿è´¨æœŸï¼š12ä¸ªæœˆ</li>
                <li>ç”Ÿäº§æ—¥æœŸï¼šè§åŒ…è£…</li>
                <li>å‚¨å­˜æ–¹å¼ï¼šé˜´å‡‰å¹²ç‡¥å¤„</li>
            </ul>
        </div>
    </div>
    <div class="comment-section">
        <h4>ç”¨æˆ·è¯„ä»·</h4>
        <div id="comment-list"></div>
        <div class="comment-form">
            <input type="text" id="comment-name" placeholder="æ‚¨çš„å§“å">
            <select id="comment-stars">
                <option value="5">â˜…â˜…â˜…â˜…â˜…</option>
                <option value="4">â˜…â˜…â˜…â˜…</option>
                <option value="3">â˜…â˜…â˜…</option>
                <option value="2">â˜…â˜…</option>
                <option value="1">â˜…</option>
            </select>
            <textarea id="comment-content" placeholder="æ‚¨çš„è¯„è®º"></textarea>
            <button onclick="submitComment()">æäº¤è¯„è®º</button>
        </div>
    </div>
    <div class="recommend-section">
        <h4>ä½ å¯èƒ½è¿˜å–œæ¬¢</h4>
        <div class="recommend-card">
            <img src="https://gd3.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg" alt="">
            <div class="recommend-title">åŸå‘³ç“œå­</div>
            <div>ï¿¥12.9</div>
        </div>
        <div class="recommend-card">
            <img src="https://img.alicdn.com/imgextra/i4/../../../***.jpg" alt="">
            <div class="recommend-title">å¥¶æ²¹å‘³ç“œå­</div>
            <div>ï¿¥14.9</div>
        </div>
        <div class="recommend-card">
            <img src="https://img.alicdn.com/imgextra/i4/../../../***.jpg" alt="">
            <div class="recommend-title">ç¢³çƒ¤ç“œå­</div>
            <div>ï¿¥15.9</div>
        </div>
    </div>
</div>
<div id="cart-sidebar">
    <h4>è´­ç‰©è½¦</h4>
    <div id="cart-items"></div>
    <div class="cart-total" id="cart-total">æ€»ä»·: ï¿¥0</div>
    <div class="cart-actions">
        <button onclick="checkout()">å»ç»“ç®—</button>
    </div>
</div>
<div class="notify" id="notify"></div>
<script>
let images=[
    "https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp",
    "https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b",
    "https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg"
];
let currentImage=0;
function prevImage(){
    currentImage=(currentImage-1+images.length)%images.length;
    document.getElementById("carousel-image").src=images[currentImage];
}
function nextImage(){
    currentImage=(currentImage+1)%images.length;
    document.getElementById("carousel-image").src=images[currentImage];
}
let cart=JSON.parse(localStorage.getItem('cart')||'[]');
let comments=JSON.parse(localStorage.getItem('comments')||'[]');
function renderCart(){
    let container=document.getElementById("cart-items");
    container.innerHTML="";
    let total=0;
    cart.forEach((item,index)=>{
        let div=document.createElement("div");
        div.className="cart-item";
        div.innerHTML=`<img src="${images[0]}"><div class="cart-item-details">${item.name}(${item.spec})<br>ï¿¥${item.price} x ${item.qty} <br><button onclick="changeCartQty(${index},-1)">-</button><button onclick="changeCartQty(${index},1)">+</button> <button onclick="removeCartItem(${index})">åˆ é™¤</button></div>`;
        container.appendChild(div);
        total+=item.price*item.qty;
    });
    document.getElementById("cart-total").innerText="æ€»ä»·: ï¿¥"+total.toFixed(2);
    document.getElementById("cart-count").innerText=cart.reduce((sum,i)=>sum+i.qty,0);
    localStorage.setItem('cart',JSON.stringify(cart));
}
function toggleCart(){
    document.getElementById("cart-sidebar").classList.toggle("active");
}
function changeQty(delta){
    let qtyInput=document.getElementById("buy-qty");
    let val=parseInt(qtyInput.value)+delta;
    if(val<1) val=1;
    qtyInput.value=val;
}
function changeSpec(){
    let sel=document.getElementById("spec-select");
    let price=parseFloat(sel.selectedOptions[0].dataset.price);
    let stock=parseInt(sel.selectedOptions[0].dataset.stock);
    document.querySelector(".price-now").innerText="ï¿¥"+price;
    if(stock<6){
        document.getElementById("stock-warning").innerText="åº“å­˜ç´§å¼ ï¼šä»…å‰©"+stock+"ä»¶";
    }else{
        document.getElementById("stock-warning").innerText="";
    }
}
function addToCart(){
    let specSel=document.getElementById("spec-select");
    let spec=specSel.value;
    let price=parseFloat(specSel.selectedOptions[0].dataset.price);
    let qty=parseInt(document.getElementById("buy-qty").value);
    let name=document.querySelector(".product-title").innerText;
    let found=false;
    cart.forEach(i=>{
        if(i.name===name && i.spec===spec){
            i.qty+=qty;
            found=true;
        }
    });
    if(!found){
        cart.push({name, spec, price, qty});
    }
    renderCart();
    showNotify("å·²åŠ å…¥è´­ç‰©è½¦ï¼");
}
function changeCartQty(index,delta){
    cart[index].qty+=delta;
    if(cart[index].qty<=0) cart.splice(index,1);
    renderCart();
}
function removeCartItem(index){
    cart.splice(index,1);
    renderCart();
}
function checkout(){
    alert("æ¨¡æ‹Ÿç»“ç®—æµç¨‹ã€‚æ„Ÿè°¢è´­ä¹°ï¼");
}
function showNotify(msg){
    let el=document.getElementById("notify");
    el.innerText=msg;
    el.style.display="block";
    setTimeout(()=>{el.style.display="none";},2000);
}
function renderComments(){
    let container=document.getElementById("comment-list");
    container.innerHTML="";
    comments.forEach(c=>{
        let div=document.createElement("div");
        div.className="comment";
        div.innerHTML=`<strong>${c.name}</strong> <span class="stars">${"â˜…".repeat(c.stars)}</span><br>${c.content}<br><small>${c.date}</small>`;
        container.appendChild(div);
    });
}
function submitComment(){
    let name=document.getElementById("comment-name").value.trim();
    let stars=parseInt(document.getElementById("comment-stars").value);
    let content=document.getElementById("comment-content").value.trim();
    if(!name||!content) return alert("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯");
    comments.push({name, stars, content, date:new Date().toLocaleString()});
    localStorage.setItem('comments',JSON.stringify(comments));
    renderComments();
    document.getElementById("comment-name").value="";
    document.getElementById("comment-content").value="";
}
function startCountdown(minutes){
    let totalSeconds=minutes*60;
    let timer=setInterval(()=>{
        totalSeconds--;
        let m=Math.floor(totalSeconds/60);
        let s=totalSeconds%60;
        document.getElementById("countdown").innerText=`é™æ—¶æŠ¢è´­ï¼š${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
        if(totalSeconds<=0){
            clearInterval(timer);
            document.getElementById("countdown").innerText="æŠ¢è´­ç»“æŸï¼";
        }
    },1000);
}
window.onload=function(){
    renderCart();
    renderComments();
    startCountdown(15);
    changeSpec();
}
</script>
</body>
</html>