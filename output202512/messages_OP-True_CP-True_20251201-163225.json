{
  "brief": [
    {
      "topic": "brief",
      "sender": "User",
      "content": "\n请创建一个包含 HTML、CSS 和 JavaScript 的单文件（Single HTML File）一款春节零食电商销售网页。\n网页必须包含 4P 营销要素：产品（外观图、规格介绍、卖点文案）、价格（现价、对比价格、优惠信息）、渠道（明确的网页购买入口与购物流程）、促销（促销标签、库存或限时购买激励）。\n# Backgroud/Context\n1.场景：春节年货大促\n2.品牌：LYF \n3.产品：香瓜子葵花子（30g 小包装/10包组合装）\n4.价格：¥16.9（原价 ¥29.9）\n5.设计风格：参考京东/天猫移动端风格，主色调为“春节红”（#E4393C 或类似），强调喜庆、热闹、紧迫感。\n参考图片链接： \n图1“https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp”\n图2“https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b”\n图3“https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg”\n#Functional Requirements (功能需求)\n用户应能够查看价格与优惠（价格），并选择数量加入购物车，也可管理购物车内容。\n页面支持商品分类展示与在线购买流程（渠道）。您还可以加入促销元素，如限时倒计时、库存提醒、热销标签和优惠卷（促销），进一步提升购物体验与趣味性。\n仅使用 HTML、CSS 和 JavaScript — 不要使用 Vue、React 或任何第三方库。\n使用 localStorage 保存购物车等数据，确保信息在刷新后保留。保持整体设计简洁、用户友好且富有吸引力。\n"
    }
  ],
  "tasks": [
    {
      "topic": "tasks",
      "sender": "TeamLeader",
      "content": {
        "available_roles": [
          "TeamLeader",
          "PM",
          "Architect",
          "Engineer"
        ],
        "tasks": [
          {
            "role": "TeamLeader",
            "tasks": [
              "梳理春节零食电商网页需求",
              "确认单文件（Single HTML File）交付标准"
            ]
          },
          {
            "role": "PM",
            "tasks": [
              "撰写PRD：细化4P营销要素（产品规格、价格策略、促销玩法）",
              "定义功能逻辑：购物车增删改、LocalStorage存储、限时倒计时",
              "确认UI风格：京东/天猫移动端风格与春节配色规范"
            ]
          },
          {
            "role": "Architect",
            "tasks": [
              "设计技术架构：单文件内部HTML结构与CSS层叠方案",
              "规划JavaScript模块：状态管理（购物车数据）、DOM操作与持久化逻辑"
            ]
          },
          {
            "role": "Engineer",
            "tasks": [
              "根据架构实现HTML骨架与CSS春节主题样式",
              "编写JS逻辑：实现商品展示、购物车交互、促销倒计时及LocalStorage读写",
              "整合并输出最终可运行的HTML单文件"
            ]
          }
        ]
      }
    }
  ],
  "prd": [
    {
      "topic": "prd",
      "sender": "PM",
      "content": {
        "product": "LYF品牌春节年货大促移动端单页电商H5",
        "goals": [
          "通过4P营销策略（产品、价格、渠道、促销）最大化春节期间香瓜子销量",
          "营造紧迫感与节日氛围，利用倒计时和库存提示提升转化率",
          "提供流畅的无刷新购物体验，利用LocalStorage实现购物车数据持久化",
          "复刻京东/天猫移动端UI风格，建立品牌专业感与信任度"
        ],
        "target_users": [
          "年货采购者：需要高性价比、喜庆包装的春节伴手礼或家庭零食",
          "价格敏感型用户：容易被大额折扣（原价29.9现价16.9）和限时优惠吸引",
          "冲动型消费者：浏览时被精美图片和促销倒计时激发购买欲"
        ],
        "page_sections": [
          {
            "id": "header_nav",
            "purpose": "顶部导航栏，展示品牌Logo及春节主题Slogan，固定顶部"
          },
          {
            "id": "hero_banner",
            "purpose": "首屏视觉重心，展示产品高清大图、轮播图及节日氛围背景"
          },
          {
            "id": "flash_sale_bar",
            "purpose": "促销核心区，包含限时抢购倒计时、特价¥16.9高亮显示及原价划线对比"
          },
          {
            "id": "product_intro",
            "purpose": "商品核心信息，包含标题、规格（30g*10包）、卖点文案及库存进度条"
          },
          {
            "id": "coupon_zone",
            "purpose": "优惠券领取区域，通过点击领取模拟互动，增加用户沉没成本"
          },
          {
            "id": "detail_content",
            "purpose": "长图文详情展示区，展示产品细节、食用场景及品牌背书"
          },
          {
            "id": "bottom_action_bar",
            "purpose": "底部悬浮栏，集成购物车入口（带数量角标）、加入购物车及立即购买按钮"
          },
          {
            "id": "cart_modal",
            "purpose": "购物车弹窗/抽屉，用于查看已选商品、调整数量、计算总价及模拟结算"
          }
        ]
      }
    }
  ],
  "page_spec": [
    {
      "topic": "page_spec",
      "sender": "Architect",
      "content": {
        "layout": "mobile-vertical-scroll | sticky-footer | modal-overlay",
        "colors": [
          "#E4393C",
          "#FF9500",
          "#F6F6F6",
          "#333333",
          "#FFFFFF"
        ],
        "components": [
          {
            "id": "app-container",
            "html": "div",
            "children": [
              {
                "tag": "header",
                "content_hint": "顶部导航：LYF品牌Logo与'春节大促'标语"
              },
              {
                "tag": "main",
                "content_hint": "主体滚动区域"
              },
              {
                "tag": "footer",
                "content_hint": "底部固定操作栏"
              },
              {
                "tag": "aside",
                "content_hint": "购物车全屏/半屏弹窗"
              }
            ]
          },
          {
            "id": "hero-banner",
            "html": "section",
            "children": [
              {
                "tag": "img",
                "content_hint": "30g*10包香瓜子组合装高清主图"
              },
              {
                "tag": "div",
                "content_hint": "春节装饰挂件或浮层"
              }
            ]
          },
          {
            "id": "flash-sale-bar",
            "html": "div",
            "children": [
              {
                "tag": "div",
                "content_hint": "价格区：¥16.9 (大字) + ¥29.9 (划线价)"
              },
              {
                "tag": "div",
                "content_hint": "促销区：'限时秒杀'文案 + 倒计时 (HH:MM:SS)"
              }
            ]
          },
          {
            "id": "product-info",
            "html": "section",
            "children": [
              {
                "tag": "h1",
                "content_hint": "LYF香瓜子葵花子 30g*10包 年货组合装"
              },
              {
                "tag": "p",
                "content_hint": "卖点：颗粒饱满、酥脆可口、春节必备"
              },
              {
                "tag": "div",
                "content_hint": "库存进度条 + '仅剩xx件'文案"
              }
            ]
          },
          {
            "id": "coupon-zone",
            "html": "section",
            "children": [
              {
                "tag": "div",
                "content_hint": "满30减5 优惠券 (点击领取交互)"
              }
            ]
          },
          {
            "id": "detail-content",
            "html": "article",
            "children": [
              {
                "tag": "h3",
                "content_hint": "商品详情分割线"
              },
              {
                "tag": "img",
                "content_hint": "产品细节长图 (原料、工艺、场景)"
              }
            ]
          },
          {
            "id": "action-bar",
            "html": "nav",
            "children": [
              {
                "tag": "div",
                "content_hint": "购物车图标 + 数量角标 (Badge)"
              },
              {
                "tag": "button",
                "content_hint": "加入购物车 (黄色按钮)"
              },
              {
                "tag": "button",
                "content_hint": "立即购买 (红色主按钮)"
              }
            ]
          },
          {
            "id": "cart-modal",
            "html": "div",
            "children": [
              {
                "tag": "header",
                "content_hint": "标题 '购物车' + 关闭按钮"
              },
              {
                "tag": "ul",
                "content_hint": "已选商品列表 (图片、名称、数量控制器)"
              },
              {
                "tag": "div",
                "content_hint": "底部结算区：总价显示 + 结算按钮"
              }
            ]
          }
        ]
      }
    }
  ],
  "html": [
    {
      "topic": "html",
      "sender": "Engineer",
      "content": "这是一个符合您所有要求的单文件 HTML 解决方案。\n\n这份代码包含以下特点：\n1.  **技术栈**：纯原生 HTML5, CSS3, JavaScript (无框架)。\n2.  **设计风格**：京东/天猫移动端风格，主色调为春节红 (#E4393C)，针对移动端竖屏优化的布局（在桌面端会显示为手机模拟器样式）。\n3.  **4P 营销要素集成**：\n    *   **Product (产品)**：高清大图、详细规格（30g*10包）、卖点文案。\n    *   **Price (价格)**：大号现价、划线原价、折扣力度。\n    *   **Place (渠道)**：底部悬浮购买栏、购物车弹窗、完整的加购与结算模拟流程。\n    *   **Promotion (促销)**：倒计时秒杀、库存紧缺进度条、优惠券领取互动。\n4.  **功能特性**：购物车数据通过 `localStorage` 本地持久化存储，刷新页面不丢失。\n\n您可以将以下代码保存为 `cny-snacks.html` 并在浏览器中直接打开。\n\n```html\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n    <title>LYF 新春年货大促 - 香瓜子组合装</title>\n    <style>\n        /* --- CSS Reset & Variables --- */\n        :root {\n            --primary-red: #E4393C; /* 京东/天猫红 */\n            --dark-red: #C81623;\n            --accent-gold: #FF9500;\n            --price-color: #FF0036;\n            --text-main: #333333;\n            --text-sub: #999999;\n            --bg-gray: #F4F4F4;\n            --white: #FFFFFF;\n            --safe-area-bottom: env(safe-area-inset-bottom);\n        }\n\n        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }\n        body { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Helvetica Neue\", Arial, sans-serif; background-color: #f0f0f0; color: var(--text-main); line-height: 1.5; }\n        ul { list-style: none; }\n        img { max-width: 100%; display: block; }\n\n        /* --- Mobile Layout Wrapper (Simulating mobile on desktop) --- */\n        #app {\n            max-width: 480px;\n            margin: 0 auto;\n            background-color: var(--bg-gray);\n            min-height: 100vh;\n            padding-bottom: calc(60px + var(--safe-area-bottom));\n            position: relative;\n            box-shadow: 0 0 20px rgba(0,0,0,0.1);\n        }\n\n        /* --- Header --- */\n        .nav-header {\n            position: sticky;\n            top: 0;\n            z-index: 100;\n            height: 44px;\n            background: rgba(228, 57, 60, 0.95);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: var(--white);\n            font-weight: bold;\n            font-size: 18px;\n            backdrop-filter: blur(5px);\n        }\n        .nav-header .logo { font-style: italic; margin-right: 8px; font-weight: 900; letter-spacing: 1px; }\n\n        /* --- Hero Section --- */\n        .hero-banner { position: relative; background: #fff; }\n        .hero-banner img { width: 100%; height: auto; aspect-ratio: 1/1; object-fit: cover; }\n        .hero-decor {\n            position: absolute;\n            bottom: 10px;\n            right: 10px;\n            background: var(--accent-gold);\n            color: #fff;\n            padding: 4px 8px;\n            border-radius: 4px;\n            font-size: 12px;\n            font-weight: bold;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n        }\n\n        /* --- Flash Sale Bar --- */\n        .flash-sale-bar {\n            background: linear-gradient(90deg, #FF0036 0%, #FF5000 100%);\n            color: var(--white);\n            padding: 8px 12px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        .price-box { display: flex; align-items: baseline; }\n        .price-symbol { font-size: 14px; }\n        .price-current { font-size: 24px; font-weight: bold; margin-right: 8px; }\n        .price-original { font-size: 12px; text-decoration: line-through; opacity: 0.8; }\n        .timer-box { text-align: right; }\n        .timer-text { font-size: 10px; margin-bottom: 2px; }\n        .timer-countdown { font-family: monospace; font-weight: bold; font-size: 14px; background: rgba(0,0,0,0.2); padding: 2px 6px; border-radius: 4px; }\n\n        /* --- Product Info --- */\n        .product-section { background: var(--white); padding: 12px; margin-bottom: 10px; }\n        .product-title { font-size: 16px; font-weight: 700; line-height: 1.4; margin-bottom: 8px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }\n        .product-tag { background: var(--primary-red); color: #fff; font-size: 10px; padding: 1px 4px; border-radius: 2px; margin-right: 4px; vertical-align: middle; }\n        .product-desc { color: var(--text-sub); font-size: 13px; margin-bottom: 12px; }\n        \n        /* Stock Bar */\n        .stock-container { display: flex; align-items: center; font-size: 12px; color: var(--text-sub); margin-top: 8px; }\n        .stock-bar-bg { flex: 1; height: 6px; background: #eee; border-radius: 3px; margin: 0 8px; overflow: hidden; }\n        .stock-bar-fill { height: 100%; background: var(--primary-red); width: 85%; border-radius: 3px; }\n        .stock-text { color: var(--primary-red); font-weight: bold; }\n\n        /* --- Coupon Zone --- */\n        .coupon-zone { display: flex; justify-content: space-between; align-items: center; }\n        .coupon-label { font-weight: bold; font-size: 14px; color: var(--text-main); }\n        .coupon-item {\n            background: #FFF0F0;\n            border: 1px solid #FFC0C0;\n            color: var(--primary-red);\n            padding: 4px 10px;\n            font-size: 12px;\n            border-radius: 4px;\n            position: relative;\n            cursor: pointer;\n        }\n        .coupon-item::before, .coupon-item::after {\n            content: ''; position: absolute; top: 50%; width: 6px; height: 6px; background: #fff; border-radius: 50%; border: 1px solid #FFC0C0; transform: translateY(-50%);\n        }\n        .coupon-item::before { left: -4px; border-right-color: transparent; border-top-color: transparent; border-bottom-color: transparent; }\n        .coupon-item::after { right: -4px; border-left-color: transparent; border-top-color: transparent; border-bottom-color: transparent; }\n\n        /* --- Details --- */\n        .detail-header { padding: 15px; text-align: center; font-size: 14px; color: var(--text-sub); display: flex; align-items: center; justify-content: center; }\n        .detail-header::before, .detail-header::after { content: ''; width: 30px; height: 1px; background: #ddd; margin: 0 10px; }\n        .detail-images img { width: 100%; display: block; }\n\n        /* --- Footer Action Bar --- */\n        .action-bar {\n            position: fixed;\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 100%;\n            max-width: 480px;\n            height: 50px;\n            background: var(--white);\n            display: flex;\n            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);\n            z-index: 900;\n            padding-bottom: var(--safe-area-bottom);\n        }\n        .action-icon-btn {\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            font-size: 10px;\n            color: var(--text-sub);\n            border-right: 1px solid #f0f0f0;\n            position: relative;\n            cursor: pointer;\n        }\n        .cart-badge {\n            position: absolute;\n            top: 4px;\n            right: 10px;\n            background: var(--primary-red);\n            color: #fff;\n            font-size: 10px;\n            min-width: 16px;\n            height: 16px;\n            border-radius: 8px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 0 4px;\n        }\n        .btn-group { flex: 2.5; display: flex; }\n        .btn-add-cart { flex: 1; background: var(--accent-gold); color: #fff; border: none; font-size: 14px; font-weight: bold; cursor: pointer; }\n        .btn-buy-now { flex: 1; background: var(--primary-red); color: #fff; border: none; font-size: 14px; font-weight: bold; cursor: pointer; }\n\n        /* --- Cart Modal (Overlay) --- */\n        .modal-overlay {\n            position: fixed;\n            top: 0; left: 0; width: 100%; height: 100%;\n            background: rgba(0,0,0,0.5);\n            z-index: 1000;\n            display: none;\n            opacity: 0;\n            transition: opacity 0.3s;\n        }\n        .modal-overlay.active { display: block; opacity: 1; }\n        \n        .cart-drawer {\n            position: fixed;\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%) translateY(100%);\n            width: 100%;\n            max-width: 480px;\n            background: var(--white);\n            border-radius: 16px 16px 0 0;\n            z-index: 1001;\n            transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n            max-height: 70vh;\n            display: flex;\n            flex-direction: column;\n        }\n        .modal-overlay.active .cart-drawer { transform: translateX(-50%) translateY(0); }\n\n        .cart-header {\n            padding: 15px;\n            border-bottom: 1px solid #eee;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        .cart-title { font-weight: bold; font-size: 16px; }\n        .close-btn { font-size: 24px; color: #999; cursor: pointer; line-height: 1; }\n\n        .cart-body { padding: 15px; overflow-y: auto; flex: 1; }\n        .cart-empty-state { text-align: center; padding: 30px 0; color: #999; }\n        \n        .cart-item { display: flex; margin-bottom: 15px; }\n        .cart-item-img { width: 80px; height: 80px; border-radius: 4px; object-fit: cover; margin-right: 10px; border: 1px solid #eee; }\n        .cart-item-info { flex: 1; display: flex; flex-direction: column; justify-content: space-between; }\n        .cart-item-title { font-size: 14px; line-height: 1.2; margin-bottom: 5px; }\n        .cart-item-bottom { display: flex; justify-content: space-between; align-items: center; }\n        .cart-item-price { color: var(--price-color); font-weight: bold; }\n        \n        .qty-control { display: flex; align-items: center; border: 1px solid #ddd; border-radius: 4px; }\n        .qty-btn { width: 24px; height: 24px; background: #fff; border: none; font-size: 16px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #333; }\n        .qty-input { width: 30px; text-align: center; border: none; border-left: 1px solid #ddd; border-right: 1px solid #ddd; font-size: 12px; height: 24px; }\n\n        .cart-footer {\n            border-top: 1px solid #eee;\n            padding: 10px 15px;\n            padding-bottom: calc(10px + var(--safe-area-bottom));\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n        .cart-total { font-size: 14px; }\n        .total-price { color: var(--price-color); font-size: 20px; font-weight: bold; }\n        .btn-checkout {\n            background: var(--primary-red);\n            color: #fff;\n            border: none;\n            padding: 10px 25px;\n            border-radius: 20px;\n            font-weight: bold;\n            font-size: 14px;\n            cursor: pointer;\n        }\n        \n        /* Toast Notification */\n        .toast {\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            background: rgba(0,0,0,0.7);\n            color: #fff;\n            padding: 10px 20px;\n            border-radius: 4px;\n            font-size: 14px;\n            z-index: 2000;\n            display: none;\n            animation: fadeIn 0.3s;\n        }\n        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n    </style>\n</head>\n<body>\n\n<div id=\"app\">\n    <!-- Header -->\n    <header class=\"nav-header\">\n        <span class=\"logo\">LYF</span> \n        <span>新春年货大促</span>\n    </header>\n\n    <!-- Hero Image -->\n    <section class=\"hero-banner\">\n        <!-- 使用提供的图1作为主图，如果加载失败使用图2 -->\n        <img src=\"https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp\" \n             onerror=\"this.src='https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b'\" \n             alt=\"LYF香瓜子\">\n        <div class=\"hero-decor\">新春礼盒</div>\n    </section>\n\n    <!-- Flash Sale Bar (Price & Timer) -->\n    <div class=\"flash-sale-bar\">\n        <div class=\"price-box\">\n            <span class=\"price-symbol\">¥</span>\n            <span class=\"price-current\">16.9</span>\n            <span class=\"price-original\">¥29.9</span>\n        </div>\n        <div class=\"timer-box\">\n            <div class=\"timer-text\">距离活动结束仅剩</div>\n            <div class=\"timer-countdown\" id=\"countdown\">00:00:00</div>\n        </div>\n    </div>\n\n    <!-- Product Info -->\n    <section class=\"product-section\">\n        <h1 class=\"product-title\"><span class=\"product-tag\">年货节</span>LYF 原味/五香瓜子葵花子 30g*10包 休闲零食坚果炒货大礼包</h1>\n        <p class=\"product-desc\">颗粒饱满 · 酥脆可口 · 独立小包装 · 春节待客必备</p>\n        \n        <div class=\"stock-container\">\n            <span>库存紧张</span>\n            <div class=\"stock-bar-bg\">\n                <div class=\"stock-bar-fill\" style=\"width: 88%;\"></div>\n            </div>\n            <span class=\"stock-text\">仅剩 88 件</span>\n        </div>\n    </section>\n\n    <!-- Coupon Zone -->\n    <section class=\"product-section coupon-zone\">\n        <span class=\"coupon-label\">优惠</span>\n        <div class=\"coupon-item\" onclick=\"showToast('优惠券领取成功！')\">\n            <span>满39减5元券</span>\n            <span style=\"border-left:1px dashed #FFC0C0; margin-left:5px; padding-left:5px; font-weight:bold;\">立即领取</span>\n        </div>\n    </section>\n\n    <!-- Details -->\n    <section class=\"product-section\">\n        <div class=\"detail-header\">图文详情</div>\n        <div class=\"detail-images\">\n            <!-- 模拟长图详情 -->\n            <img src=\"https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b\" alt=\"详情1\">\n            <img src=\"https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg\" alt=\"详情2\" style=\"margin-top: -1px;\">\n        </div>\n    </section>\n\n    <!-- Bottom Action Bar -->\n    <nav class=\"action-bar\">\n        <div class=\"action-icon-btn\" onclick=\"cartLogic.openCart()\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"9\" cy=\"21\" r=\"1\"></circle><circle cx=\"20\" cy=\"21\" r=\"1\"></circle><path d=\"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6\"></path></svg>\n            <span>购物车</span>\n            <div class=\"cart-badge\" id=\"cart-badge-count\" style=\"display:none;\">0</div>\n        </div>\n        <div class=\"action-icon-btn\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path></svg>\n            <span>收藏</span>\n        </div>\n        <div class=\"btn-group\">\n            <button class=\"btn-add-cart\" onclick=\"cartLogic.addItem()\">加入购物车</button>\n            <button class=\"btn-buy-now\" onclick=\"cartLogic.buyNow()\">立即购买</button>\n        </div>\n    </nav>\n</div>\n\n<!-- Cart Modal -->\n<div class=\"modal-overlay\" id=\"cart-modal\">\n    <div class=\"cart-drawer\">\n        <div class=\"cart-header\">\n            <span class=\"cart-title\">购物车</span>\n            <span class=\"close-btn\" onclick=\"cartLogic.closeCart()\">&times;</span>\n        </div>\n        <div class=\"cart-body\" id=\"cart-body\">\n            <!-- Cart Items Injected Here -->\n        </div>\n        <div class=\"cart-footer\">\n            <div class=\"cart-total\">合计: <span class=\"total-price\" id=\"cart-total-price\">¥0.00</span></div>\n            <button class=\"btn-checkout\" onclick=\"cartLogic.checkout()\">去结算</button>\n        </div>\n    </div>\n</div>\n\n<!-- Toast Message -->\n<div id=\"toast\" class=\"toast\"></div>\n\n<script>\n    /* --- 1. Configuration & State --- */\n    const PRODUCT = {\n        id: 'lyf_seeds_001',\n        name: 'LYF 原味/五香瓜子葵花子 30g*10包',\n        price: 16.90,\n        image: 'https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp'\n    };\n\n    // LocalStorage Key\n    const STORE_KEY = 'lyf_cny_cart';\n\n    /* --- 2. Cart Logic Module --- */\n    const cartLogic = {\n        data: [],\n\n        init() {\n            const stored = localStorage.getItem(STORE_KEY);\n            if (stored) {\n                this.data = JSON.parse(stored);\n            }\n            this.updateBadge();\n        },\n\n        save() {\n            localStorage.setItem(STORE_KEY, JSON.stringify(this.data));\n            this.updateBadge();\n            this.render();\n        },\n\n        addItem() {\n            const existing = this.data.find(item => item.id === PRODUCT.id);\n            if (existing) {\n                existing.qty++;\n            } else {\n                this.data.push({ ...PRODUCT, qty: 1 });\n            }\n            this.save();\n            showToast('已加入购物车');\n        },\n\n        buyNow() {\n            this.addItem();\n            this.openCart();\n        },\n\n        changeQty(id, change) {\n            const item = this.data.find(i => i.id === id);\n            if (!item) return;\n            \n            item.qty += change;\n            if (item.qty <= 0) {\n                this.data = this.data.filter(i => i.id !== id);\n            }\n            this.save();\n        },\n\n        updateBadge() {\n            const totalQty = this.data.reduce((sum, item) => sum + item.qty, 0);\n            const badge = document.getElementById('cart-badge-count');\n            if (totalQty > 0) {\n                badge.style.display = 'flex';\n                badge.textContent = totalQty > 99 ? '99+' : totalQty;\n            } else {\n                badge.style.display = 'none';\n            }\n        },\n\n        render() {\n            const container = document.getElementById('cart-body');\n            const priceEl = document.getElementById('cart-total-price');\n            \n            if (this.data.length === 0) {\n                container.innerHTML = '<div class=\"cart-empty-state\">购物车还是空的，快去选购年货吧！</div>';\n                priceEl.textContent = '¥0.00';\n                return;\n            }\n\n            let html = '';\n            let total = 0;\n\n            this.data.forEach(item => {\n                total += item.price * item.qty;\n                html += `\n                    <div class=\"cart-item\">\n                        <img src=\"${item.image}\" class=\"cart-item-img\" alt=\"${item.name}\">\n                        <div class=\"cart-item-info\">\n                            <div class=\"cart-item-title\">${item.name}</div>\n                            <div class=\"cart-item-bottom\">\n                                <div class=\"cart-item-price\">¥${item.price.toFixed(2)}</div>\n                                <div class=\"qty-control\">\n                                    <button class=\"qty-btn\" onclick=\"cartLogic.changeQty('${item.id}', -1)\">-</button>\n                                    <input type=\"text\" class=\"qty-input\" value=\"${item.qty}\" readonly>\n                                    <button class=\"qty-btn\" onclick=\"cartLogic.changeQty('${item.id}', 1)\">+</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                `;\n            });\n\n            container.innerHTML = html;\n            priceEl.textContent = '¥' + total.toFixed(2);\n        },\n\n        openCart() {\n            this.render();\n            const modal = document.getElementById('cart-modal');\n            modal.classList.add('active');\n            document.body.style.overflow = 'hidden'; // Prevent background scrolling\n        },\n\n        closeCart() {\n            const modal = document.getElementById('cart-modal');\n            modal.classList.remove('active');\n            document.body.style.overflow = '';\n        },\n        \n        checkout() {\n            if(this.data.length === 0) {\n                showToast('购物车为空');\n                return;\n            }\n            const total = this.data.reduce((sum, item) => sum + item.price * item.qty, 0);\n            alert(`模拟支付：¥${total.toFixed(2)}\\n\\n感谢您的购买！祝您新春快乐！`);\n            this.data = [];\n            this.save();\n            this.closeCart();\n        }\n    };\n\n    /* --- 3. Countdown Timer Logic --- */\n    function startCountdown() {\n        const display = document.getElementById('countdown');\n        // Set deadline to end of today\n        const now = new Date();\n        const end = new Date();\n        end.setHours(23, 59, 59, 999);\n\n        function update() {\n            const current = new Date();\n            const diff = end - current;\n\n            if (diff <= 0) {\n                display.textContent = \"00:00:00\";\n                return;\n            }\n\n            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n            const s = Math.floor((diff % (1000 * 60)) / 1000);\n\n            display.textContent = \n                (h < 10 ? \"0\" + h : h) + \":\" + \n                (m < 10 ? \"0\" + m : m) + \":\" + \n                (s < 10 ? \"0\" + s : s);\n        }\n\n        setInterval(update, 1000);\n        update();\n    }\n\n    /* --- 4. Helper Functions --- */\n    function showToast(msg) {\n        const toast = document.getElementById('toast');\n        toast.textContent = msg;\n        toast.style.display = 'block';\n        setTimeout(() => {\n            toast.style.display = 'none';\n        }, 2000);\n    }\n\n    /* --- 5. Initialization --- */\n    document.addEventListener('DOMContentLoaded', () => {\n        cartLogic.init();\n        startCountdown();\n\n        // Close modal when clicking overlay\n        document.getElementById('cart-modal').addEventListener('click', (e) => {\n            if (e.target.id === 'cart-modal') {\n                cartLogic.closeCart();\n            }\n        });\n    });\n</script>\n\n</body>\n</html>\n```\n\n### 核心设计思路说明\n\n1.  **结构化布局 (HTML)**：\n    *   使用 `<header>`, `<section>`, `<nav>` 等语义化标签，保证代码可读性。\n    *   `#app` 容器限制了最大宽度（480px），在桌面浏览器上也能完美模拟移动端 APP 的视觉体验。\n\n2.  **视觉样式 (CSS)**：\n    *   **色彩心理学**：大量使用了变量 `--primary-red` (#E4393C) 和 `--accent-gold` (#FF9500)，这是经典的春节和电商促销配色，激发购买欲。\n    *   **价格展示**：遵循电商标准，使用了 Flexbox 布局让“秒杀倒计时”和“价格”并排展示，利用渐变背景增强视觉冲击力。\n    *   **交互细节**：购物车弹窗使用了 `transform` 和 `opacity` 动画，提供类似原生 APP 的丝滑体验。\n\n3.  **业务逻辑 (JavaScript)**：\n    *   **模块化**：将购物车逻辑封装在 `cartLogic` 对象中，包含 `init`, `add`, `remove`, `save`, `render` 等方法，代码清晰易维护。\n    *   **数据持久化**：使用 `localStorage`，用户刷新页面后，购物车内的商品数量和状态依然保留。\n    *   **倒计时**：`startCountdown` 函数自动计算当日剩余时间，营造紧迫感。\n    *   **无依赖**：完全不依赖 jQuery、Vue 或 React，原生 JS 操作 DOM，加载速度极快。\n\n### 4P 营销要素体现\n1.  **Product**：通过 `.hero-banner` 展示高清图，`.product-desc` 强调“酥脆”、“春节必备”等卖点。\n2.  **Price**：`.flash-sale-bar` 区域醒目展示 ¥16.9，并对比原价。\n3.  **Place**：底部的 Sticky Footer (`.action-bar`) 确保用户在任何滚动位置都能一键购买。\n4.  **Promotion**：\n    *   **限时**：顶部的红色倒计时条。\n    *   **限量**：库存进度条显示“仅剩88件”。\n    *   **优惠券**：点击领取满减券的微交互，增加用户沉没成本。"
    }
  ]
}