<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 新疆葵花籽 春节热销详情页</title>
<style>
body{margin:0;font-family:"微软雅黑",sans-serif;background:#F4F4F5;color:#333;}
header,nav,section,main,footer,aside{padding:10px;}
header{background:#D32F2F;color:#fff;display:flex;justify-content:center;align-items:center;}
header input{flex:1;padding:8px;border:none;border-radius:4px;}
header button{background:#FFEB3B;border:none;padding:8px 12px;margin-left:8px;border-radius:4px;cursor:pointer;}
nav{background:#fff;}
nav ul{list-style:none;display:flex;gap:10px;margin:0;padding:0;}
nav li{padding:5px 10px;background:#FFEB3B;border-radius:4px;cursor:pointer;}
#product-gallery{display:flex;gap:15px;background:#fff;}
#product-gallery img.main-image{width:300px;height:auto;border:2px solid #ddd;border-radius:4px;}
#product-gallery .thumbnails img{width:80px;height:auto;border:1px solid #ccc;cursor:pointer;margin-right:5px;}
#product-info{background:#fff;}
#product-info h1{margin:0;color:#D32F2F;}
.price-box{display:flex;gap:10px;align-items:center;}
.price-box .current-price{font-size:1.5em;color:#D32F2F;}
.price-box .old-price{text-decoration:line-through;color:#888;}
#countdown{font-weight:bold;color:#D32F2F;}
#coupon-section{display:flex;gap:10px;background:#fff;padding:10px;}
.coupon{border:2px dashed #D32F2F;padding:10px;border-radius:8px;cursor:pointer;flex:1;text-align:center;}
.coupon.active{background:#FFEB3B;}
main{background:#fff;}
#review-section{background:#fff;}
#review-section select{margin-bottom:10px;padding:5px;}
#review-section ul{list-style:none;padding:0;}
#review-section li{border-bottom:1px solid #eee;padding:8px 0;}
footer{position:fixed;bottom:0;left:0;right:0;background:#D32F2F;text-align:center;padding:10px;}
footer button{background:#FFEB3B;border:none;padding:12px 20px;border-radius:4px;font-size:1.2em;cursor:pointer;}
#cart-modal{position:fixed;left:0;right:0;bottom:-100%;background:rgba(255,255,255,0.95);transition:bottom 0.3s;box-shadow:0 -2px 10px rgba(0,0,0,0.3);padding:20px;}
#cart-modal.show{bottom:0;}
#cart-modal .modal-content{max-width:400px;margin:auto;text-align:center;}
#random-optimization{background:#fff;margin-top:10px;}
/* Responsive */
@media(max-width:600px){
  #product-gallery{flex-direction:column;align-items:center;}
}
</style>
</head>
<body>

<header id="search-bar">
  <input type="text" placeholder="搜索零食">
  <button>搜索</button>
</header>

<nav id="nav-bar">
  <ul>
    <li>首页</li>
    <li>春节专区</li>
    <li>零食分类</li>
    <li>我的订单</li>
  </ul>
</nav>

<section id="product-gallery">
  <img src="https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg" alt="新疆葵花籽" class="main-image" id="mainImage">
  <div class="thumbnails">
    <img src="https://pic1.zhimg.com/v2-0a72a4246fde463055bbcd021d58d6b0_1440w.jpg?source=172ae18b" alt="缩略图1" onclick="switchImage(this)">
    <img src="https://www.foodnext.net/dispPageBox/getFile/GetImg.aspx?FileLocation=%2FPJ-FOODNEXT%2FFiles%2F&FileName=photo-44541-i.jpg" alt="缩略图2" onclick="switchImage(this)">
  </div>
</section>

<section id="product-info">
  <h1>LYF 新疆葵花籽（30g×10包）</h1>
  <p>来自新疆优质葵花籽，颗粒饱满，香脆可口，独立小包装，方便分享，春节送礼佳品。</p>
</section>

<section id="price-and-countdown">
  <div class="price-box">
    <span class="current-price" id="currentPrice">￥16.9</span>
    <span class="old-price">￥22.9</span>
  </div>
  <div>春节限时抢购倒计时：<span id="countdown"></span></div>
</section>

<section id="coupon-section">
  <div class="coupon" data-discount="{\"threshold\":10,\"reduce\":2}">A券：满10减2元</div>
  <div class="coupon" data-discount="{\"threshold\":20,\"reduce\":5}">B券：满20减5元</div>
</section>

<main id="detail-description">
  <p>产地：新疆<br>配料：葵花籽、食用盐<br>储存方式：请置于阴凉干燥处，避免阳光直射。</p>
</main>

<section id="review-section">
  <select id="reviewFilter">
    <option value="all">全部评论</option>
    <option value="good">好评</option>
    <option value="mid">中评</option>
    <option value="bad">差评</option>
  </select>
  <ul id="reviewList">
    <li data-type="good">籽香味足，包装干净！</li>
    <li data-type="mid">味道还行，就是量少。</li>
    <li data-type="bad">有点潮湿，不太香。</li>
  </ul>
</section>

<section id="random-optimization">
  <div id="randomRec"></div>
</section>

<footer id="buy-button">
  <button onclick="showCart()">立即购买</button>
</footer>

<aside id="cart-modal">
  <div class="modal-content">
    <div id="cartInfo">商品：LYF 新疆葵花籽 ×10包</div>
    <p>最终价格：<span id="finalPrice"></span></p>
    <button onclick="confirmPay()">确认支付</button>
  </div>
</aside>

<script>
function switchImage(el){document.getElementById('mainImage').src=el.src;}
function countdownTimer(){
  let end=new Date();end.setHours(end.getHours()+2);
  let timer=setInterval(()=>{
    let diff=end-new Date();
    if(diff<=0){clearInterval(timer);document.getElementById('countdown').innerText='活动已结束';return;}
    let h=Math.floor(diff/1000/60/60);
    let m=Math.floor((diff/1000/60)%60);
    let s=Math.floor((diff/1000)%60);
    document.getElementById('countdown').innerText=`${h}小时${m}分${s}秒`;
  },1000);
}
countdownTimer();

// 优惠券选择与价格计算
let selectedCoupon=null;
document.querySelectorAll('.coupon').forEach(c=>{
  c.addEventListener('click',()=>{
    document.querySelectorAll('.coupon').forEach(cc=>cc.classList.remove('active'));
    c.classList.add('active');
    selectedCoupon=JSON.parse(c.dataset.discount);
    updateFinalPrice();
  });
});
function updateFinalPrice(){
  let price=16.9;
  if(selectedCoupon && price>=selectedCoupon.threshold){
    price-=selectedCoupon.reduce;
  }
  document.getElementById('finalPrice').innerText='￥'+price.toFixed(2);
}

// 评论筛选
document.getElementById('reviewFilter').addEventListener('change',function(){
  let type=this.value;
  document.querySelectorAll('#reviewList li').forEach(li=>{
    if(type==='all'||li.dataset.type===type){li.style.display='list-item';}
    else{li.style.display='none';}
  });
});

// 模态购物车
function showCart(){
  updateFinalPrice();
  document.getElementById('cart-modal').classList.add('show');
}
function confirmPay(){
  let order={product:"LYF 新疆葵花籽 ×10包",price:document.getElementById('finalPrice').innerText};
  alert(JSON.stringify(order));
  document.getElementById('cart-modal').classList.remove('show');
}

// 随机推荐功能
function randomOptimization(){
  let products=["新疆葡萄干","内蒙古奶片","西北核桃仁"];
  let rec=products[Math.floor(Math.random()*products.length)];
  document.getElementById('randomRec').innerText=`为您随机推荐：${rec}`;
}
randomOptimization();
</script>

</body>
</html>