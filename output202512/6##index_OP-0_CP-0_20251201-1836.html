<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 春节香瓜子葵花子年货大促</title>
<style>
    body {
        margin: 0;
        font-family: "Microsoft YaHei", sans-serif;
        background-color: #fff;
        color: #333;
    }
    header {
        background-color: #E4393C;
        color: #fff;
        padding: 1rem;
        text-align: center;
    }
    header h1 {
        font-size: 1.5rem;
        margin: 0;
    }
    main {
        padding: 1rem;
    }
    .product-card {
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        margin-bottom: 1rem;
    }
    .product-image img {
        width: 100%;
        display: block;
    }
    .product-info {
        padding: 0.8rem;
    }
    .product-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    .product-spec {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0.5rem;
    }
    .product-selling-points {
        font-size: 0.9rem;
        color: #333;
        margin-bottom: 0.5rem;
    }
    .price-section {
        display: flex;
        align-items: baseline;
        margin-bottom: 0.5rem;
    }
    .price-current {
        font-size: 1.4rem;
        color: #E4393C;
        margin-right: 0.5rem;
        font-weight: bold;
    }
    .price-original {
        font-size: 0.9rem;
        color: #999;
        text-decoration: line-through;
    }
    .promotion-tag {
        display: inline-block;
        background-color: #FFD700;
        color: #E4393C;
        padding: 0.2rem 0.5rem;
        font-size: 0.8rem;
        border-radius: 4px;
        margin-top: 0.5rem;
    }
    .stock-info {
        font-size: 0.8rem;
        color: #E4393C;
        margin-top: 0.3rem;
    }
    .countdown {
        font-size: 0.9rem;
        color: #fff;
        background-color: #E4393C;
        padding: 0.4rem;
        border-radius: 4px;
        display: inline-block;
        margin-top: 0.5rem;
    }
    .quantity-selector {
        display: flex;
        align-items: center;
        margin-top: 0.5rem;
    }
    .quantity-selector button {
        padding: 0.4rem 0.8rem;
        font-size: 1rem;
        background-color: #f0f0f0;
        border: none;
        cursor: pointer;
    }
    .quantity-selector input {
        width: 40px;
        text-align: center;
        border: 1px solid #ccc;
        margin: 0 0.5rem;
        font-size: 1rem;
        padding: 0.2rem;
    }
    .add-to-cart {
        display: block;
        background-color: #E4393C;
        color: #fff;
        text-align: center;
        padding: 0.7rem;
        border-radius: 4px;
        font-size: 1rem;
        margin-top: 0.8rem;
        cursor: pointer;
    }
    .cart {
        margin-top: 1.5rem;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        padding: 1rem;
    }
    .cart h2 {
        font-size: 1.2rem;
        margin-bottom: 1rem;
    }
    .cart-items {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    .cart-items li {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid #f0f0f0;
        font-size: 0.9rem;
    }
    .cart-total {
        text-align: right;
        font-weight: bold;
        margin-top: 1rem;
    }
    .checkout-button {
        background-color: #E4393C;
        color: #fff;
        padding: 0.7rem;
        text-align: center;
        border-radius: 4px;
        margin-top: 0.8rem;
        cursor: pointer;
    }
    @media (min-width: 768px) {
        main {
            max-width: 600px;
            margin: auto;
        }
    }
</style>
</head>
<body>
<header>
    <h1>LYF 春节香瓜子葵花子大促</h1>
    <div id="countdown-timer" class="countdown">活动倒计时：00:00:00</div>
</header>
<main>
    <section class="product-card">
        <div class="product-image">
            <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="香瓜子葵花子">
        </div>
        <div class="product-info">
            <div class="product-title">香瓜子葵花子</div>
            <div class="product-spec">30g 小包装 / 10包组合装</div>
            <div class="product-selling-points">精选优质南瓜子与葵花子，香脆可口，春节必备零食。</div>
            <div class="price-section">
                <div class="price-current">¥16.9</div>
                <div class="price-original">¥29.9</div>
            </div>
            <div class="promotion-tag">限时立减 43%</div>
            <div class="stock-info" id="stock-info">库存紧张，仅剩 50 份</div>
            <div class="quantity-selector">
                <button id="decrease">-</button>
                <input type="number" id="quantity" value="1" min="1">
                <button id="increase">+</button>
            </div>
            <div class="add-to-cart" id="add-to-cart">加入购物车</div>
        </div>
    </section>
    <section class="cart">
        <h2>购物车</h2>
        <ul class="cart-items" id="cart-items"></ul>
        <div class="cart-total" id="cart-total">总价：¥0.00</div>
        <div class="checkout-button" id="checkout-button">立即结算</div>
    </section>
</main>
<script>
    const countdownElement = document.getElementById('countdown-timer');
    const endTime = new Date();
    endTime.setHours(endTime.getHours() + 1);
    function updateCountdown() {
        const now = new Date();
        const distance = endTime - now;
        if (distance <= 0) {
            countdownElement.textContent = '活动已结束';
            return;
        }
        const hours = Math.floor((distance / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((distance / (1000 * 60)) % 60);
        const seconds = Math.floor((distance / 1000) % 60);
        countdownElement.textContent = `活动倒计时：${String(hours).padStart(2,'0')}:${String(minutes).padStart(2,'0')}:${String(seconds).padStart(2,'0')}`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    const decreaseBtn = document.getElementById('decrease');
    const increaseBtn = document.getElementById('increase');
    const quantityInput = document.getElementById('quantity');
    decreaseBtn.addEventListener('click', () => {
        let value = parseInt(quantityInput.value);
        if (value > 1) {
            quantityInput.value = value - 1;
        }
    });
    increaseBtn.addEventListener('click', () => {
        let value = parseInt(quantityInput.value);
        quantityInput.value = value + 1;
    });

    const addToCartBtn = document.getElementById('add-to-cart');
    const cartItemsList = document.getElementById('cart-items');
    const cartTotalElement = document.getElementById('cart-total');
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function renderCart() {
        cartItemsList.innerHTML = '';
        let total = 0;
        cart.forEach((item, index) => {
            total += item.price * item.quantity;
            const li = document.createElement('li');
            li.innerHTML = `${item.name} x ${item.quantity} <span>¥${(item.price * item.quantity).toFixed(2)}</span>
                            <button data-index="${index}" class="remove-item" style="background:none;border:none;color:#E4393C;cursor:pointer;">删除</button>`;
            cartItemsList.appendChild(li);
        });
        cartTotalElement.textContent = `总价：¥${total.toFixed(2)}`;
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    addToCartBtn.addEventListener('click', () => {
        const quantity = parseInt(quantityInput.value);
        const product = {
            name: '香瓜子葵花子',
            price: 16.9,
            quantity: quantity
        };
        let found = false;
        cart.forEach(item => {
            if (item.name === product.name) {
                item.quantity += quantity;
                found = true;
            }
        });
        if (!found) {
            cart.push(product);
        }
        renderCart();
    });

    cartItemsList.addEventListener('click', (e) => {
        if (e.target.classList.contains('remove-item')) {
            const index = e.target.getAttribute('data-index');
            cart.splice(index, 1);
            renderCart();
        }
    });

    document.getElementById('checkout-button').addEventListener('click', () => {
        alert('结算功能暂未实现，感谢您的购买意向！');
    });

    renderCart();
</script>
</body>
</html>