<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LYF 春节年货大促 - 香瓜子葵花子</title>
<style>
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
    body {
        font-family: "Helvetica Neue", Arial, sans-serif;
        background-color: #fff7f0;
        color: #333;
    }
    header {
        background-color: #E4393C;
        padding: 1rem;
        text-align: center;
        color: #fff;
    }
    header h1 {
        font-size: 1.5rem;
    }
    .container {
        max-width: 600px;
        margin: auto;
        padding: 1rem;
    }
    .product-card {
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        margin-bottom: 1rem;
    }
    .product-image img {
        width: 100%;
        display: block;
    }
    .product-info {
        padding: 1rem;
    }
    .product-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    .product-spec {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 0.5rem;
    }
    .product-selling-points {
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
        color: #e4393c;
        font-weight: bold;
    }
    .price-section {
        display: flex;
        align-items: baseline;
        margin-bottom: 0.5rem;
    }
    .current-price {
        font-size: 1.4rem;
        color: #e4393c;
        margin-right: 0.5rem;
    }
    .original-price {
        font-size: 0.9rem;
        color: #999;
        text-decoration: line-through;
    }
    .promotion-tag {
        display: inline-block;
        background-color: #ff9800;
        color: #fff;
        font-size: 0.8rem;
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        margin-bottom: 0.5rem;
    }
    .stock-info {
        font-size: 0.8rem;
        color: #666;
        margin-bottom: 0.5rem;
    }
    .countdown {
        font-size: 0.9rem;
        color: #e4393c;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    .quantity-selector {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }
    .quantity-selector button {
        background-color: #e4393c;
        color: #fff;
        border: none;
        padding: 0.5rem;
        border-radius: 4px;
        cursor: pointer;
        width: 32px;
        height: 32px;
    }
    .quantity-selector span {
        margin: 0 0.5rem;
        font-size: 1rem;
    }
    .buy-buttons {
        display: flex;
        gap: 0.5rem;
    }
    .btn {
        flex: 1;
        padding: 0.75rem;
        font-size: 1rem;
        border-radius: 4px;
        border: none;
        cursor: pointer;
    }
    .btn-buy {
        background-color: #ff9800;
        color: #fff;
    }
    .btn-cart {
        background-color: #e4393c;
        color: #fff;
    }
    .cart-section {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        padding: 1rem;
        margin-top: 1rem;
    }
    .cart-title {
        font-size: 1.1rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    .cart-list {
        list-style: none;
        margin-bottom: 1rem;
    }
    .cart-list li {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid #eee;
        font-size: 0.9rem;
    }
    .cart-buttons {
        display: flex;
        gap: 0.5rem;
    }
    .btn-clear, .btn-checkout {
        flex: 1;
        padding: 0.5rem;
        border-radius: 4px;
        border: none;
        cursor: pointer;
        font-size: 0.9rem;
    }
    .btn-clear {
        background-color: #ccc;
        color: #333;
    }
    .btn-checkout {
        background-color: #e4393c;
        color: #fff;
    }
    @media (max-width: 480px) {
        .product-title { font-size: 1rem; }
        .current-price { font-size: 1.2rem; }
    }
</style>
</head>
<body>
<header>
    <h1>LYF 春节年货大促</h1>
</header>
<div class="container">
    <section class="product-card">
        <div class="product-image">
            <img src="https://gw.alicdn.com/imgextra/i3/3195305016/O1CN01FpNUtD1mvNZJLQUHu_!!3195305016.jpg_Q75.jpg_.webp" alt="香瓜子葵花子">
        </div>
        <div class="product-info">
            <div class="product-title">香瓜子葵花子 30g 小包装/10包组合装</div>
            <div class="product-spec">规格：30g/包，10包组合装</div>
            <div class="product-selling-points">新鲜香脆·精选葵花籽·春节必备零食</div>
            <div class="price-section">
                <div class="current-price">¥16.9</div>
                <div class="original-price">¥29.9</div>
            </div>
            <div class="promotion-tag">限时优惠</div>
            <div class="stock-info">仅剩 25 份，欲购从速！</div>
            <div class="countdown">距离优惠结束：<span id="countdown"></span></div>
            <div class="quantity-selector">
                <button id="decrease">-</button>
                <span id="quantity">1</span>
                <button id="increase">+</button>
            </div>
            <div class="buy-buttons">
                <button class="btn btn-buy" id="buy-now">立即购买</button>
                <button class="btn btn-cart" id="add-to-cart">加入购物车</button>
            </div>
        </div>
    </section>

    <section class="cart-section">
        <div class="cart-title">购物车</div>
        <ul class="cart-list" id="cart-list"></ul>
        <div class="cart-buttons">
            <button class="btn-clear" id="clear-cart">清空购物车</button>
            <button class="btn-checkout" id="checkout">结算</button>
        </div>
    </section>
</div>
<script>
    const quantityEl = document.getElementById('quantity');
    const decreaseBtn = document.getElementById('decrease');
    const increaseBtn = document.getElementById('increase');
    const addToCartBtn = document.getElementById('add-to-cart');
    const buyNowBtn = document.getElementById('buy-now');
    const cartListEl = document.getElementById('cart-list');
    const clearCartBtn = document.getElementById('clear-cart');
    const checkoutBtn = document.getElementById('checkout');
    const countdownEl = document.getElementById('countdown');

    let quantity = 1;
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const product = {
        name: '香瓜子葵花子 30g 小包装/10包组合装',
        price: 16.9
    };

    function updateQuantityDisplay() {
        quantityEl.textContent = quantity;
    }

    decreaseBtn.addEventListener('click', () => {
        if (quantity > 1) {
            quantity--;
            updateQuantityDisplay();
        }
    });

    increaseBtn.addEventListener('click', () => {
        quantity++;
        updateQuantityDisplay();
    });

    function renderCart() {
        cartListEl.innerHTML = '';
        cart.forEach((item, index) => {
            const li = document.createElement('li');
            li.innerHTML = `${item.name} x ${item.quantity} <span>¥${(item.price * item.quantity).toFixed(2)}</span>`;
            cartListEl.appendChild(li);
        });
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    addToCartBtn.addEventListener('click', () => {
        const existingItem = cart.find(i => i.name === product.name);
        if (existingItem) {
            existingItem.quantity += quantity;
        } else {
            cart.push({ ...product, quantity });
        }
        renderCart();
    });

    buyNowBtn.addEventListener('click', () => {
        alert(`已下单 ${product.name} x${quantity}，总价 ¥${(product.price * quantity).toFixed(2)}。`);
    });

    clearCartBtn.addEventListener('click', () => {
        cart = [];
        renderCart();
    });

    checkoutBtn.addEventListener('click', () => {
        if (cart.length === 0) {
            alert('购物车为空！');
            return;
        }
        alert(`结算成功！总价 ¥${cart.reduce((total, item) => total + item.price * item.quantity, 0).toFixed(2)}`);
        cart = [];
        renderCart();
    });

    function startCountdown(durationHours) {
        let endTime = Date.now() + durationHours * 60 * 60 * 1000;
        function update() {
            let now = Date.now();
            let diff = endTime - now;
            if (diff <= 0) {
                countdownEl.textContent = "活动已结束";
                return;
            }
            let hours = Math.floor(diff / (1000 * 60 * 60));
            let minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((diff % (1000 * 60)) / 1000);
            countdownEl.textContent = `${hours}小时 ${minutes}分 ${seconds}秒`;
            setTimeout(update, 1000);
        }
        update();
    }

    startCountdown(1.5); // 1.5小时限时

    renderCart();
    updateQuantityDisplay();
</script>
</body>
</html>